{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\garci\\\\Downloads\\\\nimbus-login-app\\\\src\\\\componentes\\\\ReportarAsistencia.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { supabase } from \"../supabase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReportarAsistencia({\n  usuario\n}) {\n  _s();\n  const [datosSupervisor, setDatosSupervisor] = useState(null);\n  const [modoEntrada, setModoEntrada] = useState(true); // true = Entrada, false = Salida\n  const [guardando, setGuardando] = useState(false);\n  const [reporteId, setReporteId] = useState(null);\n  const [horasExtras, setHorasExtras] = useState(0);\n  const [razonHorasExtras, setRazonHorasExtras] = useState(\"\");\n  const [formularioBloqueado, setFormularioBloqueado] = useState(false); // nuevo estado\n\n  useEffect(() => {\n    const cargarDatos = async () => {\n      const {\n        data: supervisorData,\n        error\n      } = await supabase.from(\"registrodepersonal\").select(\"nombrecompleto, bonificacion, viaticos_diarios\").eq(\"id_usuario\", usuario.id);\n      if (supervisorData && supervisorData.length > 0) {\n        setDatosSupervisor(supervisorData[0]);\n\n        // 🔎 Revisamos si ya tiene reporte con salida hoy\n        const hoy = new Date().toISOString().slice(0, 10);\n        const {\n          data: reportesHoy,\n          error: errorReporte\n        } = await supabase.from(\"reportesdiarios\").select(\"id, hora_salida\").eq(\"id_usuario\", usuario.id).eq(\"fechareporte\", hoy);\n        if (reportesHoy && reportesHoy.length > 0) {\n          const reporte = reportesHoy[0];\n          if (reporte.hora_salida) {\n            setFormularioBloqueado(true); // 👈 Bloqueamos el formulario porque ya hizo salida\n          } else {\n            setReporteId(reporte.id);\n            setModoEntrada(false); // 👈 Ya hizo entrada, solo falta salida\n          }\n        }\n      } else {\n        console.error(error || \"No se encontró el supervisor en registrodepersonal\");\n      }\n    };\n    cargarDatos();\n  }, [usuario]);\n  const obtenerUbicacion = () => {\n    return new Promise(resolve => {\n      if (!navigator.geolocation) {\n        resolve(\"No disponible\");\n      } else {\n        navigator.geolocation.getCurrentPosition(pos => {\n          const {\n            latitude,\n            longitude\n          } = pos.coords;\n          resolve(`Lat: ${latitude}, Lng: ${longitude}`);\n        }, () => {\n          resolve(\"No disponible\");\n        });\n      }\n    });\n  };\n  const handleEntrada = async () => {\n    setGuardando(true);\n    const ubicacion = await obtenerUbicacion();\n    const nuevoReporte = {\n      nombretrabajador: datosSupervisor.nombrecompleto,\n      bono: datosSupervisor.bonificacion,\n      viaticos: datosSupervisor.viaticos_diarios,\n      horas_extras: 0,\n      fechareporte: new Date().toISOString().slice(0, 10),\n      hora_entrada: new Date().toLocaleTimeString(),\n      ubicacion_entrada: ubicacion,\n      reportadopor: usuario.usuario,\n      id_usuario: usuario.id\n    };\n    const {\n      data,\n      error\n    } = await supabase.from(\"reportesdiarios\").insert([nuevoReporte]).select();\n    if (!error && data && data.length > 0) {\n      alert(\"Entrada registrada ✅\");\n      setReporteId(data[0].id);\n      setModoEntrada(false);\n    } else {\n      console.error(error);\n      alert(\"Hubo un error al guardar la entrada\");\n    }\n    setGuardando(false);\n  };\n  const handleSalida = async () => {\n    if (!reporteId) {\n      alert(\"No se encontró el reporte para registrar la salida\");\n      return;\n    }\n    setGuardando(true);\n    const ubicacion = await obtenerUbicacion();\n    const {\n      error\n    } = await supabase.from(\"reportesdiarios\").update({\n      hora_salida: new Date().toLocaleTimeString(),\n      ubicacion_salida: ubicacion,\n      horas_extras: horasExtras,\n      razon_horas_extras: horasExtras > 0 ? razonHorasExtras : null\n    }).eq(\"id\", reporteId);\n    if (!error) {\n      alert(\"Salida registrada ✅\");\n      setModoEntrada(true);\n      setReporteId(null);\n      setHorasExtras(0);\n      setRazonHorasExtras(\"\");\n      setFormularioBloqueado(true); // 👈 Bloqueamos el formulario después de salida\n    } else {\n      console.error(error);\n      alert(\"Hubo un error al registrar la salida\");\n    }\n    setGuardando(false);\n  };\n\n  // 👇🏽 Mostramos mensaje de bloqueo si ya hizo salida hoy\n  if (formularioBloqueado) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-xl shadow-md w-full max-w-md mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-purple-800 mb-4\",\n        children: \"\\uD83D\\uDCDD Reportar Asistencia\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"\\u2705 Asistencia completada hoy. Vuelve ma\\xF1ana.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded-xl shadow-md w-full max-w-md mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-bold text-purple-800 mb-4\",\n      children: \"\\uD83D\\uDCDD Reportar Asistencia\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), datosSupervisor ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Nombre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: datosSupervisor.nombrecompleto,\n          disabled: true,\n          className: \"border p-2 rounded w-full bg-gray-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Bono diario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: datosSupervisor.bonificacion,\n          disabled: true,\n          className: \"border p-2 rounded w-full bg-gray-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Vi\\xE1ticos diarios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: datosSupervisor.viaticos_diarios,\n          disabled: true,\n          className: \"border p-2 rounded w-full bg-gray-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this), !modoEntrada && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Horas extras\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: horasExtras,\n            onChange: e => setHorasExtras(Number(e.target.value)),\n            disabled: usuario.rol !== \"supervisor\",\n            className: \"border p-2 rounded w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 15\n        }, this), horasExtras > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Raz\\xF3n de horas extras\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: razonHorasExtras,\n            onChange: e => setRazonHorasExtras(e.target.value),\n            disabled: usuario.rol !== \"supervisor\",\n            className: \"border p-2 rounded w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: modoEntrada ? handleEntrada : handleSalida,\n        disabled: guardando,\n        className: `${modoEntrada ? \"bg-green-600\" : \"bg-red-600\"} text-white py-2 rounded hover:opacity-90`,\n        children: guardando ? \"Guardando...\" : modoEntrada ? \"Entrada\" : \"Salida\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500\",\n      children: \"Cargando datos...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n}\n_s(ReportarAsistencia, \"TV4rY/EJzfl6lA4CAq7Bi4PLKKQ=\");\n_c = ReportarAsistencia;\nvar _c;\n$RefreshReg$(_c, \"ReportarAsistencia\");","map":{"version":3,"names":["useState","useEffect","supabase","jsxDEV","_jsxDEV","ReportarAsistencia","usuario","_s","datosSupervisor","setDatosSupervisor","modoEntrada","setModoEntrada","guardando","setGuardando","reporteId","setReporteId","horasExtras","setHorasExtras","razonHorasExtras","setRazonHorasExtras","formularioBloqueado","setFormularioBloqueado","cargarDatos","data","supervisorData","error","from","select","eq","id","length","hoy","Date","toISOString","slice","reportesHoy","errorReporte","reporte","hora_salida","console","obtenerUbicacion","Promise","resolve","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","coords","handleEntrada","ubicacion","nuevoReporte","nombretrabajador","nombrecompleto","bono","bonificacion","viaticos","viaticos_diarios","horas_extras","fechareporte","hora_entrada","toLocaleTimeString","ubicacion_entrada","reportadopor","id_usuario","insert","alert","handleSalida","update","ubicacion_salida","razon_horas_extras","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","disabled","onChange","e","Number","target","rol","onClick","_c","$RefreshReg$"],"sources":["C:/Users/garci/Downloads/nimbus-login-app/src/componentes/ReportarAsistencia.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { supabase } from \"../supabase\";\r\n\r\nexport default function ReportarAsistencia({ usuario }) {\r\n  const [datosSupervisor, setDatosSupervisor] = useState(null);\r\n  const [modoEntrada, setModoEntrada] = useState(true); // true = Entrada, false = Salida\r\n  const [guardando, setGuardando] = useState(false);\r\n  const [reporteId, setReporteId] = useState(null);\r\n  const [horasExtras, setHorasExtras] = useState(0);\r\n  const [razonHorasExtras, setRazonHorasExtras] = useState(\"\");\r\n  const [formularioBloqueado, setFormularioBloqueado] = useState(false); // nuevo estado\r\n\r\n  useEffect(() => {\r\n    const cargarDatos = async () => {\r\n      const { data: supervisorData, error } = await supabase\r\n        .from(\"registrodepersonal\")\r\n        .select(\"nombrecompleto, bonificacion, viaticos_diarios\")\r\n        .eq(\"id_usuario\", usuario.id);\r\n\r\n      if (supervisorData && supervisorData.length > 0) {\r\n        setDatosSupervisor(supervisorData[0]);\r\n\r\n        // 🔎 Revisamos si ya tiene reporte con salida hoy\r\n        const hoy = new Date().toISOString().slice(0, 10);\r\n        const { data: reportesHoy, error: errorReporte } = await supabase\r\n          .from(\"reportesdiarios\")\r\n          .select(\"id, hora_salida\")\r\n          .eq(\"id_usuario\", usuario.id)\r\n          .eq(\"fechareporte\", hoy);\r\n\r\n        if (reportesHoy && reportesHoy.length > 0) {\r\n          const reporte = reportesHoy[0];\r\n          if (reporte.hora_salida) {\r\n            setFormularioBloqueado(true); // 👈 Bloqueamos el formulario porque ya hizo salida\r\n          } else {\r\n            setReporteId(reporte.id);\r\n            setModoEntrada(false); // 👈 Ya hizo entrada, solo falta salida\r\n          }\r\n        }\r\n      } else {\r\n        console.error(error || \"No se encontró el supervisor en registrodepersonal\");\r\n      }\r\n    };\r\n\r\n    cargarDatos();\r\n  }, [usuario]);\r\n\r\n  const obtenerUbicacion = () => {\r\n    return new Promise((resolve) => {\r\n      if (!navigator.geolocation) {\r\n        resolve(\"No disponible\");\r\n      } else {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (pos) => {\r\n            const { latitude, longitude } = pos.coords;\r\n            resolve(`Lat: ${latitude}, Lng: ${longitude}`);\r\n          },\r\n          () => {\r\n            resolve(\"No disponible\");\r\n          }\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleEntrada = async () => {\r\n    setGuardando(true);\r\n    const ubicacion = await obtenerUbicacion();\r\n\r\n    const nuevoReporte = {\r\n      nombretrabajador: datosSupervisor.nombrecompleto,\r\n      bono: datosSupervisor.bonificacion,\r\n      viaticos: datosSupervisor.viaticos_diarios,\r\n      horas_extras: 0,\r\n      fechareporte: new Date().toISOString().slice(0, 10),\r\n      hora_entrada: new Date().toLocaleTimeString(),\r\n      ubicacion_entrada: ubicacion,\r\n      reportadopor: usuario.usuario,\r\n      id_usuario: usuario.id,\r\n    };\r\n\r\n    const { data, error } = await supabase.from(\"reportesdiarios\").insert([nuevoReporte]).select();\r\n\r\n    if (!error && data && data.length > 0) {\r\n      alert(\"Entrada registrada ✅\");\r\n      setReporteId(data[0].id);\r\n      setModoEntrada(false);\r\n    } else {\r\n      console.error(error);\r\n      alert(\"Hubo un error al guardar la entrada\");\r\n    }\r\n\r\n    setGuardando(false);\r\n  };\r\n\r\n  const handleSalida = async () => {\r\n    if (!reporteId) {\r\n      alert(\"No se encontró el reporte para registrar la salida\");\r\n      return;\r\n    }\r\n\r\n    setGuardando(true);\r\n    const ubicacion = await obtenerUbicacion();\r\n\r\n    const { error } = await supabase\r\n      .from(\"reportesdiarios\")\r\n      .update({\r\n        hora_salida: new Date().toLocaleTimeString(),\r\n        ubicacion_salida: ubicacion,\r\n        horas_extras: horasExtras,\r\n        razon_horas_extras: horasExtras > 0 ? razonHorasExtras : null,\r\n      })\r\n      .eq(\"id\", reporteId);\r\n\r\n    if (!error) {\r\n      alert(\"Salida registrada ✅\");\r\n      setModoEntrada(true);\r\n      setReporteId(null);\r\n      setHorasExtras(0);\r\n      setRazonHorasExtras(\"\");\r\n      setFormularioBloqueado(true); // 👈 Bloqueamos el formulario después de salida\r\n    } else {\r\n      console.error(error);\r\n      alert(\"Hubo un error al registrar la salida\");\r\n    }\r\n\r\n    setGuardando(false);\r\n  };\r\n\r\n  // 👇🏽 Mostramos mensaje de bloqueo si ya hizo salida hoy\r\n  if (formularioBloqueado) {\r\n    return (\r\n      <div className=\"bg-white p-4 rounded-xl shadow-md w-full max-w-md mx-auto\">\r\n        <h3 className=\"text-xl font-bold text-purple-800 mb-4\">📝 Reportar Asistencia</h3>\r\n        <p className=\"text-gray-500\">✅ Asistencia completada hoy. Vuelve mañana.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded-xl shadow-md w-full max-w-md mx-auto\">\r\n      <h3 className=\"text-xl font-bold text-purple-800 mb-4\">📝 Reportar Asistencia</h3>\r\n\r\n      {datosSupervisor ? (\r\n        <div className=\"grid gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Nombre</label>\r\n            <input\r\n              type=\"text\"\r\n              value={datosSupervisor.nombrecompleto}\r\n              disabled\r\n              className=\"border p-2 rounded w-full bg-gray-100\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Bono diario</label>\r\n            <input\r\n              type=\"number\"\r\n              value={datosSupervisor.bonificacion}\r\n              disabled\r\n              className=\"border p-2 rounded w-full bg-gray-100\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Viáticos diarios</label>\r\n            <input\r\n              type=\"number\"\r\n              value={datosSupervisor.viaticos_diarios}\r\n              disabled\r\n              className=\"border p-2 rounded w-full bg-gray-100\"\r\n            />\r\n          </div>\r\n\r\n          {/* Mostrar horas extras y razón solo en modo salida */}\r\n          {!modoEntrada && (\r\n            <div className=\"grid gap-2\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700\">Horas extras</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={horasExtras}\r\n                  onChange={(e) => setHorasExtras(Number(e.target.value))}\r\n                  disabled={usuario.rol !== \"supervisor\"}\r\n                  className=\"border p-2 rounded w-full\"\r\n                />\r\n              </div>\r\n\r\n              {horasExtras > 0 && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Razón de horas extras</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={razonHorasExtras}\r\n                    onChange={(e) => setRazonHorasExtras(e.target.value)}\r\n                    disabled={usuario.rol !== \"supervisor\"}\r\n                    className=\"border p-2 rounded w-full\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            onClick={modoEntrada ? handleEntrada : handleSalida}\r\n            disabled={guardando}\r\n            className={`${\r\n              modoEntrada ? \"bg-green-600\" : \"bg-red-600\"\r\n            } text-white py-2 rounded hover:opacity-90`}\r\n          >\r\n            {guardando\r\n              ? \"Guardando...\"\r\n              : modoEntrada\r\n              ? \"Entrada\"\r\n              : \"Salida\"}\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <p className=\"text-gray-500\">Cargando datos...</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,eAAe,SAASC,kBAAkBA,CAAC;EAAEC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EACtD,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACU,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EACtD,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACkB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACoB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;;EAEvEC,SAAS,CAAC,MAAM;IACd,MAAMqB,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,MAAM;QAAEC,IAAI,EAAEC,cAAc;QAAEC;MAAM,CAAC,GAAG,MAAMvB,QAAQ,CACnDwB,IAAI,CAAC,oBAAoB,CAAC,CAC1BC,MAAM,CAAC,gDAAgD,CAAC,CACxDC,EAAE,CAAC,YAAY,EAAEtB,OAAO,CAACuB,EAAE,CAAC;MAE/B,IAAIL,cAAc,IAAIA,cAAc,CAACM,MAAM,GAAG,CAAC,EAAE;QAC/CrB,kBAAkB,CAACe,cAAc,CAAC,CAAC,CAAC,CAAC;;QAErC;QACA,MAAMO,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;QACjD,MAAM;UAAEX,IAAI,EAAEY,WAAW;UAAEV,KAAK,EAAEW;QAAa,CAAC,GAAG,MAAMlC,QAAQ,CAC9DwB,IAAI,CAAC,iBAAiB,CAAC,CACvBC,MAAM,CAAC,iBAAiB,CAAC,CACzBC,EAAE,CAAC,YAAY,EAAEtB,OAAO,CAACuB,EAAE,CAAC,CAC5BD,EAAE,CAAC,cAAc,EAAEG,GAAG,CAAC;QAE1B,IAAII,WAAW,IAAIA,WAAW,CAACL,MAAM,GAAG,CAAC,EAAE;UACzC,MAAMO,OAAO,GAAGF,WAAW,CAAC,CAAC,CAAC;UAC9B,IAAIE,OAAO,CAACC,WAAW,EAAE;YACvBjB,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC;UAChC,CAAC,MAAM;YACLN,YAAY,CAACsB,OAAO,CAACR,EAAE,CAAC;YACxBlB,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;UACzB;QACF;MACF,CAAC,MAAM;QACL4B,OAAO,CAACd,KAAK,CAACA,KAAK,IAAI,oDAAoD,CAAC;MAC9E;IACF,CAAC;IAEDH,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAAChB,OAAO,CAAC,CAAC;EAEb,MAAMkC,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;MAC9B,IAAI,CAACC,SAAS,CAACC,WAAW,EAAE;QAC1BF,OAAO,CAAC,eAAe,CAAC;MAC1B,CAAC,MAAM;QACLC,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACrCC,GAAG,IAAK;UACP,MAAM;YAAEC,QAAQ;YAAEC;UAAU,CAAC,GAAGF,GAAG,CAACG,MAAM;UAC1CP,OAAO,CAAC,QAAQK,QAAQ,UAAUC,SAAS,EAAE,CAAC;QAChD,CAAC,EACD,MAAM;UACJN,OAAO,CAAC,eAAe,CAAC;QAC1B,CACF,CAAC;MACH;IACF,CAAC,CAAC;EACJ,CAAC;EAED,MAAMQ,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChCrC,YAAY,CAAC,IAAI,CAAC;IAClB,MAAMsC,SAAS,GAAG,MAAMX,gBAAgB,CAAC,CAAC;IAE1C,MAAMY,YAAY,GAAG;MACnBC,gBAAgB,EAAE7C,eAAe,CAAC8C,cAAc;MAChDC,IAAI,EAAE/C,eAAe,CAACgD,YAAY;MAClCC,QAAQ,EAAEjD,eAAe,CAACkD,gBAAgB;MAC1CC,YAAY,EAAE,CAAC;MACfC,YAAY,EAAE,IAAI5B,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;MACnD2B,YAAY,EAAE,IAAI7B,IAAI,CAAC,CAAC,CAAC8B,kBAAkB,CAAC,CAAC;MAC7CC,iBAAiB,EAAEZ,SAAS;MAC5Ba,YAAY,EAAE1D,OAAO,CAACA,OAAO;MAC7B2D,UAAU,EAAE3D,OAAO,CAACuB;IACtB,CAAC;IAED,MAAM;MAAEN,IAAI;MAAEE;IAAM,CAAC,GAAG,MAAMvB,QAAQ,CAACwB,IAAI,CAAC,iBAAiB,CAAC,CAACwC,MAAM,CAAC,CAACd,YAAY,CAAC,CAAC,CAACzB,MAAM,CAAC,CAAC;IAE9F,IAAI,CAACF,KAAK,IAAIF,IAAI,IAAIA,IAAI,CAACO,MAAM,GAAG,CAAC,EAAE;MACrCqC,KAAK,CAAC,sBAAsB,CAAC;MAC7BpD,YAAY,CAACQ,IAAI,CAAC,CAAC,CAAC,CAACM,EAAE,CAAC;MACxBlB,cAAc,CAAC,KAAK,CAAC;IACvB,CAAC,MAAM;MACL4B,OAAO,CAACd,KAAK,CAACA,KAAK,CAAC;MACpB0C,KAAK,CAAC,qCAAqC,CAAC;IAC9C;IAEAtD,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,MAAMuD,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACtD,SAAS,EAAE;MACdqD,KAAK,CAAC,oDAAoD,CAAC;MAC3D;IACF;IAEAtD,YAAY,CAAC,IAAI,CAAC;IAClB,MAAMsC,SAAS,GAAG,MAAMX,gBAAgB,CAAC,CAAC;IAE1C,MAAM;MAAEf;IAAM,CAAC,GAAG,MAAMvB,QAAQ,CAC7BwB,IAAI,CAAC,iBAAiB,CAAC,CACvB2C,MAAM,CAAC;MACN/B,WAAW,EAAE,IAAIN,IAAI,CAAC,CAAC,CAAC8B,kBAAkB,CAAC,CAAC;MAC5CQ,gBAAgB,EAAEnB,SAAS;MAC3BQ,YAAY,EAAE3C,WAAW;MACzBuD,kBAAkB,EAAEvD,WAAW,GAAG,CAAC,GAAGE,gBAAgB,GAAG;IAC3D,CAAC,CAAC,CACDU,EAAE,CAAC,IAAI,EAAEd,SAAS,CAAC;IAEtB,IAAI,CAACW,KAAK,EAAE;MACV0C,KAAK,CAAC,qBAAqB,CAAC;MAC5BxD,cAAc,CAAC,IAAI,CAAC;MACpBI,YAAY,CAAC,IAAI,CAAC;MAClBE,cAAc,CAAC,CAAC,CAAC;MACjBE,mBAAmB,CAAC,EAAE,CAAC;MACvBE,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC;IAChC,CAAC,MAAM;MACLkB,OAAO,CAACd,KAAK,CAACA,KAAK,CAAC;MACpB0C,KAAK,CAAC,sCAAsC,CAAC;IAC/C;IAEAtD,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;;EAED;EACA,IAAIO,mBAAmB,EAAE;IACvB,oBACEhB,OAAA;MAAKoE,SAAS,EAAC,2DAA2D;MAAAC,QAAA,gBACxErE,OAAA;QAAIoE,SAAS,EAAC,wCAAwC;QAAAC,QAAA,EAAC;MAAsB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClFzE,OAAA;QAAGoE,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAC;MAA2C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzE,CAAC;EAEV;EAEA,oBACEzE,OAAA;IAAKoE,SAAS,EAAC,2DAA2D;IAAAC,QAAA,gBACxErE,OAAA;MAAIoE,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAsB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAEjFrE,eAAe,gBACdJ,OAAA;MAAKoE,SAAS,EAAC,YAAY;MAAAC,QAAA,gBACzBrE,OAAA;QAAAqE,QAAA,gBACErE,OAAA;UAAOoE,SAAS,EAAC,yCAAyC;UAAAC,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACzEzE,OAAA;UACE0E,IAAI,EAAC,MAAM;UACXC,KAAK,EAAEvE,eAAe,CAAC8C,cAAe;UACtC0B,QAAQ;UACRR,SAAS,EAAC;QAAuC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENzE,OAAA;QAAAqE,QAAA,gBACErE,OAAA;UAAOoE,SAAS,EAAC,yCAAyC;UAAAC,QAAA,EAAC;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC9EzE,OAAA;UACE0E,IAAI,EAAC,QAAQ;UACbC,KAAK,EAAEvE,eAAe,CAACgD,YAAa;UACpCwB,QAAQ;UACRR,SAAS,EAAC;QAAuC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENzE,OAAA;QAAAqE,QAAA,gBACErE,OAAA;UAAOoE,SAAS,EAAC,yCAAyC;UAAAC,QAAA,EAAC;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACnFzE,OAAA;UACE0E,IAAI,EAAC,QAAQ;UACbC,KAAK,EAAEvE,eAAe,CAACkD,gBAAiB;UACxCsB,QAAQ;UACRR,SAAS,EAAC;QAAuC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EAGL,CAACnE,WAAW,iBACXN,OAAA;QAAKoE,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBrE,OAAA;UAAAqE,QAAA,gBACErE,OAAA;YAAOoE,SAAS,EAAC,yCAAyC;YAAAC,QAAA,EAAC;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC/EzE,OAAA;YACE0E,IAAI,EAAC,QAAQ;YACbC,KAAK,EAAE/D,WAAY;YACnBiE,QAAQ,EAAGC,CAAC,IAAKjE,cAAc,CAACkE,MAAM,CAACD,CAAC,CAACE,MAAM,CAACL,KAAK,CAAC,CAAE;YACxDC,QAAQ,EAAE1E,OAAO,CAAC+E,GAAG,KAAK,YAAa;YACvCb,SAAS,EAAC;UAA2B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,EAEL7D,WAAW,GAAG,CAAC,iBACdZ,OAAA;UAAAqE,QAAA,gBACErE,OAAA;YAAOoE,SAAS,EAAC,yCAAyC;YAAAC,QAAA,EAAC;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxFzE,OAAA;YACE0E,IAAI,EAAC,MAAM;YACXC,KAAK,EAAE7D,gBAAiB;YACxB+D,QAAQ,EAAGC,CAAC,IAAK/D,mBAAmB,CAAC+D,CAAC,CAACE,MAAM,CAACL,KAAK,CAAE;YACrDC,QAAQ,EAAE1E,OAAO,CAAC+E,GAAG,KAAK,YAAa;YACvCb,SAAS,EAAC;UAA2B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN,eAEDzE,OAAA;QACEkF,OAAO,EAAE5E,WAAW,GAAGwC,aAAa,GAAGkB,YAAa;QACpDY,QAAQ,EAAEpE,SAAU;QACpB4D,SAAS,EAAE,GACT9D,WAAW,GAAG,cAAc,GAAG,YAAY,2CACD;QAAA+D,QAAA,EAE3C7D,SAAS,GACN,cAAc,GACdF,WAAW,GACX,SAAS,GACT;MAAQ;QAAAgE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,gBAENzE,OAAA;MAAGoE,SAAS,EAAC,eAAe;MAAAC,QAAA,EAAC;IAAiB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAClD;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACtE,EAAA,CA5NuBF,kBAAkB;AAAAkF,EAAA,GAAlBlF,kBAAkB;AAAA,IAAAkF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}