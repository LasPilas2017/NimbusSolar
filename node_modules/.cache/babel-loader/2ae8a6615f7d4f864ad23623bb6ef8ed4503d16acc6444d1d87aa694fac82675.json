{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\garci\\\\Downloads\\\\nimbus-login-app\\\\src\\\\componentes\\\\personal\\\\ReportarAsistencia.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { supabase } from \"../../supabase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReportarAsistencia({\n  usuario,\n  onCerrar\n}) {\n  _s();\n  const [datosSupervisor, setDatosSupervisor] = useState(null);\n  const [modoEntrada, setModoEntrada] = useState(true); // true = Entrada, false = Salida\n  const [guardando, setGuardando] = useState(false);\n  const [reporteId, setReporteId] = useState(null);\n  const [horasExtras, setHorasExtras] = useState(0);\n  const [razonHorasExtras, setRazonHorasExtras] = useState(\"\");\n  const [formularioBloqueado, setFormularioBloqueado] = useState(false);\n\n  // ... tu lógica y componentes internos\n\n  useEffect(() => {\n    const cargarDatos = async () => {\n      const {\n        data: supervisorData,\n        error\n      } = await supabase.from(\"registrodepersonal\").select(\"nombrecompleto, bonificacion, viaticos_diarios\").eq(\"id_usuario\", usuario.id);\n      if (supervisorData && supervisorData.length > 0) {\n        setDatosSupervisor(supervisorData[0]);\n        const hoy = new Date().toISOString().slice(0, 10);\n        const {\n          data: reportesHoy\n        } = await supabase.from(\"reportesdiarios\").select(\"id, hora_salida\").eq(\"id_usuario\", usuario.id).eq(\"fechareporte\", hoy);\n        if (reportesHoy && reportesHoy.length > 0) {\n          const reporte = reportesHoy[0];\n          if (reporte.hora_salida) {\n            setFormularioBloqueado(true);\n          } else {\n            setReporteId(reporte.id);\n            setModoEntrada(false);\n          }\n        }\n      } else {\n        console.error(error || \"No se encontró el supervisor en registrodepersonal\");\n      }\n    };\n    cargarDatos();\n  }, [usuario]);\n  const obtenerUbicacion = () => {\n    return new Promise(resolve => {\n      if (!navigator.geolocation) {\n        resolve(\"No disponible\");\n      } else {\n        navigator.geolocation.getCurrentPosition(pos => {\n          const {\n            latitude,\n            longitude\n          } = pos.coords;\n          resolve(`Lat: ${latitude}, Lng: ${longitude}`);\n        }, () => {\n          resolve(\"No disponible\");\n        });\n      }\n    });\n  };\n  const handleEntrada = async () => {\n    setGuardando(true);\n    const ubicacion = await obtenerUbicacion();\n    const nuevoReporte = {\n      nombretrabajador: datosSupervisor.nombrecompleto,\n      bono: datosSupervisor.bonificacion,\n      viaticos_diarios: datosSupervisor.viaticos_diarios,\n      horas_extras: 0,\n      fechareporte: new Date().toISOString().slice(0, 10),\n      hora_entrada: new Date().toLocaleTimeString(),\n      ubicacion_entrada: ubicacion,\n      reportadopor: usuario.usuario,\n      id_usuario: usuario.id\n    };\n    const {\n      data,\n      error\n    } = await supabase.from(\"reportesdiarios\").insert([nuevoReporte]).select();\n    if (!error && data && data.length > 0) {\n      alert(\"Entrada registrada ✅\");\n      setReporteId(data[0].id);\n      setModoEntrada(false);\n    } else {\n      console.error(error);\n      alert(\"Hubo un error al guardar la entrada\");\n    }\n    setGuardando(false);\n  };\n  const handleSalida = async () => {\n    if (!reporteId) {\n      alert(\"No se encontró el reporte para registrar la salida\");\n      return;\n    }\n\n    // Validar que si hay horas extras, se ingrese la razón\n    if (horasExtras > 0 && razonHorasExtras.trim() === \"\") {\n      alert(\"Por favor, ingresa la razón de las horas extras\");\n      return;\n    }\n    setGuardando(true);\n    const ubicacion = await obtenerUbicacion();\n    const {\n      error\n    } = await supabase.from(\"reportesdiarios\").update({\n      hora_salida: new Date().toLocaleTimeString(),\n      ubicacion_salida: ubicacion,\n      horas_extras: horasExtras,\n      razon_horas_extras: horasExtras > 0 ? razonHorasExtras : null\n    }).eq(\"id\", reporteId);\n    if (!error) {\n      alert(\"Salida registrada ✅\");\n      setModoEntrada(true);\n      setReporteId(null);\n      setHorasExtras(0);\n      setRazonHorasExtras(\"\");\n      setFormularioBloqueado(true);\n    } else {\n      console.error(error);\n      alert(\"Hubo un error al registrar la salida\");\n    }\n    setGuardando(false);\n  };\n  const cerrarFormulario = () => {\n    if (onCerrar) {\n      onCerrar();\n    }\n  };\n\n  // Si el formulario está bloqueado (ya hizo entrada y salida)\n  if (formularioBloqueado) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-xl shadow-md w-full max-w-md mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-purple-800 mb-4\",\n        children: \"\\uD83D\\uDCDD Reportar Asistencia\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 mb-4\",\n        children: \"\\u2705 Asistencia completada hoy. Vuelve ma\\xF1ana.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: cerrarFormulario,\n        className: \"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500 transition\",\n        children: \"Cerrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-4 rounded-xl shadow-md w-full max-w-md mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-bold text-purple-800 mb-4\",\n      children: \"\\uD83D\\uDCDD Reportar Asistencia\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), datosSupervisor ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Nombre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: datosSupervisor.nombrecompleto,\n          disabled: true,\n          className: \"border p-2 rounded w-full bg-gray-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Bono diario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: datosSupervisor.bonificacion,\n          disabled: true,\n          className: \"border p-2 rounded w-full bg-gray-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Vi\\xE1ticos diarios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: datosSupervisor.viaticos_diarios,\n          disabled: true,\n          className: \"border p-2 rounded w-full bg-gray-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), !modoEntrada && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Horas extras\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: horasExtras,\n            onChange: e => setHorasExtras(Number(e.target.value)),\n            disabled: usuario.rol !== \"supervisor\",\n            className: \"border p-2 rounded w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }, this), horasExtras > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Raz\\xF3n de horas extras\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: razonHorasExtras,\n            onChange: e => setRazonHorasExtras(e.target.value),\n            disabled: usuario.rol !== \"supervisor\",\n            className: \"border p-2 rounded w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-4 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: modoEntrada ? handleEntrada : handleSalida,\n          disabled: guardando,\n          className: `flex-1 ${modoEntrada ? \"bg-green-600\" : \"bg-red-600\"} text-white py-2 rounded hover:opacity-90`,\n          children: guardando ? \"Guardando...\" : modoEntrada ? \"Entrada\" : \"Salida\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: cerrarFormulario,\n          className: \"flex-1 bg-gray-400 text-white py-2 rounded hover:bg-gray-500 transition\",\n          children: \"Cerrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500\",\n      children: \"Cargando datos...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n}\n_s(ReportarAsistencia, \"TV4rY/EJzfl6lA4CAq7Bi4PLKKQ=\");\n_c = ReportarAsistencia;\nvar _c;\n$RefreshReg$(_c, \"ReportarAsistencia\");","map":{"version":3,"names":["useState","useEffect","supabase","jsxDEV","_jsxDEV","ReportarAsistencia","usuario","onCerrar","_s","datosSupervisor","setDatosSupervisor","modoEntrada","setModoEntrada","guardando","setGuardando","reporteId","setReporteId","horasExtras","setHorasExtras","razonHorasExtras","setRazonHorasExtras","formularioBloqueado","setFormularioBloqueado","cargarDatos","data","supervisorData","error","from","select","eq","id","length","hoy","Date","toISOString","slice","reportesHoy","reporte","hora_salida","console","obtenerUbicacion","Promise","resolve","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","coords","handleEntrada","ubicacion","nuevoReporte","nombretrabajador","nombrecompleto","bono","bonificacion","viaticos_diarios","horas_extras","fechareporte","hora_entrada","toLocaleTimeString","ubicacion_entrada","reportadopor","id_usuario","insert","alert","handleSalida","trim","update","ubicacion_salida","razon_horas_extras","cerrarFormulario","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","value","disabled","onChange","e","Number","target","rol","_c","$RefreshReg$"],"sources":["C:/Users/garci/Downloads/nimbus-login-app/src/componentes/personal/ReportarAsistencia.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { supabase } from \"../../supabase\";\r\n\r\nexport default function ReportarAsistencia({ usuario, onCerrar }) {\r\n  const [datosSupervisor, setDatosSupervisor] = useState(null);\r\n  const [modoEntrada, setModoEntrada] = useState(true); // true = Entrada, false = Salida\r\n  const [guardando, setGuardando] = useState(false);\r\n  const [reporteId, setReporteId] = useState(null);\r\n  const [horasExtras, setHorasExtras] = useState(0);\r\n  const [razonHorasExtras, setRazonHorasExtras] = useState(\"\");\r\n  const [formularioBloqueado, setFormularioBloqueado] = useState(false);\r\n\r\n  // ... tu lógica y componentes internos\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const cargarDatos = async () => {\r\n      const { data: supervisorData, error } = await supabase\r\n        .from(\"registrodepersonal\")\r\n        .select(\"nombrecompleto, bonificacion, viaticos_diarios\")\r\n        .eq(\"id_usuario\", usuario.id);\r\n\r\n      if (supervisorData && supervisorData.length > 0) {\r\n        setDatosSupervisor(supervisorData[0]);\r\n\r\n        const hoy = new Date().toISOString().slice(0, 10);\r\n        const { data: reportesHoy } = await supabase\r\n          .from(\"reportesdiarios\")\r\n          .select(\"id, hora_salida\")\r\n          .eq(\"id_usuario\", usuario.id)\r\n          .eq(\"fechareporte\", hoy);\r\n\r\n        if (reportesHoy && reportesHoy.length > 0) {\r\n          const reporte = reportesHoy[0];\r\n          if (reporte.hora_salida) {\r\n            setFormularioBloqueado(true);\r\n          } else {\r\n            setReporteId(reporte.id);\r\n            setModoEntrada(false);\r\n          }\r\n        }\r\n      } else {\r\n        console.error(error || \"No se encontró el supervisor en registrodepersonal\");\r\n      }\r\n    };\r\n\r\n    cargarDatos();\r\n  }, [usuario]);\r\n\r\n  const obtenerUbicacion = () => {\r\n    return new Promise((resolve) => {\r\n      if (!navigator.geolocation) {\r\n        resolve(\"No disponible\");\r\n      } else {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (pos) => {\r\n            const { latitude, longitude } = pos.coords;\r\n            resolve(`Lat: ${latitude}, Lng: ${longitude}`);\r\n          },\r\n          () => {\r\n            resolve(\"No disponible\");\r\n          }\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleEntrada = async () => {\r\n    setGuardando(true);\r\n    const ubicacion = await obtenerUbicacion();\r\n\r\n    const nuevoReporte = {\r\n      nombretrabajador: datosSupervisor.nombrecompleto,\r\n      bono: datosSupervisor.bonificacion,\r\n      viaticos_diarios: datosSupervisor.viaticos_diarios,\r\n      horas_extras: 0,\r\n      fechareporte: new Date().toISOString().slice(0, 10),\r\n      hora_entrada: new Date().toLocaleTimeString(),\r\n      ubicacion_entrada: ubicacion,\r\n      reportadopor: usuario.usuario,\r\n      id_usuario: usuario.id,\r\n    };\r\n\r\n    const { data, error } = await supabase.from(\"reportesdiarios\").insert([nuevoReporte]).select();\r\n\r\n    if (!error && data && data.length > 0) {\r\n      alert(\"Entrada registrada ✅\");\r\n      setReporteId(data[0].id);\r\n      setModoEntrada(false);\r\n    } else {\r\n      console.error(error);\r\n      alert(\"Hubo un error al guardar la entrada\");\r\n    }\r\n\r\n    setGuardando(false);\r\n  };\r\n\r\n  const handleSalida = async () => {\r\n    if (!reporteId) {\r\n      alert(\"No se encontró el reporte para registrar la salida\");\r\n      return;\r\n    }\r\n\r\n    // Validar que si hay horas extras, se ingrese la razón\r\n    if (horasExtras > 0 && razonHorasExtras.trim() === \"\") {\r\n      alert(\"Por favor, ingresa la razón de las horas extras\");\r\n      return;\r\n    }\r\n\r\n    setGuardando(true);\r\n    const ubicacion = await obtenerUbicacion();\r\n\r\n    const { error } = await supabase\r\n      .from(\"reportesdiarios\")\r\n      .update({\r\n        hora_salida: new Date().toLocaleTimeString(),\r\n        ubicacion_salida: ubicacion,\r\n        horas_extras: horasExtras,\r\n        razon_horas_extras: horasExtras > 0 ? razonHorasExtras : null,\r\n      })\r\n      .eq(\"id\", reporteId);\r\n\r\n    if (!error) {\r\n      alert(\"Salida registrada ✅\");\r\n      setModoEntrada(true);\r\n      setReporteId(null);\r\n      setHorasExtras(0);\r\n      setRazonHorasExtras(\"\");\r\n      setFormularioBloqueado(true);\r\n    } else {\r\n      console.error(error);\r\n      alert(\"Hubo un error al registrar la salida\");\r\n    }\r\n\r\n    setGuardando(false);\r\n  };\r\n\r\n  const cerrarFormulario = () => {\r\n    if (onCerrar) {\r\n      onCerrar();\r\n    }\r\n  };\r\n\r\n  // Si el formulario está bloqueado (ya hizo entrada y salida)\r\n  if (formularioBloqueado) {\r\n    return (\r\n      <div className=\"bg-white p-4 rounded-xl shadow-md w-full max-w-md mx-auto\">\r\n        <h3 className=\"text-xl font-bold text-purple-800 mb-4\">📝 Reportar Asistencia</h3>\r\n        <p className=\"text-gray-500 mb-4\">✅ Asistencia completada hoy. Vuelve mañana.</p>\r\n        <button\r\n          onClick={cerrarFormulario}\r\n          className=\"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500 transition\"\r\n        >\r\n          Cerrar\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white p-4 rounded-xl shadow-md w-full max-w-md mx-auto\">\r\n      <h3 className=\"text-xl font-bold text-purple-800 mb-4\">📝 Reportar Asistencia</h3>\r\n\r\n      {datosSupervisor ? (\r\n        <div className=\"grid gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Nombre</label>\r\n            <input\r\n              type=\"text\"\r\n              value={datosSupervisor.nombrecompleto}\r\n              disabled\r\n              className=\"border p-2 rounded w-full bg-gray-100\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Bono diario</label>\r\n            <input\r\n              type=\"number\"\r\n              value={datosSupervisor.bonificacion}\r\n              disabled\r\n              className=\"border p-2 rounded w-full bg-gray-100\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Viáticos diarios</label>\r\n            <input\r\n              type=\"number\"\r\n              value={datosSupervisor.viaticos_diarios}\r\n              disabled\r\n              className=\"border p-2 rounded w-full bg-gray-100\"\r\n            />\r\n          </div>\r\n\r\n          {!modoEntrada && (\r\n            <div className=\"grid gap-2\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700\">Horas extras</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={horasExtras}\r\n                  onChange={(e) => setHorasExtras(Number(e.target.value))}\r\n                  disabled={usuario.rol !== \"supervisor\"}\r\n                  className=\"border p-2 rounded w-full\"\r\n                />\r\n              </div>\r\n\r\n              {horasExtras > 0 && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Razón de horas extras</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={razonHorasExtras}\r\n                    onChange={(e) => setRazonHorasExtras(e.target.value)}\r\n                    disabled={usuario.rol !== \"supervisor\"}\r\n                    className=\"border p-2 rounded w-full\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex gap-4 mt-4\">\r\n            <button\r\n              onClick={modoEntrada ? handleEntrada : handleSalida}\r\n              disabled={guardando}\r\n              className={`flex-1 ${\r\n                modoEntrada ? \"bg-green-600\" : \"bg-red-600\"\r\n              } text-white py-2 rounded hover:opacity-90`}\r\n            >\r\n              {guardando\r\n                ? \"Guardando...\"\r\n                : modoEntrada\r\n                ? \"Entrada\"\r\n                : \"Salida\"}\r\n            </button>\r\n\r\n            <button\r\n              onClick={cerrarFormulario}\r\n              className=\"flex-1 bg-gray-400 text-white py-2 rounded hover:bg-gray-500 transition\"\r\n            >\r\n              Cerrar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <p className=\"text-gray-500\">Cargando datos...</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}