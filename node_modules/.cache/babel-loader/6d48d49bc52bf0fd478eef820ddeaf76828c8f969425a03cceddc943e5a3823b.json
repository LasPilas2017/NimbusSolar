{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\garci\\\\Downloads\\\\nimbus-login-app\\\\src\\\\componentes\\\\Personal.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { supabase } from '../supabase';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Personal() {\n  _s();\n  const [vista, setVista] = useState('planilla');\n  const [personal, setPersonal] = useState([]);\n  const [reportes, setReportes] = useState([]);\n  const [puestosList, setPuestosList] = useState([]);\n  const [proyectosList, setProyectosList] = useState([]);\n  const [historialVisible, setHistorialVisible] = useState(null);\n  const [nuevoPuesto, setNuevoPuesto] = useState('');\n  const [nuevoProyecto, setNuevoProyecto] = useState('');\n  const [nuevoPersonal, setNuevoPersonal] = useState({\n    nombre: '',\n    puesto: '',\n    proyecto: '',\n    salario: '',\n    meta: '',\n    bonificacion: '',\n    trabajometa: '',\n    fecha: '',\n    modalidad: 'día',\n    precioporcantidad: '',\n    cajaChica: 'no',\n    montoCajaChica: '',\n    viaticosDiarios: ''\n  });\n  useEffect(() => {\n    fetchPuestos();\n    fetchProyectos();\n    obtenerPersonal();\n    obtenerReportes();\n  }, []);\n  const fetchPuestos = async () => {\n    const {\n      data,\n      error\n    } = await supabase.from('puestos').select('*').order('nombre', {\n      ascending: true\n    });\n    if (!error) setPuestosList(data);\n  };\n  const fetchProyectos = async () => {\n    const {\n      data,\n      error\n    } = await supabase.from('proyectos').select('*').order('nombre', {\n      ascending: true\n    });\n    if (!error) setProyectosList(data);\n  };\n  const agregarPuesto = async () => {\n    if (!nuevoPersonal.puesto) return;\n    const {\n      data,\n      error\n    } = await supabase.from('puestos').insert([{\n      nombre: nuevoPersonal.puesto\n    }]).select();\n    if (error) {\n      console.error('Error al guardar puesto:', error.message);\n      alert('No se pudo guardar el puesto');\n      return;\n    }\n    if (data && data.length > 0) {\n      setNuevoPersonal(p => ({\n        ...p,\n        puesto: data[0].nombre\n      }));\n    }\n    setNuevoPuesto('');\n    fetchPuestos();\n  };\n  const agregarProyecto = async () => {\n    if (!nuevoPersonal.proyecto) return;\n    const {\n      data,\n      error\n    } = await supabase.from('proyectos').insert([{\n      nombre: nuevoPersonal.proyecto\n    }]).select(); // Esto hace que Supabase devuelva los datos insertados\n\n    if (error) {\n      console.error('Error al guardar proyecto:', error.message);\n      alert('No se pudo guardar el proyecto');\n      return;\n    }\n    if (data && data.length > 0) {\n      setNuevoPersonal(p => ({\n        ...p,\n        proyecto: data[0].nombre\n      }));\n    }\n    setNuevoProyecto('');\n    fetchProyectos();\n  };\n  const obtenerPersonal = async () => {\n    const {\n      data,\n      error\n    } = await supabase.from('registrodepersonal').select('*').order('created_at', {\n      ascending: false\n    });\n    if (!error) setPersonal(data);\n  };\n  const obtenerReportes = async () => {\n    const {\n      data,\n      error\n    } = await supabase.from('reportesdiarios').select('*');\n    if (!error) setReportes(data);\n  };\n  const handleAgregar = async () => {\n    if (!nuevoPersonal.nombre || !nuevoPersonal.puesto) {\n      alert('El nombre y puesto son obligatorios');\n      return;\n    }\n    if (nuevoPersonal.modalidad === 'día' && !nuevoPersonal.salario) {\n      alert('El salario por día es obligatorio');\n      return;\n    }\n    if (nuevoPersonal.modalidad === 'cantidad' && !nuevoPersonal.precioporcantidad) {\n      alert('El precio por unidad es obligatorio');\n      return;\n    }\n    if (nuevoPersonal.cajaChica === 'si' && !nuevoPersonal.montoCajaChica) {\n      alert('El monto de caja chica es obligatorio si está asignada');\n      return;\n    }\n    const {\n      data: existente\n    } = await supabase.from('registrodepersonal').select('*').eq('nombrecompleto', nuevoPersonal.nombre).single();\n    const registro = {\n      proyecto: nuevoPersonal.proyecto,\n      metaestablecida: parseInt(nuevoPersonal.meta) || null,\n      modalidad: nuevoPersonal.modalidad,\n      bonificacion: parseFloat(nuevoPersonal.bonificacion) || 0,\n      fechadeingreso: nuevoPersonal.fecha || new Date().toISOString(),\n      precioporcantidad: nuevoPersonal.modalidad === 'cantidad' ? parseFloat(nuevoPersonal.precioporcantidad) : null,\n      salariopordia: nuevoPersonal.modalidad === 'día' ? parseFloat(nuevoPersonal.salario) : null,\n      trabajometa: nuevoPersonal.trabajometa,\n      caja_chica_asignada: nuevoPersonal.cajaChica === 'si',\n      monto_caja_chica: nuevoPersonal.cajaChica === 'si' ? parseFloat(nuevoPersonal.montoCajaChica) : null,\n      viaticos_diarios: parseFloat(nuevoPersonal.viaticosDiarios) || 0\n    };\n    if (existente) {\n      await supabase.from('registrodepersonal').update(registro).eq('id', existente.id);\n    } else {\n      await supabase.from('registrodepersonal').insert([{\n        nombrecompleto: nuevoPersonal.nombre,\n        puesto: nuevoPersonal.puesto,\n        ...registro\n      }]);\n    }\n    setNuevoPersonal({\n      nombre: '',\n      puesto: '',\n      proyecto: '',\n      salario: '',\n      meta: '',\n      bonificacion: '',\n      trabajometa: '',\n      fecha: '',\n      modalidad: 'día',\n      precioporcantidad: '',\n      cajaChica: 'no',\n      montoCajaChica: '',\n      viaticosDiarios: ''\n    });\n    setVista('planilla');\n    obtenerPersonal();\n  };\n  const calcularRealizado = nombre => reportes.filter(r => r.nombretrabajador === nombre).reduce((sum, r) => sum + (r.cantidad || 0), 0);\n  const calcularViaticos = nombre => reportes.filter(r => r.nombretrabajador === nombre).reduce((sum, r) => sum + (r.viaticos || 0), 0);\n  const calcularPago = p => {\n    // Filtrar reportes por trabajador\n    const reportesTrabajador = reportes.filter(r => r.nombretrabajador === p.nombrecompleto);\n    let realizadoTotal = 0;\n    let bonif = 0;\n    if (p.modalidad === 'día' && p.metaestablecida) {\n      // Agrupar por fecha y calcular extra diario\n      const agrupadosPorDia = {};\n      for (const r of reportesTrabajador) {\n        if (!agrupadosPorDia[r.fechareporte]) agrupadosPorDia[r.fechareporte] = 0;\n        agrupadosPorDia[r.fechareporte] += r.cantidad || 0;\n      }\n      for (const dia in agrupadosPorDia) {\n        const totalDia = agrupadosPorDia[dia];\n        realizadoTotal += totalDia;\n        if (totalDia > p.metaestablecida) {\n          bonif += (totalDia - p.metaestablecida) * (p.bonificacion || 0);\n        }\n      }\n    } else {\n      realizadoTotal = reportesTrabajador.reduce((sum, r) => sum + (r.cantidad || 0), 0);\n      if (p.modalidad === 'cantidad') {\n        bonif = realizadoTotal >= (p.metaestablecida || 0) ? p.bonificacion : 0;\n      }\n    }\n    const pagoBase = p.modalidad === 'cantidad' ? realizadoTotal * p.precioporcantidad : p.salariopordia || 0;\n    const total = pagoBase + bonif;\n    return {\n      realizado: realizadoTotal,\n      pago: pagoBase,\n      bonif,\n      total\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-6 max-w-7xl mx-auto bg-white p-6 rounded-xl shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-6 text-center\",\n      children: \"\\uD83D\\uDC77 Gesti\\xF3n de Personal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setVista('formulario'),\n        className: vista === 'formulario' ? 'bg-blue-600 text-white px-4 py-2 rounded' : 'bg-gray-200 px-4 py-2 rounded',\n        children: \"Agregar personal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setVista('planilla'),\n        className: vista === 'planilla' ? 'bg-blue-600 text-white px-4 py-2 rounded' : 'bg-gray-200 px-4 py-2 rounded',\n        children: \"Planilla completa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), vista === 'formulario' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Nombre completo\",\n        value: nuevoPersonal.nombre,\n        onChange: e => setNuevoPersonal({\n          ...nuevoPersonal,\n          nombre: e.target.value\n        }),\n        className: \"border p-2 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 5\n      }, this), nuevoPuesto === '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: nuevoPersonal.puesto,\n          onChange: e => setNuevoPersonal({\n            ...nuevoPersonal,\n            puesto: e.target.value\n          }),\n          className: \"border p-2 rounded flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Seleccionar puesto...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 11\n          }, this), puestosList.map((item, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.nombre,\n            children: item.nombre\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setNuevoPuesto('nuevo'),\n          className: \"bg-green-600 text-white px-3 py-2 rounded\",\n          children: \"+ Puesto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Nuevo puesto\",\n          value: nuevoPersonal.puesto,\n          onChange: e => setNuevoPersonal({\n            ...nuevoPersonal,\n            puesto: e.target.value\n          }),\n          className: \"border p-2 rounded flex-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: agregarPuesto,\n          className: \"bg-blue-600 text-white px-3 py-2 rounded\",\n          children: \"Guardar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setNuevoPuesto('');\n            setNuevoPersonal({\n              ...nuevoPersonal,\n              puesto: ''\n            });\n          },\n          className: \"bg-gray-400 text-white px-3 py-2 rounded\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 7\n      }, this), nuevoProyecto === '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: nuevoPersonal.proyecto,\n          onChange: e => setNuevoPersonal({\n            ...nuevoPersonal,\n            proyecto: e.target.value\n          }),\n          className: \"border p-2 rounded flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Seleccionar proyecto...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 11\n          }, this), proyectosList.map((item, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: item.nombre,\n            children: item.nombre\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setNuevoProyecto('nuevo'),\n          className: \"bg-green-600 text-white px-3 py-2 rounded\",\n          children: \"+ Proyecto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Nuevo proyecto\",\n          value: nuevoPersonal.proyecto,\n          onChange: e => setNuevoPersonal({\n            ...nuevoPersonal,\n            proyecto: e.target.value\n          }),\n          className: \"border p-2 rounded flex-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: agregarProyecto,\n          className: \"bg-blue-600 text-white px-3 py-2 rounded\",\n          children: \"Guardar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setNuevoProyecto('');\n            setNuevoPersonal({\n              ...nuevoPersonal,\n              proyecto: ''\n            });\n          },\n          className: \"bg-gray-400 text-white px-3 py-2 rounded\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: nuevoPersonal.modalidad,\n        onChange: e => setNuevoPersonal({\n          ...nuevoPersonal,\n          modalidad: e.target.value\n        }),\n        className: \"border p-2 rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"d\\xEDa\",\n          children: \"D\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"cantidad\",\n          children: \"Cantidad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 5\n      }, this), nuevoPersonal.modalidad === 'día' && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Salario por d\\xEDa\",\n        value: nuevoPersonal.salario,\n        onChange: e => setNuevoPersonal({\n          ...nuevoPersonal,\n          salario: e.target.value\n        }),\n        className: \"border p-2 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 49\n      }, this), nuevoPersonal.modalidad === 'cantidad' && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Precio por unidad\",\n        value: nuevoPersonal.precioporcantidad,\n        onChange: e => setNuevoPersonal({\n          ...nuevoPersonal,\n          precioporcantidad: e.target.value\n        }),\n        className: \"border p-2 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 54\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Meta establecida\",\n        value: nuevoPersonal.meta,\n        onChange: e => setNuevoPersonal({\n          ...nuevoPersonal,\n          meta: e.target.value\n        }),\n        className: \"border p-2 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Bonificaci\\xF3n meta (Q por unidad extra)\",\n        value: nuevoPersonal.bonificacion,\n        onChange: e => setNuevoPersonal({\n          ...nuevoPersonal,\n          bonificacion: e.target.value\n        }),\n        className: \"border p-2 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Trabajo asignado (meta)\",\n        value: nuevoPersonal.trabajometa,\n        onChange: e => setNuevoPersonal({\n          ...nuevoPersonal,\n          trabajometa: e.target.value\n        }),\n        className: \"border p-2 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: nuevoPersonal.fecha,\n        onChange: e => setNuevoPersonal({\n          ...nuevoPersonal,\n          fecha: e.target.value\n        }),\n        className: \"border p-2 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: nuevoPersonal.cajaChica,\n        onChange: e => setNuevoPersonal({\n          ...nuevoPersonal,\n          cajaChica: e.target.value\n        }),\n        className: \"border p-2 rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"no\",\n          children: \"Caja chica: No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"si\",\n          children: \"Caja chica: S\\xED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }, this), nuevoPersonal.cajaChica === 'si' && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Monto de caja chica\",\n        value: nuevoPersonal.montoCajaChica,\n        onChange: e => setNuevoPersonal({\n          ...nuevoPersonal,\n          montoCajaChica: e.target.value\n        }),\n        className: \"border p-2 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 48\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Vi\\xE1ticos diarios\",\n        value: nuevoPersonal.viaticosDiarios,\n        onChange: e => setNuevoPersonal({\n          ...nuevoPersonal,\n          viaticosDiarios: e.target.value\n        }),\n        className: \"border p-2 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAgregar,\n        className: \"bg-green-600 text-white py-2 rounded col-span-2\",\n        children: \"Guardar Personal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 3\n    }, this), vista === 'planilla' && /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"w-full mt-6 border text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"bg-gray-100\",\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border p-2\",\n            children: \"Trabajador\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border p-2\",\n            children: \"Puesto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border p-2\",\n            children: \"Proyecto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border p-2\",\n            children: \"Salario por d\\xEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border p-2\",\n            children: \"Meta establecida\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border p-2\",\n            children: \"Pago por unidad extra\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border p-2\",\n            children: \"Trabajo asignado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border p-2\",\n            children: \"Caja chica\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border p-2\",\n            children: \"Ver detalle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: personal.map((p, i) => {\n          var _p$salariopordia, _p$bonificacion;\n          const reportesPersona = reportes.filter(r => r.nombretrabajador === p.nombrecompleto);\n          const mostrarDetalle = historialVisible === p.nombrecompleto;\n          return /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border p-2\",\n                children: p.nombrecompleto\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border p-2\",\n                children: p.puesto\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border p-2\",\n                children: p.proyecto\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border p-2\",\n                children: [\"Q\", ((_p$salariopordia = p.salariopordia) === null || _p$salariopordia === void 0 ? void 0 : _p$salariopordia.toFixed(2)) || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border p-2\",\n                children: p.metaestablecida || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border p-2\",\n                children: [\"Q\", ((_p$bonificacion = p.bonificacion) === null || _p$bonificacion === void 0 ? void 0 : _p$bonificacion.toFixed(2)) || '-']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border p-2\",\n                children: p.trabajometa\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border p-2\",\n                children: p.caja_chica_asignada ? 'Sí' : 'No'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"border p-2 text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setHistorialVisible(mostrarDetalle ? null : p.nombrecompleto),\n                  className: \"text-blue-600 underline\",\n                  children: mostrarDetalle ? 'Ocultar' : 'Ver detalle'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 9\n            }, this), mostrarDetalle && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"9\",\n                className: \"bg-gray-100 p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold mb-2\",\n                  children: [\"\\uD83D\\uDCCB Reportes diarios de \", p.nombrecompleto]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 15\n                }, this), reportesPersona.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"No hay reportes a\\xFAn.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 17\n                }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"w-full text-sm border mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    className: \"bg-gray-200\",\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"border p-2\",\n                        children: \"Fecha\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 354,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"border p-2\",\n                        children: \"Cantidad\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 355,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"border p-2\",\n                        children: \"Vi\\xE1ticos\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 356,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"border p-2\",\n                        children: \"Comentario\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 357,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 353,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: reportesPersona.map((r, idx) => {\n                      var _r$viaticos;\n                      return /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"border p-2\",\n                          children: r.fechareporte\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 363,\n                          columnNumber: 7\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"border p-2\",\n                          children: r.cantidad\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 364,\n                          columnNumber: 7\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"border p-2\",\n                          children: [\"Q\", ((_r$viaticos = r.viaticos) === null || _r$viaticos === void 0 ? void 0 : _r$viaticos.toFixed(2)) || 0]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 365,\n                          columnNumber: 7\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"border p-2\",\n                          children: r.comentario || 'Sin comentario'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 366,\n                          columnNumber: 7\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"border p-2 text-sm text-gray-700\",\n                          children: r.reportadopor || 'Desconocido'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 367,\n                          columnNumber: 7\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"border p-2\",\n                          children: \"Reportado por\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 368,\n                          columnNumber: 7\n                        }, this)]\n                      }, idx, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 362,\n                        columnNumber: 5\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 11\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 7\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }, this), vista === 'planilla' && historialVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 bg-gray-100 p-4 rounded\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold text-lg mb-2\",\n        children: [\"\\uD83D\\uDCD8 Detalle de reportes de \", historialVisible]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }, this), reportes.filter(r => r.nombretrabajador === historialVisible).map((r, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\uD83D\\uDCC5 \", r.fechareporte, \" \\u2014 \", r.cantidad, \" unidades \\u2014 Vi\\xE1ticos: Q\", (r.viaticos || 0).toFixed(2), \" \\u2014 \", r.comentario || 'sin comentario']\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 15\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setHistorialVisible(null),\n        className: \"mt-4 text-red-600 underline\",\n        children: \"Cerrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }, this);\n}\n_s(Personal, \"F8WQEHjVegAjts8h3nGGCJ91Eqk=\");\n_c = Personal;\nvar _c;\n$RefreshReg$(_c, \"Personal\");","map":{"version":3,"names":["useState","useEffect","supabase","React","jsxDEV","_jsxDEV","Personal","_s","vista","setVista","personal","setPersonal","reportes","setReportes","puestosList","setPuestosList","proyectosList","setProyectosList","historialVisible","setHistorialVisible","nuevoPuesto","setNuevoPuesto","nuevoProyecto","setNuevoProyecto","nuevoPersonal","setNuevoPersonal","nombre","puesto","proyecto","salario","meta","bonificacion","trabajometa","fecha","modalidad","precioporcantidad","cajaChica","montoCajaChica","viaticosDiarios","fetchPuestos","fetchProyectos","obtenerPersonal","obtenerReportes","data","error","from","select","order","ascending","agregarPuesto","insert","console","message","alert","length","p","agregarProyecto","handleAgregar","existente","eq","single","registro","metaestablecida","parseInt","parseFloat","fechadeingreso","Date","toISOString","salariopordia","caja_chica_asignada","monto_caja_chica","viaticos_diarios","update","id","nombrecompleto","calcularRealizado","filter","r","nombretrabajador","reduce","sum","cantidad","calcularViaticos","viaticos","calcularPago","reportesTrabajador","realizadoTotal","bonif","agrupadosPorDia","fechareporte","dia","totalDia","pagoBase","total","realizado","pago","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","placeholder","value","onChange","e","target","map","item","i","_p$salariopordia","_p$bonificacion","reportesPersona","mostrarDetalle","Fragment","toFixed","colSpan","idx","_r$viaticos","comentario","reportadopor","_c","$RefreshReg$"],"sources":["C:/Users/garci/Downloads/nimbus-login-app/src/componentes/Personal.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { supabase } from '../supabase';\r\nimport React from 'react';\r\nexport default function Personal() {\r\n  const [vista, setVista] = useState('planilla');\r\n  const [personal, setPersonal] = useState([]);\r\n  const [reportes, setReportes] = useState([]);\r\n  const [puestosList, setPuestosList] = useState([]);\r\n  const [proyectosList, setProyectosList] = useState([]);\r\n  const [historialVisible, setHistorialVisible] = useState(null);\r\n  const [nuevoPuesto, setNuevoPuesto] = useState('');\r\n  const [nuevoProyecto, setNuevoProyecto] = useState('');\r\n  const [nuevoPersonal, setNuevoPersonal] = useState({\r\n    nombre: '',\r\n    puesto: '',\r\n    proyecto: '',\r\n    salario: '',\r\n    meta: '',\r\n    bonificacion: '',\r\n    trabajometa: '',\r\n    fecha: '',\r\n    modalidad: 'día',\r\n    precioporcantidad: '',\r\n    cajaChica: 'no',\r\n    montoCajaChica: '',\r\n    viaticosDiarios: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchPuestos();\r\n    fetchProyectos();\r\n    obtenerPersonal();\r\n    obtenerReportes();\r\n  }, []);\r\n\r\n  const fetchPuestos = async () => {\r\n    const { data, error } = await supabase.from('puestos').select('*').order('nombre', { ascending: true });\r\n    if (!error) setPuestosList(data);\r\n  };\r\n\r\n  const fetchProyectos = async () => {\r\n    const { data, error } = await supabase.from('proyectos').select('*').order('nombre', { ascending: true });\r\n    if (!error) setProyectosList(data);\r\n  };\r\n\r\n  const agregarPuesto = async () => {\r\n  if (!nuevoPersonal.puesto) return;\r\n\r\n  const { data, error } = await supabase\r\n    .from('puestos')\r\n    .insert([{ nombre: nuevoPersonal.puesto }])\r\n    .select(); \r\n\r\n  if (error) {\r\n    console.error('Error al guardar puesto:', error.message);\r\n    alert('No se pudo guardar el puesto');\r\n    return;\r\n  }\r\n\r\n  if (data && data.length > 0) {\r\n    setNuevoPersonal(p => ({ ...p, puesto: data[0].nombre }));\r\n  }\r\n\r\n  setNuevoPuesto('');\r\n  fetchPuestos();\r\n};\r\n\r\n  const agregarProyecto = async () => {\r\n  if (!nuevoPersonal.proyecto) return;\r\n\r\n  const { data, error } = await supabase\r\n    .from('proyectos')\r\n    .insert([{ nombre: nuevoPersonal.proyecto }])\r\n    .select(); // Esto hace que Supabase devuelva los datos insertados\r\n\r\n  if (error) {\r\n    console.error('Error al guardar proyecto:', error.message);\r\n    alert('No se pudo guardar el proyecto');\r\n    return;\r\n  }\r\n\r\n  if (data && data.length > 0) {\r\n    setNuevoPersonal(p => ({ ...p, proyecto: data[0].nombre }));\r\n  }\r\n\r\n  setNuevoProyecto('');\r\n  fetchProyectos();\r\n};\r\n\r\n  const obtenerPersonal = async () => {\r\n    const { data, error } = await supabase.from('registrodepersonal').select('*').order('created_at', { ascending: false });\r\n    if (!error) setPersonal(data);\r\n  };\r\n\r\n  const obtenerReportes = async () => {\r\n    const { data, error } = await supabase.from('reportesdiarios').select('*');\r\n    if (!error) setReportes(data);\r\n  };\r\n\r\n  const handleAgregar = async () => {\r\n    if (!nuevoPersonal.nombre || !nuevoPersonal.puesto) {\r\n      alert('El nombre y puesto son obligatorios');\r\n      return;\r\n    }\r\n    if (nuevoPersonal.modalidad === 'día' && !nuevoPersonal.salario) {\r\n      alert('El salario por día es obligatorio');\r\n      return;\r\n    }\r\n    if (nuevoPersonal.modalidad === 'cantidad' && !nuevoPersonal.precioporcantidad) {\r\n      alert('El precio por unidad es obligatorio');\r\n      return;\r\n    }\r\n    if (nuevoPersonal.cajaChica === 'si' && !nuevoPersonal.montoCajaChica) {\r\n      alert('El monto de caja chica es obligatorio si está asignada');\r\n      return;\r\n    }\r\n\r\n    const { data: existente } = await supabase\r\n      .from('registrodepersonal')\r\n      .select('*')\r\n      .eq('nombrecompleto', nuevoPersonal.nombre)\r\n      .single();\r\n\r\n    const registro = {\r\n      proyecto: nuevoPersonal.proyecto,\r\n      metaestablecida: parseInt(nuevoPersonal.meta) || null,\r\n      modalidad: nuevoPersonal.modalidad,\r\n      bonificacion: parseFloat(nuevoPersonal.bonificacion) || 0,\r\n      fechadeingreso: nuevoPersonal.fecha || new Date().toISOString(),\r\n      precioporcantidad: nuevoPersonal.modalidad === 'cantidad' ? parseFloat(nuevoPersonal.precioporcantidad) : null,\r\n      salariopordia: nuevoPersonal.modalidad === 'día' ? parseFloat(nuevoPersonal.salario) : null,\r\n      trabajometa: nuevoPersonal.trabajometa,\r\n      caja_chica_asignada: nuevoPersonal.cajaChica === 'si',\r\n      monto_caja_chica: nuevoPersonal.cajaChica === 'si' ? parseFloat(nuevoPersonal.montoCajaChica) : null,\r\n      viaticos_diarios: parseFloat(nuevoPersonal.viaticosDiarios) || 0\r\n    };\r\n\r\n    if (existente) {\r\n      await supabase.from('registrodepersonal').update(registro).eq('id', existente.id);\r\n    } else {\r\n      await supabase.from('registrodepersonal').insert([{ nombrecompleto: nuevoPersonal.nombre, puesto: nuevoPersonal.puesto, ...registro }]);\r\n    }\r\n\r\n    setNuevoPersonal({\r\n      nombre: '', puesto: '', proyecto: '', salario: '', meta: '', bonificacion: '', trabajometa: '', fecha: '',\r\n      modalidad: 'día', precioporcantidad: '', cajaChica: 'no', montoCajaChica: '', viaticosDiarios: ''\r\n    });\r\n    setVista('planilla');\r\n    obtenerPersonal();\r\n  };\r\n\r\n  const calcularRealizado = nombre =>\r\n    reportes.filter(r => r.nombretrabajador === nombre).reduce((sum, r) => sum + (r.cantidad || 0), 0);\r\n\r\n  const calcularViaticos = nombre =>\r\n    reportes.filter(r => r.nombretrabajador === nombre).reduce((sum, r) => sum + (r.viaticos || 0), 0);\r\n\r\n  const calcularPago = (p) => {\r\n  // Filtrar reportes por trabajador\r\n  const reportesTrabajador = reportes.filter(r => r.nombretrabajador === p.nombrecompleto);\r\n\r\n  let realizadoTotal = 0;\r\n  let bonif = 0;\r\n\r\n  if (p.modalidad === 'día' && p.metaestablecida) {\r\n    // Agrupar por fecha y calcular extra diario\r\n    const agrupadosPorDia = {};\r\n    for (const r of reportesTrabajador) {\r\n      if (!agrupadosPorDia[r.fechareporte]) agrupadosPorDia[r.fechareporte] = 0;\r\n      agrupadosPorDia[r.fechareporte] += r.cantidad || 0;\r\n    }\r\n    for (const dia in agrupadosPorDia) {\r\n      const totalDia = agrupadosPorDia[dia];\r\n      realizadoTotal += totalDia;\r\n      if (totalDia > p.metaestablecida) {\r\n        bonif += (totalDia - p.metaestablecida) * (p.bonificacion || 0);\r\n      }\r\n    }\r\n  } else {\r\n    realizadoTotal = reportesTrabajador.reduce((sum, r) => sum + (r.cantidad || 0), 0);\r\n    if (p.modalidad === 'cantidad') {\r\n      bonif = realizadoTotal >= (p.metaestablecida || 0) ? p.bonificacion : 0;\r\n    }\r\n  }\r\n\r\n  const pagoBase = p.modalidad === 'cantidad' ? realizadoTotal * p.precioporcantidad : p.salariopordia || 0;\r\n  const total = pagoBase + bonif;\r\n\r\n  return { realizado: realizadoTotal, pago: pagoBase, bonif, total };\r\n};\r\n\r\n\r\n  return (\r\n    <div className=\"mt-6 max-w-7xl mx-auto bg-white p-6 rounded-xl shadow\">\r\n      <h2 className=\"text-2xl font-bold mb-6 text-center\">👷 Gestión de Personal</h2>\r\n\r\n      <div className=\"flex justify-center gap-4 mb-6\">\r\n        <button onClick={() => setVista('formulario')} className={vista === 'formulario' ? 'bg-blue-600 text-white px-4 py-2 rounded' : 'bg-gray-200 px-4 py-2 rounded'}>Agregar personal</button>\r\n        <button onClick={() => setVista('planilla')} className={vista === 'planilla' ? 'bg-blue-600 text-white px-4 py-2 rounded' : 'bg-gray-200 px-4 py-2 rounded'}>Planilla completa</button>\r\n      </div>\r\n\r\n      {vista === 'formulario' && (\r\n  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n    <input\r\n      type=\"text\"\r\n      placeholder=\"Nombre completo\"\r\n      value={nuevoPersonal.nombre}\r\n      onChange={e => setNuevoPersonal({ ...nuevoPersonal, nombre: e.target.value })}\r\n      className=\"border p-2 rounded\"\r\n    />\r\n\r\n    {/* Puesto con opción de agregar */}\r\n    {nuevoPuesto === '' ? (\r\n      <div className=\"flex gap-2\">\r\n        <select\r\n          value={nuevoPersonal.puesto}\r\n          onChange={e => setNuevoPersonal({ ...nuevoPersonal, puesto: e.target.value })}\r\n          className=\"border p-2 rounded flex-1\"\r\n        >\r\n          <option value=\"\">Seleccionar puesto...</option>\r\n          {puestosList.map((item, i) => (\r\n            <option key={i} value={item.nombre}>{item.nombre}</option>\r\n          ))}\r\n        </select>\r\n        <button onClick={() => setNuevoPuesto('nuevo')} className=\"bg-green-600 text-white px-3 py-2 rounded\">+ Puesto</button>\r\n      </div>\r\n    ) : (\r\n      <div className=\"flex gap-2\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Nuevo puesto\"\r\n          value={nuevoPersonal.puesto}\r\n          onChange={e => setNuevoPersonal({ ...nuevoPersonal, puesto: e.target.value })}\r\n          className=\"border p-2 rounded flex-1\"\r\n        />\r\n        <button onClick={agregarPuesto} className=\"bg-blue-600 text-white px-3 py-2 rounded\">Guardar</button>\r\n        <button onClick={() => { setNuevoPuesto(''); setNuevoPersonal({ ...nuevoPersonal, puesto: '' }); }} className=\"bg-gray-400 text-white px-3 py-2 rounded\">Cancelar</button>\r\n      </div>\r\n    )}\r\n\r\n    {/* Proyecto con opción de agregar */}\r\n    {nuevoProyecto === '' ? (\r\n      <div className=\"flex gap-2\">\r\n        <select\r\n          value={nuevoPersonal.proyecto}\r\n          onChange={e => setNuevoPersonal({ ...nuevoPersonal, proyecto: e.target.value })}\r\n          className=\"border p-2 rounded flex-1\"\r\n        >\r\n          <option value=\"\">Seleccionar proyecto...</option>\r\n          {proyectosList.map((item, i) => (\r\n            <option key={i} value={item.nombre}>{item.nombre}</option>\r\n          ))}\r\n        </select>\r\n        <button onClick={() => setNuevoProyecto('nuevo')} className=\"bg-green-600 text-white px-3 py-2 rounded\">+ Proyecto</button>\r\n      </div>\r\n    ) : (\r\n      <div className=\"flex gap-2\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Nuevo proyecto\"\r\n          value={nuevoPersonal.proyecto}\r\n          onChange={e => setNuevoPersonal({ ...nuevoPersonal, proyecto: e.target.value })}\r\n          className=\"border p-2 rounded flex-1\"\r\n        />\r\n        <button onClick={agregarProyecto} className=\"bg-blue-600 text-white px-3 py-2 rounded\">Guardar</button>\r\n        <button onClick={() => { setNuevoProyecto(''); setNuevoPersonal({ ...nuevoPersonal, proyecto: '' }); }} className=\"bg-gray-400 text-white px-3 py-2 rounded\">Cancelar</button>\r\n      </div>\r\n    )}\r\n\r\n    {/* Modalidad */}\r\n    <select\r\n      value={nuevoPersonal.modalidad}\r\n      onChange={e => setNuevoPersonal({ ...nuevoPersonal, modalidad: e.target.value })}\r\n      className=\"border p-2 rounded\"\r\n    >\r\n      <option value=\"día\">Día</option>\r\n      <option value=\"cantidad\">Cantidad</option>\r\n    </select>\r\n\r\n          {nuevoPersonal.modalidad === 'día' && <input type=\"number\" placeholder=\"Salario por día\" value={nuevoPersonal.salario} onChange={e => setNuevoPersonal({ ...nuevoPersonal, salario: e.target.value })} className=\"border p-2 rounded\" />}          \r\n          {nuevoPersonal.modalidad === 'cantidad' && <input type=\"number\" placeholder=\"Precio por unidad\" value={nuevoPersonal.precioporcantidad} onChange={e => setNuevoPersonal({ ...nuevoPersonal, precioporcantidad: e.target.value })} className=\"border p-2 rounded\" />}          \r\n            \r\n          <input type=\"number\" placeholder=\"Meta establecida\" value={nuevoPersonal.meta} onChange={e => setNuevoPersonal({ ...nuevoPersonal, meta: e.target.value })} className=\"border p-2 rounded\" />\r\n          <input type=\"number\" placeholder=\"Bonificación meta (Q por unidad extra)\" value={nuevoPersonal.bonificacion} onChange={e => setNuevoPersonal({ ...nuevoPersonal, bonificacion: e.target.value })} className=\"border p-2 rounded\" />\r\n          <input type=\"text\" placeholder=\"Trabajo asignado (meta)\" value={nuevoPersonal.trabajometa} onChange={e => setNuevoPersonal({ ...nuevoPersonal, trabajometa: e.target.value })} className=\"border p-2 rounded\" />\r\n          <input type=\"date\" value={nuevoPersonal.fecha} onChange={e => setNuevoPersonal({ ...nuevoPersonal, fecha: e.target.value })} className=\"border p-2 rounded\" />\r\n\r\n          <select value={nuevoPersonal.cajaChica} onChange={e => setNuevoPersonal({ ...nuevoPersonal, cajaChica: e.target.value })} className=\"border p-2 rounded\">\r\n            <option value=\"no\">Caja chica: No</option>\r\n            <option value=\"si\">Caja chica: Sí</option>\r\n          </select>\r\n          {nuevoPersonal.cajaChica === 'si' && <input type=\"number\" placeholder=\"Monto de caja chica\" value={nuevoPersonal.montoCajaChica} onChange={e => setNuevoPersonal({ ...nuevoPersonal, montoCajaChica: e.target.value })} className=\"border p-2 rounded\" />}          \r\n\r\n          <input type=\"number\" placeholder=\"Viáticos diarios\" value={nuevoPersonal.viaticosDiarios} onChange={e => setNuevoPersonal({ ...nuevoPersonal, viaticosDiarios: e.target.value })} className=\"border p-2 rounded\" />\r\n\r\n          <button onClick={handleAgregar} className=\"bg-green-600 text-white py-2 rounded col-span-2\">Guardar Personal</button>\r\n        </div>\r\n      )}\r\n\r\n      {vista === 'planilla' && (\r\n        <table className=\"w-full mt-6 border text-sm\">\r\n          <thead className=\"bg-gray-100\">\r\n  <tr>\r\n    <th className=\"border p-2\">Trabajador</th>\r\n    <th className=\"border p-2\">Puesto</th>\r\n    <th className=\"border p-2\">Proyecto</th>\r\n    <th className=\"border p-2\">Salario por día</th>\r\n    <th className=\"border p-2\">Meta establecida</th>\r\n    <th className=\"border p-2\">Pago por unidad extra</th>\r\n    <th className=\"border p-2\">Trabajo asignado</th>\r\n    <th className=\"border p-2\">Caja chica</th>\r\n    <th className=\"border p-2\">Ver detalle</th>\r\n  </tr>\r\n</thead>\r\n          <tbody>\r\n            \r\n  {personal.map((p, i) => {\r\n    const reportesPersona = reportes.filter(r => r.nombretrabajador === p.nombrecompleto);\r\n    const mostrarDetalle = historialVisible === p.nombrecompleto;\r\n\r\n    return (\r\n      <React.Fragment key={i}>\r\n        {/* FILA PRINCIPAL */}\r\n        <tr className=\"bg-white\">\r\n          <td className=\"border p-2\">{p.nombrecompleto}</td>\r\n          <td className=\"border p-2\">{p.puesto}</td>\r\n          <td className=\"border p-2\">{p.proyecto}</td>\r\n          <td className=\"border p-2\">Q{p.salariopordia?.toFixed(2) || '-'}</td>\r\n          <td className=\"border p-2\">{p.metaestablecida || '-'}</td>\r\n          <td className=\"border p-2\">Q{p.bonificacion?.toFixed(2) || '-'}</td>\r\n          <td className=\"border p-2\">{p.trabajometa}</td>\r\n          <td className=\"border p-2\">{p.caja_chica_asignada ? 'Sí' : 'No'}</td>\r\n          <td className=\"border p-2 text-center\">\r\n            <button\r\n              onClick={() => setHistorialVisible(mostrarDetalle ? null : p.nombrecompleto)}\r\n              className=\"text-blue-600 underline\"\r\n            >\r\n              {mostrarDetalle ? 'Ocultar' : 'Ver detalle'}\r\n            </button>\r\n          </td>\r\n        </tr>\r\n\r\n        {/* DETALLE EXPANDIDO */}\r\n        {mostrarDetalle && (\r\n          <tr>\r\n            <td colSpan=\"9\" className=\"bg-gray-100 p-4\">\r\n              <h4 className=\"font-semibold mb-2\">📋 Reportes diarios de {p.nombrecompleto}</h4>\r\n              {reportesPersona.length === 0 ? (\r\n                <p className=\"text-sm text-gray-500\">No hay reportes aún.</p>\r\n              ) : (\r\n                <table className=\"w-full text-sm border mt-2\">\r\n                  <thead className=\"bg-gray-200\">\r\n                    <tr>\r\n                      <th className=\"border p-2\">Fecha</th>\r\n                      <th className=\"border p-2\">Cantidad</th>\r\n                      <th className=\"border p-2\">Viáticos</th>\r\n                      <th className=\"border p-2\">Comentario</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n  {reportesPersona.map((r, idx) => (\r\n    <tr key={idx}>\r\n      <td className=\"border p-2\">{r.fechareporte}</td>\r\n      <td className=\"border p-2\">{r.cantidad}</td>\r\n      <td className=\"border p-2\">Q{r.viaticos?.toFixed(2) || 0}</td>\r\n      <td className=\"border p-2\">{r.comentario || 'Sin comentario'}</td>\r\n      <td className=\"border p-2 text-sm text-gray-700\">{r.reportadopor || 'Desconocido'}</td>\r\n      <th className=\"border p-2\">Reportado por</th>\r\n    </tr>\r\n  ))}\r\n</tbody>\r\n                </table>\r\n              )}\r\n            </td>\r\n          </tr>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  })}\r\n</tbody>\r\n\r\n        \r\n        </table>\r\n      )}\r\n\r\n      {vista === 'planilla' && historialVisible && (\r\n        <div className=\"mt-6 bg-gray-100 p-4 rounded\">\r\n          <h3 className=\"font-bold text-lg mb-2\">📘 Detalle de reportes de {historialVisible}</h3>\r\n          {reportes\r\n            .filter(r => r.nombretrabajador === historialVisible)\r\n            .map((r, i) => (\r\n              <p key={i}>📅 {r.fechareporte} — {r.cantidad} unidades — Viáticos: Q{(r.viaticos || 0).toFixed(2)} — {r.comentario || 'sin comentario'}</p>\r\n            ))}\r\n          <button onClick={() => setHistorialVisible(null)} className=\"mt-4 text-red-600 underline\">Cerrar</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}