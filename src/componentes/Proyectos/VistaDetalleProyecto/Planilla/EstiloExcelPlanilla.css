/* ===== Tema Excel para tabla de Planilla (IZQ y DCHA) ===== */
.table-planilla {
  /* columnas fijas de la tabla IZQUIERDA */
  --col-idx:       44px;
  --col-acciones:  88px;
  --col-nombre:    160px;

  /* alturas de headers (ambas tablas usan estas 3 filas) */
  --head1: 38px;   /* fila 1: títulos (o fechas) */
  --head2: 28px;   /* fila 2: Totales */
  --head3: 26px;   /* fila 3: subheader (B.A., B.P., H) o ghost en la IZQ */

  /* colores */
  --grid: #d9d9d9;
  --header: #203864;      /* fila 1 */
  --header-sum: #254b92;  /* fila 2 */
  --header-sub: #2e4a7f;  /* fila 3 */
  --text-header: #fff;

  --row-alt: #fff7e6;
  --row-bg:  #ffffff;
  --row-hover: #f2f6ff;

  --sticky-shadow: 2px 0 0 rgba(0,0,0,.06);

  /* altura de filas del cuerpo (ajusta aquí si querés más/menos alto) */
  --row-pad-y: 6px;   /* padding vertical */
  --row-height: 32px; /* altura mínima uniforme */
  font-size: 13px;
  font-family: "Segoe UI", Calibri, Roboto, system-ui, -apple-system, sans-serif;
}

/* contenedor con scroll horizontal */
.table-planilla .scroll-x {
  overflow-x: auto;
  border: 1px solid var(--grid);
  border-radius: 10px;
  background: #fff;
  position: relative;
}

/* tabla estilo excel */
.table-planilla table {
  width: max-content;
  border-collapse: collapse;
  table-layout: auto;
}

.table-planilla th,
.table-planilla td {
  border: 1px solid var(--grid);
  padding: var(--row-pad-y) 10px;
  height: var(--row-height);
  white-space: nowrap;
  font-size: 12.5px;
}

/* ===== Encabezados (3 niveles, mismos colores en ambas tablas) ===== */
.table-planilla thead tr:nth-child(1) th {
  background: var(--header);
  color: var(--text-header);
  font-weight: 700;
  text-align: center;
}
.table-planilla thead tr:nth-child(2) th {
  background: var(--header-sum);
  color: var(--text-header);
  font-weight: 700;
  text-align: center;
}
.table-planilla thead tr:nth-child(3) th {
  background: var(--header-sub);
  color: var(--text-header);
  font-weight: 600;
  text-align: center;
}

/* ===== Sticky top de las tres filas del thead ===== */
.table-planilla thead tr:nth-child(1) th { position: sticky; top: 0; z-index: 12; }
.table-planilla thead tr:nth-child(2) th { position: sticky; top: var(--head1); z-index: 11; }
.table-planilla thead tr:nth-child(3) th { position: sticky; top: calc(var(--head1) + var(--head2)); z-index: 10; }

/* ===== Fila "fantasma" para la TABLA IZQUIERDA (alinear con B.A./B.P./H) =====
   Agregar en el thead de la izquierda: <tr class="ghost-sub"><th colSpan="8"></th></tr>
   Esta fila ocupa el lugar de la fila 3 para que ambos cuerpos arranquen alineados.
*/
.table-planilla thead tr.ghost-sub th {
  background: var(--header-sub);
  color: var(--text-header);
  font-weight: 600;
  text-align: center;
  height: var(--head3);
  padding: 0;
  border: 1px solid var(--grid);
  position: sticky;
  top: calc(var(--head1) + var(--head2));
  z-index: 10;
}

/* ===== Columnas fijas (IZQUIERDA) ===== */
.st-idx, .st-acciones, .st-nombre {
  position: sticky;
  z-index: 9;
  box-shadow: var(--sticky-shadow);
  background: var(--row-bg);
}
.st-idx {
  left: 0;
  min-width: var(--col-idx);
  max-width: var(--col-idx);
}
.st-acciones {
  left: var(--col-idx);
  min-width: var(--col-acciones);
  max-width: var(--col-acciones);
}
.st-nombre {
  left: calc(var(--col-idx) + var(--col-acciones));
  min-width: var(--col-nombre);
  max-width: var(--col-nombre);
}

/* Corrige color en sticky del THEAD (para las 3 filas) */
.table-planilla thead tr:nth-child(1) .st-idx,
.table-planilla thead tr:nth-child(1) .st-acciones,
.table-planilla thead tr:nth-child(1) .st-nombre { background: var(--header) !important; }

.table-planilla thead tr:nth-child(2) .st-idx,
.table-planilla thead tr:nth-child(2) .st-acciones,
.table-planilla thead tr:nth-child(2) .st-nombre { background: var(--header-sum) !important; }

.table-planilla thead tr:nth-child(3) .st-idx,
.table-planilla thead tr:nth-child(3) .st-acciones,
.table-planilla thead tr:nth-child(3) .st-nombre,
.table-planilla thead tr.ghost-sub .st-idx,
.table-planilla thead tr.ghost-sub .st-acciones,
.table-planilla thead tr.ghost-sub .st-nombre { background: var(--header-sub) !important; }

/* ===== Zebra + hover en el cuerpo ===== */
.table-planilla tbody tr:nth-child(odd)  td { background: var(--row-alt); }
.table-planilla tbody tr:nth-child(even) td { background: var(--row-bg);  }
.table-planilla tbody tr:hover td { background: var(--row-hover); }

/* ===== Subcolumnas (B.A., B.P., H) ===== */
.sub-ba, .sub-bp, .sub-h { min-width: 60px; text-align: center; }

/* ===== Fila Totales (estética) ===== */
.table-planilla .row-total th {
  font-weight: 700;
  background: var(--header-sum) !important; /* usa el azul de la fila 2 */
  color: var(--text-header);  
}

/* ===== Utilitarias ===== */
.td-center { text-align: center; }
.td-right  { text-align: right;  }


/* === Fila Totales del thead (izquierda): azul + divisiones blancas tipo Excel === */
.table-planilla thead tr.totales th {
  background: var(--header-sum) !important; /* azul fila 2 */
  color: var(--text-header);
  font-weight: 700;
  text-align: center;
  border: 1px solid #ffffff !important;     /* líneas blancas entre columnas */
}

/* Desactivar columnas fijas (izquierda) SOLO cuando el contenedor tiene .no-freeze */
.table-planilla.no-freeze .st-idx,
.table-planilla.no-freeze .st-acciones,
.table-planilla.no-freeze .st-nombre {
  position: static !important;
  left: auto !important;
  box-shadow: none !important;
  z-index: auto !important;
}

/* (opcional) si también querés quitar el sticky del thead en este modo: */
.table-planilla.no-freeze thead th {
  position: static !important;
  top: auto !important;
  z-index: auto !important;
}
