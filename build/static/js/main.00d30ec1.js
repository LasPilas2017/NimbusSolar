/*! For license information please see main.00d30ec1.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,r)=>{e.exports=r(202)},153:(e,t,r)=>{var n=r(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,o={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:i.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function v(){}function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var x=y.prototype=new v;x.constructor=y,m(x,b.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,o={},s=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,a)&&!j.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:r,type:e,key:s,ref:i,props:o,_owner:_.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return s=s(l=e),e=""===o?"."+C(l,0):o,w(s)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),T(s,t,a,"",(function(e){return e}))):null!=s&&(N(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+C(i=e[c],c);l+=T(i,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=T(i=i.value,t,a,u=o+C(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,r){if(null==e)return e;var n=[],a=0;return T(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},I={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:I,ReactCurrentOwner:_};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,r){P(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=a,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!j.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:r,type:e.type,key:o,ref:s,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,r){return R.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,r){return R.current.useReducer(e,t,r)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return R.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},210:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(829)),o=n(r(736)),s=r(745);class i{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:a=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new URL("".concat(this.url,"/rpc/").concat(e));let l;n||a?(t=n?"HEAD":"GET",Object.entries(r).filter((e=>{let[t,r]=e;return void 0!==r})).map((e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]})).forEach((e=>{let[t,r]=e;i.searchParams.append(t,r)}))):(t="POST",l=r);const c=Object.assign({},this.headers);return s&&(c.Prefer="count=".concat(s)),new o.default({method:t,url:i,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=i},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<o(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var i=2*(n+1)-1,l=e[i],c=i+1,u=e[c];if(0>o(l,r))c<a&&0>o(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[i]=r,n=i);else{if(!(c<a&&0>o(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function w(e){if(g=!1,x(e),!m)if(null!==n(c))m=!0,I(k);else{var t=n(u);null!==t&&L(w,t.startTime-e)}}function k(e,r){m=!1,g&&(g=!1,v(N),N=-1),p=!0;var o=f;try{for(x(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var i=s(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?h.callback=i:h===n(c)&&a(c),x(r)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&L(w,d.startTime-r),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,j=!1,S=null,N=-1,E=5,C=-1;function T(){return!(t.unstable_now()-C<E)}function P(){if(null!==S){var e=t.unstable_now();C=e;var r=!0;try{r=S(!0,e)}finally{r?_():(j=!1,S=null)}}else j=!1}if("function"===typeof y)_=function(){y(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=P,_=function(){R.postMessage(null)}}else _=function(){b(P,0)};function I(e){S=e,j||(j=!0,_())}function L(e,r){N=b((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>s?(e.sortIndex=o,r(u,e),null===n(c)&&e===n(u)&&(g?(v(N),N=-1):g=!0,L(w,o-s))):(e.sortIndex=i,r(c,e),m||p||(m=!0,I(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},286:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(630)),o=n(r(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,r,n;let a=null,s=null,i=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),o=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&o&&o.length>1&&(i=parseInt(o[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:"Results contain ".concat(s.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,i=null,l=406,c="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(s=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(n=null===a||void 0===a?void 0:a.details)||void 0===n?void 0:n.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new o.default(a)}return{error:a,data:s,count:i,status:l,statusText:c}}));return this.shouldThrowOnError||(r=r.catch((e=>{var t,r,n;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""),hint:"",code:"".concat(null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:"")},data:null,count:null,status:0,statusText:""}}))),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},374:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(286));class o extends a.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=a?"".concat(a,".order"):"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,"".concat(s?"".concat(s,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":"".concat(n,".offset"),o="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(o,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:o="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const i=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(o,'; for="').concat(l,'"; options=').concat(i,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=o},391:(e,t,r)=>{var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},400:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,r)=>{e.exports=r(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},630:(e,t,r)=>{r.r(t),r.d(t,{Headers:()=>s,Request:()=>i,Response:()=>l,default:()=>o,fetch:()=>a});var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();const a=n.fetch,o=n.fetch.bind(n),s=n.Headers,i=n.Request,l=n.Response},730:(e,t,r)=>{var n=r(43),a=r(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,a,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var z,F=Object.assign;function D(e){if(void 0===z)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var U=!1;function M(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=n.stack.split("\n"),s=a.length-1,i=o.length-1;1<=s&&0<=i&&a[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(a[s]!==o[i]){if(1!==s||1!==i)do{if(s--,0>--i||a[s]!==o[i]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?D(e):""}function B(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case S:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Q(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var r=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function G(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Y(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(o(92));if(te(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function oe(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var be=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,_e=null,je=null;function Se(e){if(e=ya(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Ne(e){_e?je?je.push(e):je=[e]:_e=e}function Ee(){if(_e){var e=_e,t=je;if(je=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Pe=!1;function Oe(e,t,r){if(Pe)return e(t,r);Pe=!0;try{return Ce(e,t,r)}finally{Pe=!1,(null!==_e||null!==je)&&(Te(),Ee())}}function Re(e,t){var r=e.stateNode;if(null===r)return null;var n=wa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var Ie=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ie=!1}function Ae(e,t,r,n,a,o,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var ze=!1,Fe=null,De=!1,Ue=null,Me={onError:function(e){ze=!0,Fe=e}};function Be(e,t,r,n,a,o,s,i,l){ze=!1,Fe=null,Ae.apply(Me,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(o(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(n=a.return)){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return He(a),e;if(s===n)return He(a),t;s=s.sibling}throw Error(o(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Ye=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,s=268435455&r;if(0!==s){var i=s&~a;0!==i?n=dt(i):0!==(o&=s)&&(n=dt(o))}else 0!==(s=r&~a)?n=dt(s):0!==o&&(n=dt(o));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-st(t)),n|=e[r],t&=~a;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function vt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var yt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,_t,jt,St,Nt=!1,Et=[],Ct=null,Tt=null,Pt=null,Ot=new Map,Rt=new Map,It=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function zt(e,t,r,n,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&kt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ft(e){var t=va(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void St(e.priority,(function(){_t(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ya(r))&&kt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);xe=n,r.target.dispatchEvent(n),xe=null,t.shift()}return!0}function Ut(e,t,r){Dt(e)&&r.delete(t)}function Mt(){Nt=!1,null!==Ct&&Dt(Ct)&&(Ct=null),null!==Tt&&Dt(Tt)&&(Tt=null),null!==Pt&&Dt(Pt)&&(Pt=null),Ot.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mt)))}function qt(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var r=1;r<Et.length;r++){var n=Et[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Tt&&Bt(Tt,e),null!==Pt&&Bt(Pt,e),Ot.forEach(t),Rt.forEach(t),r=0;r<It.length;r++)(n=It[r]).blockedOn===e&&(n.blockedOn=null);for(;0<It.length&&null===(r=It[0]).blockedOn;)Ft(r),null===r.blockedOn&&It.shift()}var Vt=x.ReactCurrentBatchConfig,Ht=!0;function Qt(e,t,r,n){var a=yt,o=Vt.transition;Vt.transition=null;try{yt=1,$t(e,t,r,n)}finally{yt=a,Vt.transition=o}}function Wt(e,t,r,n){var a=yt,o=Vt.transition;Vt.transition=null;try{yt=4,$t(e,t,r,n)}finally{yt=a,Vt.transition=o}}function $t(e,t,r,n){if(Ht){var a=Jt(e,t,r,n);if(null===a)Hn(e,t,n,Kt,r),At(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Ct=zt(Ct,e,t,r,n,a),!0;case"dragenter":return Tt=zt(Tt,e,t,r,n,a),!0;case"mouseover":return Pt=zt(Pt,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Ot.set(o,zt(Ot.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Rt.set(o,zt(Rt.get(o)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(At(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==a;){var o=ya(a);if(null!==o&&wt(o),null===(o=Jt(e,t,r,n))&&Hn(e,t,n,Kt,r),o===a)break;a=o}null!==a&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Kt=null;function Jt(e,t,r,n){if(Kt=null,null!==(e=va(e=we(n))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Xt,n=r.length,a="value"in Yt?Yt.value:Yt.textContent,o=a.length;for(e=0;e<n&&r[e]===a[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,o){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var or,sr,ir,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(lr),ur=F({},lr,{view:0,detail:0}),dr=ar(ur),hr=F({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(or=e.screenX-ir.screenX,sr=e.screenY-ir.screenY):sr=or=0,ir=e),or)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),fr=ar(hr),pr=ar(F({},hr,{dataTransfer:0})),mr=ar(F({},ur,{relatedTarget:0})),gr=ar(F({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),br=F({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vr=ar(br),yr=ar(F({},lr,{data:0})),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _r(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function jr(){return _r}var Sr=F({},ur,{key:function(e){if(e.key){var t=xr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nr=ar(Sr),Er=ar(F({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cr=ar(F({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr})),Tr=ar(F({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=F({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Or=ar(Pr),Rr=[9,13,27,32],Ir=u&&"CompositionEvent"in window,Lr=null;u&&"documentMode"in document&&(Lr=document.documentMode);var Ar=u&&"TextEvent"in window&&!Lr,zr=u&&(!Ir||Lr&&8<Lr&&11>=Lr),Fr=String.fromCharCode(32),Dr=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Rr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Br=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Hr(e,t,r,n){Ne(n),0<(t=Wn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Qr=null,Wr=null;function $r(e){Dn(e,0)}function Kr(e){if($(xa(e)))return e}function Jr(e,t){if("change"===e)return t}var Gr=!1;if(u){var Yr;if(u){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}Yr=Xr}else Yr=!1;Gr=Yr&&(!document.documentMode||9<document.documentMode)}function en(){Qr&&(Qr.detachEvent("onpropertychange",tn),Wr=Qr=null)}function tn(e){if("value"===e.propertyName&&Kr(Wr)){var t=[];Hr(t,Wr,e,we(e)),Oe($r,t)}}function rn(e,t,r){"focusin"===e?(en(),Wr=r,(Qr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Wr)}function an(e,t){if("click"===e)return Kr(t)}function on(e,t){if("input"===e||"change"===e)return Kr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!sn(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=void 0===n.end?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=un(r,o);var s=un(r,n);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=u&&"documentMode"in document&&11>=document.documentMode,gn=null,bn=null,vn=null,yn=!1;function xn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;yn||null==gn||gn!==K(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Wn(bn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},_n={},jn={};function Sn(e){if(_n[e])return _n[e];if(!kn[e])return e;var t,r=kn[e];for(t in r)if(r.hasOwnProperty(t)&&t in jn)return _n[e]=r[t];return e}u&&(jn=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);var Nn=Sn("animationend"),En=Sn("animationiteration"),Cn=Sn("animationstart"),Tn=Sn("transitionend"),Pn=new Map,On="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){Pn.set(e,t),l(t,[e])}for(var In=0;In<On.length;In++){var Ln=On[In];Rn(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}Rn(Nn,"onAnimationEnd"),Rn(En,"onAnimationIteration"),Rn(Cn,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Tn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var An="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zn=new Set("cancel close invalid load scroll toggle".split(" ").concat(An));function Fn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,s,i,l,c){if(Be.apply(this,arguments),ze){if(!ze)throw Error(o(198));var u=Fe;ze=!1,Fe=null,De||(De=!0,Ue=u)}}(n,t,void 0,e),e.currentTarget=null}function Dn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var i=n[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;Fn(a,i,c),o=l}else for(s=0;s<n.length;s++){if(l=(i=n[s]).instance,c=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;Fn(a,i,c),o=l}}}if(De)throw e=Ue,De=!1,Ue=null,e}function Un(e,t){var r=t[ma];void 0===r&&(r=t[ma]=new Set);var n=e+"__bubble";r.has(n)||(Vn(t,e,2,!1),r.add(n))}function Mn(e,t,r){var n=0;t&&(n|=4),Vn(r,e,n,t)}var Bn="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Bn]){e[Bn]=!0,s.forEach((function(t){"selectionchange"!==t&&(zn.has(t)||Mn(t,!1,e),Mn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bn]||(t[Bn]=!0,Mn("selectionchange",!1,t))}}function Vn(e,t,r,n){switch(Gt(t)){case 1:var a=Qt;break;case 4:a=Wt;break;default:a=$t}r=a.bind(null,t,r,e),a=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,a){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var i=n.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==i;){if(null===(s=va(i)))return;if(5===(l=s.tag)||6===l){n=o=s;continue e}i=i.parentNode}}n=n.return}Oe((function(){var n=o,a=we(r),s=[];e:{var i=Pn.get(e);if(void 0!==i){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Nr;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cr;break;case Nn:case En:case Cn:l=gr;break;case Tn:l=Tr;break;case"scroll":l=dr;break;case"wheel":l=Or;break;case"copy":case"cut":case"paste":l=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Er}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==i?i+"Capture":null:i;u=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(Qn(p,m,f)))),d)break;p=p.return}0<u.length&&(i=new l(i,c,null,r,a),s.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===xe||!(c=r.relatedTarget||r.fromElement)||!va(c)&&!c[pa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?va(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=fr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Er,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?i:xa(l),f=null==c?i:xa(c),(i=new u(m,p+"leave",l,r,a)).target=d,i.relatedTarget=f,m=null,va(a)===n&&((u=new u(h,p+"enter",c,r,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=$n(f))p++;for(f=0,m=h;m;m=$n(m))f++;for(;0<p-f;)u=$n(u),p--;for(;0<f-p;)h=$n(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=$n(u),h=$n(h)}u=null}else u=null;null!==l&&Kn(s,i,l,u,!1),null!==c&&null!==d&&Kn(s,d,c,u,!0)}if("select"===(l=(i=n?xa(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Jr;else if(Vr(i))if(Gr)g=on;else{g=nn;var b=rn}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=an);switch(g&&(g=g(e,n))?Hr(s,g,r,a):(b&&b(e,i,n),"focusout"===e&&(b=i._wrapperState)&&b.controlled&&"number"===i.type&&ee(i,"number",i.value)),b=n?xa(n):window,e){case"focusin":(Vr(b)||"true"===b.contentEditable)&&(gn=b,bn=n,vn=null);break;case"focusout":vn=bn=gn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,xn(s,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":xn(s,r,a)}var v;if(Ir)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Br?Ur(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(zr&&"ko"!==r.locale&&(Br||"onCompositionStart"!==y?"onCompositionEnd"===y&&Br&&(v=er()):(Xt="value"in(Yt=a)?Yt.value:Yt.textContent,Br=!0)),0<(b=Wn(n,y)).length&&(y=new yr(y,e,null,r,a),s.push({event:y,listeners:b}),v?y.data=v:null!==(v=Mr(r))&&(y.data=v))),(v=Ar?function(e,t){switch(e){case"compositionend":return Mr(t);case"keypress":return 32!==t.which?null:(Dr=!0,Fr);case"textInput":return(e=t.data)===Fr&&Dr?null:e;default:return null}}(e,r):function(e,t){if(Br)return"compositionend"===e||!Ir&&Ur(e,t)?(e=er(),Zt=Xt=Yt=null,Br=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Wn(n,"onBeforeInput")).length&&(a=new yr("onBeforeInput","beforeinput",null,r,a),s.push({event:a,listeners:n}),a.data=v))}Dn(s,t)}))}function Qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Re(e,r))&&n.unshift(Qn(e,o,a)),null!=(o=Re(e,t))&&n.push(Qn(e,o,a))),e=e.return}return n}function $n(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,r,n,a){for(var o=t._reactName,s=[];null!==r&&r!==n;){var i=r,l=i.alternate,c=i.stateNode;if(null!==l&&l===n)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Re(r,o))&&s.unshift(Qn(r,l,i)):a||null!=(l=Re(r,o))&&s.push(Qn(r,l,i))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Jn=/\r\n?/g,Gn=/\u0000|\uFFFD/g;function Yn(e){return("string"===typeof e?e:""+e).replace(Jn,"\n").replace(Gn,"")}function Xn(e,t,r){if(t=Yn(t),Yn(e)!==t&&r)throw Error(o(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(ia)}:na;function ia(e){setTimeout((function(){throw e}))}function la(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void qt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);qt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ba="__reactHandles$"+da;function va(e){var t=e[ha];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pa]||r[ha]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ua(e);null!==e;){if(r=e[ha])return r;e=ua(e)}return t}r=(e=r).parentNode}return null}function ya(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[fa]||null}var ka=[],_a=-1;function ja(e){return{current:e}}function Sa(e){0>_a||(e.current=ka[_a],ka[_a]=null,_a--)}function Na(e,t){_a++,ka[_a]=e.current,e.current=t}var Ea={},Ca=ja(Ea),Ta=ja(!1),Pa=Ea;function Oa(e,t){var r=e.type.contextTypes;if(!r)return Ea;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in r)o[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ra(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ia(){Sa(Ta),Sa(Ca)}function La(e,t,r){if(Ca.current!==Ea)throw Error(o(168));Na(Ca,t),Na(Ta,r)}function Aa(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(o(108,V(e)||"Unknown",a));return F({},r,n)}function za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Pa=Ca.current,Na(Ca,e),Na(Ta,Ta.current),!0}function Fa(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=Aa(e,t,Pa),n.__reactInternalMemoizedMergedChildContext=e,Sa(Ta),Sa(Ca),Na(Ca,e)):Sa(Ta),Na(Ta,r)}var Da=null,Ua=!1,Ma=!1;function Ba(e){null===Da?Da=[e]:Da.push(e)}function qa(){if(!Ma&&null!==Da){Ma=!0;var e=0,t=yt;try{var r=Da;for(yt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Da=null,Ua=!1}catch(a){throw null!==Da&&(Da=Da.slice(e+1)),$e(Ze,qa),a}finally{yt=t,Ma=!1}}return null}var Va=[],Ha=0,Qa=null,Wa=0,$a=[],Ka=0,Ja=null,Ga=1,Ya="";function Xa(e,t){Va[Ha++]=Wa,Va[Ha++]=Qa,Qa=e,Wa=t}function Za(e,t,r){$a[Ka++]=Ga,$a[Ka++]=Ya,$a[Ka++]=Ja,Ja=e;var n=Ga;e=Ya;var a=32-st(n)-1;n&=~(1<<a),r+=1;var o=32-st(t)+a;if(30<o){var s=a-a%5;o=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Ga=1<<32-st(t)+a|r<<a|n,Ya=o+e}else Ga=1<<o|r<<a|n,Ya=e}function eo(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function to(e){for(;e===Qa;)Qa=Va[--Ha],Va[Ha]=null,Wa=Va[--Ha],Va[Ha]=null;for(;e===Ja;)Ja=$a[--Ka],$a[Ka]=null,Ya=$a[--Ka],$a[Ka]=null,Ga=$a[--Ka],$a[Ka]=null}var ro=null,no=null,ao=!1,oo=null;function so(e,t){var r=Oc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function io(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ro=e,no=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ro=e,no=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ja?{id:Ga,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Oc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ro=e,no=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ao){var t=no;if(t){var r=t;if(!io(e,t)){if(lo(e))throw Error(o(418));t=ca(r.nextSibling);var n=ro;t&&io(e,t)?so(n,r):(e.flags=-4097&e.flags|2,ao=!1,ro=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,ro=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ro=e}function ho(e){if(e!==ro)return!1;if(!ao)return uo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=no)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ca(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){no=ca(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}no=null}}else no=ro?ca(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=no;e;)e=ca(e.nextSibling)}function po(){no=ro=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=x.ReactCurrentBatchConfig;function bo(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var a=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){return(0,e._init)(e._payload)}function xo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Fc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var o=r.type;return o===_?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&yo(o)===t.type)?((n=a(t,r.props)).ref=bo(e,t,r),n.return=e,n):((n=Lc(r.type,r.key,r.props,null,e.mode,n)).ref=bo(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Dc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,o){return null===t||7!==t.tag?((t=Ac(r,e.mode,n,o)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Lc(t.type,t.key,t.props,null,e.mode,r)).ref=bo(e,null,t),r.return=e,r;case k:return(t=Dc(t,e.mode,r)).return=e,t;case R:return h(e,(0,t._init)(t._payload),r)}if(te(t)||A(t))return(t=Ac(t,e.mode,r,null)).return=e,t;vo(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?c(e,t,r,n):null;case k:return r.key===a?u(e,t,r,n):null;case R:return f(e,t,(a=r._init)(r._payload),n)}if(te(r)||A(r))return null!==a?null:d(e,t,r,n,null);vo(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case k:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case R:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||A(n))return d(t,e=e.get(r)||null,n,a,null);vo(t,n)}return null}function m(a,o,i,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var b=f(a,d,i[m],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(a,d),o=s(b,o,m),null===u?c=b:u.sibling=b,u=b,d=g}if(m===i.length)return r(a,d),ao&&Xa(a,m),c;if(null===d){for(;m<i.length;m++)null!==(d=h(a,i[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return ao&&Xa(a,m),c}for(d=n(a,d);m<i.length;m++)null!==(g=p(d,a,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Xa(a,m),c}function g(a,i,l,c){var u=A(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=i,g=i=0,b=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var y=f(a,m,v.value,c);if(null===y){null===m&&(m=b);break}e&&m&&null===y.alternate&&t(a,m),i=s(y,i,g),null===d?u=y:d.sibling=y,d=y,m=b}if(v.done)return r(a,m),ao&&Xa(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(i=s(v,i,g),null===d?u=v:d.sibling=v,d=v);return ao&&Xa(a,g),u}for(m=n(a,m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),i=s(v,i,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(a,e)})),ao&&Xa(a,g),u}return function e(n,o,s,l){if("object"===typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===_){if(7===u.tag){r(n,u.sibling),(o=a(u,s.props.children)).return=n,n=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&yo(c)===u.type){r(n,u.sibling),(o=a(u,s.props)).ref=bo(n,u,s),o.return=n,n=o;break e}r(n,u);break}t(n,u),u=u.sibling}s.type===_?((o=Ac(s.props.children,n.mode,l,s.key)).return=n,n=o):((l=Lc(s.type,s.key,s.props,null,n.mode,l)).ref=bo(n,o,s),l.return=n,n=l)}return i(n);case k:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){r(n,o.sibling),(o=a(o,s.children||[])).return=n,n=o;break e}r(n,o);break}t(n,o),o=o.sibling}(o=Dc(s,n.mode,l)).return=n,n=o}return i(n);case R:return e(n,o,(u=s._init)(s._payload),l)}if(te(s))return m(n,o,s,l);if(A(s))return g(n,o,s,l);vo(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(r(n,o.sibling),(o=a(o,s)).return=n,n=o):(r(n,o),(o=Fc(s,n.mode,l)).return=n,n=o),i(n)):r(n,o)}}var wo=xo(!0),ko=xo(!1),_o=ja(null),jo=null,So=null,No=null;function Eo(){No=So=jo=null}function Co(e){var t=_o.current;Sa(_o),e._currentValue=t}function To(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Po(e,t){jo=e,No=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yi=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(No!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===jo)throw Error(o(308));So=e,jo.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Ro=null;function Io(e){null===Ro?Ro=[e]:Ro.push(e)}function Lo(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Io(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ao(e,n)}function Ao(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var zo=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Cl)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ao(e,r)}return null===(a=n.interleaved)?(t.next=t,Io(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ao(e,r)}function Bo(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}function qo(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?a=o=s:o=o.next=s,r=r.next}while(null!==r);null===o?a=o=t:o=o.next=t}else a=o=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vo(e,t,r,n){var a=e.updateQueue;zo=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(s=0,u=c=l=null,i=o;;){var h=i.lane,f=i.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(h=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:zo=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[i]:h.push(i))}else f={eventTime:f,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(h=i).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);zl|=s,e.lanes=s,e.memoizedState=d}}function Ho(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(o(191,a));a.call(n)}}}var Qo={},Wo=ja(Qo),$o=ja(Qo),Ko=ja(Qo);function Jo(e){if(e===Qo)throw Error(o(174));return e}function Go(e,t){switch(Na(Ko,t),Na($o,e),Na(Wo,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Wo),Na(Wo,t)}function Yo(){Sa(Wo),Sa($o),Sa(Ko)}function Xo(e){Jo(Ko.current);var t=Jo(Wo.current),r=le(t,e.type);t!==r&&(Na($o,e),Na(Wo,r))}function Zo(e){$o.current===e&&(Sa(Wo),Sa($o))}var es=ja(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function ns(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var as=x.ReactCurrentDispatcher,os=x.ReactCurrentBatchConfig,ss=0,is=null,ls=null,cs=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function gs(e,t,r,n,a,s){if(ss=s,is=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=null===e||null===e.memoizedState?Zs:ei,e=r(n,a),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,as.current=ti,e=r(n,a)}while(ds)}if(as.current=Xs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=is=null,us=!1,t)throw Error(o(300));return e}function bs(){var e=0!==hs;return hs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?is.memoizedState=cs=e:cs=cs.next=e,cs}function ys(){if(null===ls){var e=is.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?is.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?is.memoizedState=cs=e:cs=cs.next=e}return cs}function xs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=ys(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=ls,a=n.baseQueue,s=r.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(null!==a){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,i=n):c=c.next=h,is.lanes|=d,zl|=d}u=u.next}while(null!==u&&u!==s);null===c?i=n:c.next=l,sn(n,t.memoizedState)||(yi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{s=a.lane,is.lanes|=s,zl|=s,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ks(e){var t=ys(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(null!==a){r.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);sn(s,t.memoizedState)||(yi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function _s(){}function js(e,t){var r=is,n=ys(),a=t(),s=!sn(n.memoizedState,a);if(s&&(n.memoizedState=a,yi=!0),n=n.queue,zs(Es.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(r.flags|=2048,Os(9,Ns.bind(null,r,n,a,t),void 0,null),null===Tl)throw Error(o(349));0!==(30&ss)||Ss(r,t,a)}return a}function Ss(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ns(e,t,r,n){t.value=r,t.getSnapshot=n,Cs(t)&&Ts(e)}function Es(e,t,r){return r((function(){Cs(t)&&Ts(e)}))}function Cs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Ts(e){var t=Ao(e,1);null!==t&&rc(t,e,1,-1)}function Ps(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,is,e),[t.memoizedState,e]}function Os(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Rs(){return ys().memoizedState}function Is(e,t,r,n){var a=vs();is.flags|=e,a.memoizedState=Os(1|t,r,void 0,void 0===n?null:n)}function Ls(e,t,r,n){var a=ys();n=void 0===n?null:n;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==n&&ms(n,s.deps))return void(a.memoizedState=Os(t,r,o,n))}is.flags|=e,a.memoizedState=Os(1|t,r,o,n)}function As(e,t){return Is(8390656,8,e,t)}function zs(e,t){return Ls(2048,8,e,t)}function Fs(e,t){return Ls(4,2,e,t)}function Ds(e,t){return Ls(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ms(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ls(4,4,Us.bind(null,t,e),r)}function Bs(){}function qs(e,t){var r=ys();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ms(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vs(e,t){var r=ys();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ms(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hs(e,t,r){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,yi=!0),e.memoizedState=r):(sn(r,t)||(r=mt(),is.lanes|=r,zl|=r,e.baseState=!0),t)}function Qs(e,t){var r=yt;yt=0!==r&&4>r?r:4,e(!0);var n=os.transition;os.transition={};try{e(!1),t()}finally{yt=r,os.transition=n}}function Ws(){return ys().memoizedState}function $s(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Js(e))Gs(t,r);else if(null!==(r=Lo(e,t,r,n))){rc(r,e,n,ec()),Ys(r,t,n)}}function Ks(e,t,r){var n=tc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Js(e))Gs(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=o(s,r);if(a.hasEagerState=!0,a.eagerState=i,sn(i,s)){var l=t.interleaved;return null===l?(a.next=a,Io(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Lo(e,t,a,n))&&(rc(r,e,n,a=ec()),Ys(r,t,n))}}function Js(e){var t=e.alternate;return e===is||null!==t&&t===is}function Gs(e,t){ds=us=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ys(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}var Xs={readContext:Oo,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Oo,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:As,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Is(4194308,4,Us.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var r=vs();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vs();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$s.bind(null,is,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ps,useDebugValue:Bs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ps(!1),t=e[0];return e=Qs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=is,a=vs();if(ao){if(void 0===r)throw Error(o(407));r=r()}else{if(r=t(),null===Tl)throw Error(o(349));0!==(30&ss)||Ss(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,As(Es.bind(null,n,s,e),[e]),n.flags|=2048,Os(9,Ns.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=vs(),t=Tl.identifierPrefix;if(ao){var r=Ya;t=":"+t+"R"+(r=(Ga&~(1<<32-st(Ga)-1)).toString(32)+r),0<(r=hs++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Oo,useCallback:qs,useContext:Oo,useEffect:zs,useImperativeHandle:Ms,useInsertionEffect:Fs,useLayoutEffect:Ds,useMemo:Vs,useReducer:ws,useRef:Rs,useState:function(){return ws(xs)},useDebugValue:Bs,useDeferredValue:function(e){return Hs(ys(),ls.memoizedState,e)},useTransition:function(){return[ws(xs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:js,useId:Ws,unstable_isNewReconciler:!1},ti={readContext:Oo,useCallback:qs,useContext:Oo,useEffect:zs,useImperativeHandle:Ms,useInsertionEffect:Fs,useLayoutEffect:Ds,useMemo:Vs,useReducer:ks,useRef:Rs,useState:function(){return ks(xs)},useDebugValue:Bs,useDeferredValue:function(e){var t=ys();return null===ls?t.memoizedState=e:Hs(t,ls.memoizedState,e)},useTransition:function(){return[ks(xs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:js,useId:Ws,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var r in t=F({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ni(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:F({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),o=Uo(n,a);o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=Mo(e,o,a))&&(rc(t,e,a,n),Bo(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),a=tc(e),o=Uo(n,a);o.tag=1,o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=Mo(e,o,a))&&(rc(t,e,a,n),Bo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),a=Uo(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Mo(e,a,n))&&(rc(t,e,n,r),Bo(t,e,n))}};function oi(e,t,r,n,a,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(a,o))}function si(e,t,r){var n=!1,a=Ea,o=t.contextType;return"object"===typeof o&&null!==o?o=Oo(o):(a=Ra(t)?Pa:Ca.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?Oa(e,a):Ea),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ii(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function li(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Fo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Oo(o):(o=Ra(t)?Pa:Ca.current,a.context=Oa(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ni(e,t,o,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Vo(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var r="",n=t;do{r+=B(n),n=n.return}while(n);var a=r}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ui(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var hi="function"===typeof WeakMap?WeakMap:Map;function fi(e,t,r){(r=Uo(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hl||(Hl=!0,Ql=n),di(0,t)},r}function pi(e,t,r){(r=Uo(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){di(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){di(0,t),"function"!==typeof n&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function mi(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hi;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bi(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Uo(-1,1)).tag=2,Mo(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vi=x.ReactCurrentOwner,yi=!1;function xi(e,t,r,n){t.child=null===e?ko(t,null,r,n):wo(t,e.child,r,n)}function wi(e,t,r,n,a){r=r.render;var o=t.ref;return Po(t,a),n=gs(e,t,r,n,o,a),r=bs(),null===e||yi?(ao&&r&&eo(t),t.flags|=1,xi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function ki(e,t,r,n,a){if(null===e){var o=r.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Lc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_i(e,t,o,n,a))}if(o=e.child,0===(e.lanes&a)){var s=o.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(s,n)&&e.ref===t.ref)return Hi(e,t,a)}return t.flags|=1,(e=Ic(o,n)).ref=t.ref,e.return=t,t.child=e}function _i(e,t,r,n,a){if(null!==e){var o=e.memoizedProps;if(ln(o,n)&&e.ref===t.ref){if(yi=!1,t.pendingProps=n=o,0===(e.lanes&a))return t.lanes=e.lanes,Hi(e,t,a);0!==(131072&e.flags)&&(yi=!0)}}return Ni(e,t,r,n,a)}function ji(e,t,r){var n=t.pendingProps,a=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Il,Rl),Rl|=r;else{if(0===(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Il,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:r,Na(Il,Rl),Rl|=n}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,Na(Il,Rl),Rl|=n;return xi(e,t,a,r),t.child}function Si(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ni(e,t,r,n,a){var o=Ra(r)?Pa:Ca.current;return o=Oa(t,o),Po(t,a),r=gs(e,t,r,n,o,a),n=bs(),null===e||yi?(ao&&n&&eo(t),t.flags|=1,xi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Ei(e,t,r,n,a){if(Ra(r)){var o=!0;za(t)}else o=!1;if(Po(t,a),null===t.stateNode)Vi(e,t),si(t,r,n),li(t,r,n,a),n=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=r.contextType;"object"===typeof c&&null!==c?c=Oo(c):c=Oa(t,c=Ra(r)?Pa:Ca.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==n||l!==c)&&ii(t,s,n,c),zo=!1;var h=t.memoizedState;s.state=h,Vo(t,n,s,a),l=t.memoizedState,i!==n||h!==l||Ta.current||zo?("function"===typeof u&&(ni(t,r,u,n),l=t.memoizedState),(i=zo||oi(t,r,i,n,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Do(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=r.contextType)&&null!==l?l=Oo(l):l=Oa(t,l=Ra(r)?Pa:Ca.current);var f=r.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||h!==l)&&ii(t,s,n,l),zo=!1,h=t.memoizedState,s.state=h,Vo(t,n,s,a);var p=t.memoizedState;i!==d||h!==p||Ta.current||zo?("function"===typeof f&&(ni(t,r,f,n),p=t.memoizedState),(c=zo||oi(t,r,c,n,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ci(e,t,r,n,o,a)}function Ci(e,t,r,n,a,o){Si(e,t);var s=0!==(128&t.flags);if(!n&&!s)return a&&Fa(t,r,!1),Hi(e,t,o);n=t.stateNode,vi.current=t;var i=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,i,o)):xi(e,t,i,o),t.memoizedState=n.state,a&&Fa(t,r,!0),t.child}function Ti(e){var t=e.stateNode;t.pendingContext?La(0,t.pendingContext,t.pendingContext!==t.context):t.context&&La(0,t.context,!1),Go(e,t.containerInfo)}function Pi(e,t,r,n,a){return po(),mo(a),t.flags|=256,xi(e,t,r,n),t.child}var Oi,Ri,Ii,Li,Ai={dehydrated:null,treeContext:null,retryLane:0};function zi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fi(e,t,r){var n,a=t.pendingProps,s=es.current,i=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Na(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=zc(l,a,0,null),e=Ac(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=zi(r),t.memoizedState=Ai,e):Di(t,l));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,r,n,a,s,i){if(r)return 256&t.flags?(t.flags&=-257,Ui(e,t,i,n=ui(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=zc({mode:"visible",children:n.children},a,0,null),(s=Ac(s,a,i,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&wo(t,e.child,null,i),t.child.memoizedState=zi(i),t.memoizedState=Ai,s);if(0===(1&t.mode))return Ui(e,t,i,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Ui(e,t,i,n=ui(s=Error(o(419)),n,void 0))}if(l=0!==(i&e.childLanes),yi||l){if(null!==(n=Tl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|i))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Ao(e,a),rc(n,e,a,-1))}return mc(),Ui(e,t,i,n=ui(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,no=ca(a.nextSibling),ro=t,ao=!0,oo=null,null!==e&&($a[Ka++]=Ga,$a[Ka++]=Ya,$a[Ka++]=Ja,Ga=e.id,Ya=e.overflow,Ja=t),t=Di(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,s,r);if(i){i=a.fallback,l=t.mode,n=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ic(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==n?i=Ic(n,i):(i=Ac(i,l,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?zi(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Ai,a}return e=(i=e.child).sibling,a=Ic(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Di(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ui(e,t,r,n){return null!==n&&mo(n),wo(t,e.child,null,r),(e=Di(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mi(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),To(e.return,t,r)}function Bi(e,t,r,n,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function qi(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(xi(e,t,n.children,r),0!==(2&(n=es.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mi(e,r,t);else if(19===e.tag)Mi(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Na(es,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===ts(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Bi(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ts(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Bi(t,!0,r,null,o);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Ic(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ic(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Qi(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $i(e,t,r){var n=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(t),null;case 1:case 17:return Ra(t.type)&&Ia(),Wi(t),null;case 3:return n=t.stateNode,Yo(),Sa(Ta),Sa(Ca),ns(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ri(e,t),Wi(t),null;case 5:Zo(t);var a=Jo(Ko.current);if(r=t.type,null!==e&&null!=t.stateNode)Ii(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(o(166));return Wi(t),null}if(e=Jo(Wo.current),ho(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ha]=t,n[fa]=s,e=0!==(1&t.mode),r){case"dialog":Un("cancel",n),Un("close",n);break;case"iframe":case"object":case"embed":Un("load",n);break;case"video":case"audio":for(a=0;a<An.length;a++)Un(An[a],n);break;case"source":Un("error",n);break;case"img":case"image":case"link":Un("error",n),Un("load",n);break;case"details":Un("toggle",n);break;case"input":G(n,s),Un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Un("invalid",n);break;case"textarea":ae(n,s),Un("invalid",n)}for(var l in ve(r,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xn(n.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Un("scroll",n)}switch(r){case"input":W(n),Z(n,s,!0);break;case"textarea":W(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ha]=t,e[fa]=n,Oi(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(r,n),r){case"dialog":Un("cancel",e),Un("close",e),a=n;break;case"iframe":case"object":case"embed":Un("load",e),a=n;break;case"video":case"audio":for(a=0;a<An.length;a++)Un(An[a],e);a=n;break;case"source":Un("error",e),a=n;break;case"img":case"image":case"link":Un("error",e),Un("load",e),a=n;break;case"details":Un("toggle",e),a=n;break;case"input":G(e,n),a=J(e,n),Un("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=F({},n,{value:void 0}),Un("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Un("invalid",e)}for(s in ve(r,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==r||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Un("scroll",e):null!=u&&y(e,s,u,l))}switch(r){case"input":W(e),Z(e,n,!1);break;case"textarea":W(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?re(e,!!n.multiple,s,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wi(t),null;case 6:if(e&&null!=t.stateNode)Li(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));if(r=Jo(Ko.current),Jo(Wo.current),ho(t)){if(n=t.stateNode,r=t.memoizedProps,n[ha]=t,(s=n.nodeValue!==r)&&null!==(e=ro))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ha]=t,t.stateNode=n}return Wi(t),null;case 13:if(Sa(es),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==no&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[ha]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wi(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wi(t),null);case 4:return Yo(),Ri(e,t),null===e&&qn(t.stateNode.containerInfo),Wi(t),null;case 10:return Co(t.type._context),Wi(t),null;case 19:if(Sa(es),null===(s=t.memoizedState))return Wi(t),null;if(n=0!==(128&t.flags),null===(l=s.rendering))if(n)Qi(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Qi(s,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Na(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>ql&&(t.flags|=128,n=!0,Qi(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ts(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Qi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ao)return Wi(t),null}else 2*Ye()-s.renderingStartTime>ql&&1073741824!==r&&(t.flags|=128,n=!0,Qi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=s.last)?r.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,r=es.current,Na(es,n?1&r|2:1&r),t):(Wi(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Wi(t),6&t.subtreeFlags&&(t.flags|=8192)):Wi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ki(e,t){switch(to(t),t.tag){case 1:return Ra(t.type)&&Ia(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Sa(Ta),Sa(Ca),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Sa(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(es),null;case 4:return Yo(),null;case 10:return Co(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oi=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ri=function(){},Ii=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Jo(Wo.current);var o,s=null;switch(r){case"input":a=J(e,a),n=J(e,n),s=[];break;case"select":a=F({},a,{value:void 0}),n=F({},n,{value:void 0}),s=[];break;case"textarea":a=ne(e,a),n=ne(e,n),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(u in ve(r,n),r=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Un("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Li=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ji=!1,Gi=!1,Yi="function"===typeof WeakSet?WeakSet:Set,Xi=null;function Zi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){jc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){jc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&el(t,r,o)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function al(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[ba])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var ul=null,dl=!1;function hl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,r)}catch(i){}switch(r.tag){case 5:Gi||Zi(r,t);case 6:var n=ul,a=dl;ul=null,hl(e,t,r),dl=a,null!==(ul=n)&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),qt(e)):la(ul,r.stateNode));break;case 4:n=ul,a=dl,ul=r.stateNode.containerInfo,dl=!0,hl(e,t,r),ul=n,dl=a;break;case 0:case 11:case 14:case 15:if(!Gi&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var o=a,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(r,t,s),a=a.next}while(a!==n)}hl(e,t,r);break;case 1:if(!Gi&&(Zi(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){jc(r,t,i)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Gi=(n=Gi)||null!==r.memoizedState,hl(e,t,r),Gi=n):hl(e,t,r);break;default:hl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Yi),t.forEach((function(t){var n=Cc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,i,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){jc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){jc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:ml(t,e),bl(e),512&n&&null!==r&&Zi(r,r.return);break;case 5:if(ml(t,e),bl(e),512&n&&null!==r&&Zi(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){jc(e,e.return,g)}}if(4&n&&null!=(a=e.stateNode)){var s=e.memoizedProps,i=null!==r?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(a,s),ye(l,i);var u=ye(l,s);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):y(a,d,h,u)}switch(l){case"input":X(a,s);break;case"textarea":oe(a,s);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?re(a,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?re(a,!!s.multiple,s.defaultValue,!0):re(a,!!s.multiple,s.multiple?[]:"",!1))}a[fa]=s}catch(g){jc(e,e.return,g)}}break;case 6:if(ml(t,e),bl(e),4&n){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){jc(e,e.return,g)}}break;case 3:if(ml(t,e),bl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Ye())),4&n&&pl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Gi=(u=Gi)||d,ml(t,e),Gi=u):ml(t,e),bl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xi=e,d=e.child;null!==d;){for(h=Xi=d;null!==Xi;){switch(p=(f=Xi).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Zi(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){jc(n,r,g)}}break;case 5:Zi(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Xi=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",i))}catch(g){jc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),bl(e),4&n&&pl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var n=r;break e}r=r.return}throw Error(o(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(he(a,""),n.flags&=-33),cl(e,il(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;ll(e,il(e),s);break;default:throw Error(o(161))}}catch(i){jc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,r){Xi=e,yl(e,t,r)}function yl(e,t,r){for(var n=0!==(1&e.mode);null!==Xi;){var a=Xi,o=a.child;if(22===a.tag&&n){var s=null!==a.memoizedState||Ji;if(!s){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Gi;i=Ji;var c=Gi;if(Ji=s,(Gi=l)&&!c)for(Xi=a;null!==Xi;)l=(s=Xi).child,22===s.tag&&null!==s.memoizedState?kl(a):null!==l?(l.return=s,Xi=l):kl(a);for(;null!==o;)Xi=o,yl(o,t,r),o=o.sibling;Xi=a,Ji=i,Gi=c}xl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Xi=o):xl(e)}}function xl(e){for(;null!==Xi;){var t=Xi;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gi||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Gi)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ho(t,s,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ho(t,i,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(o(163))}Gi||512&t.flags&&al(t)}catch(f){jc(t,t.return,f)}}if(t===e){Xi=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xi=r;break}Xi=t.return}}function wl(e){for(;null!==Xi;){var t=Xi;if(t===e){Xi=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xi=r;break}Xi=t.return}}function kl(e){for(;null!==Xi;){var t=Xi;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){jc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){jc(t,a,l)}}var o=t.return;try{al(t)}catch(l){jc(t,o,l)}break;case 5:var s=t.return;try{al(t)}catch(l){jc(t,s,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Xi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Xi=i;break}Xi=t.return}}var _l,jl=Math.ceil,Sl=x.ReactCurrentDispatcher,Nl=x.ReactCurrentOwner,El=x.ReactCurrentBatchConfig,Cl=0,Tl=null,Pl=null,Ol=0,Rl=0,Il=ja(0),Ll=0,Al=null,zl=0,Fl=0,Dl=0,Ul=null,Ml=null,Bl=0,ql=1/0,Vl=null,Hl=!1,Ql=null,Wl=null,$l=!1,Kl=null,Jl=0,Gl=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Ol?Ol&-Ol:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function rc(e,t,r,n){if(50<Gl)throw Gl=0,Yl=null,Error(o(185));bt(e,r,n),0!==(2&Cl)&&e===Tl||(e===Tl&&(0===(2&Cl)&&(Fl|=r),4===Ll&&ic(e,Ol)),nc(e,n),1===r&&0===Cl&&0===(1&t.mode)&&(ql=Ye()+500,Ua&&qa()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),i=1<<s,l=a[s];-1===l?0!==(i&r)&&0===(i&n)||(a[s]=ft(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}(e,t);var n=ht(e,e===Tl?Ol:0);if(0===n)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){Ua=!0,Ba(e)}(lc.bind(null,e)):Ba(lc.bind(null,e)),sa((function(){0===(6&Cl)&&qa()})),r=null;else{switch(xt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Tc(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Xl=-1,Zl=0,0!==(6&Cl))throw Error(o(327));var r=e.callbackNode;if(kc()&&e.callbackNode!==r)return null;var n=ht(e,e===Tl?Ol:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var a=Cl;Cl|=2;var s=pc();for(Tl===e&&Ol===t||(Vl=null,ql=Ye()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Eo(),Sl.current=s,Cl=a,null!==Pl?t=0:(Tl=null,Ol=0,t=Ll)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(n=a,t=oc(e,a))),1===t)throw r=Al,hc(e,0),ic(e,n),nc(e,Ye()),r;if(6===t)ic(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!sn(o(),a))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,n))&&(0!==(s=pt(e))&&(n=s,t=oc(e,s))),1===t))throw r=Al,hc(e,0),ic(e,n),nc(e,Ye()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Ml,Vl);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=Bl+500-Ye())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(wc.bind(null,e,Ml,Vl),t);break}wc(e,Ml,Vl);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-st(n);s=1<<i,(i=t[i])>a&&(a=i),n&=~s}if(n=a,10<(n=(120>(n=Ye()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jl(n/1960))-n)){e.timeoutHandle=na(wc.bind(null,e,Ml,Vl),n);break}wc(e,Ml,Vl);break;default:throw Error(o(329))}}}return nc(e,Ye()),e.callbackNode===r?ac.bind(null,e):null}function oc(e,t){var r=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ml,Ml=r,null!==t&&sc(t)),e}function sc(e){null===Ml?Ml=e:Ml.push.apply(Ml,e)}function ic(e,t){for(t&=~Dl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Cl))throw Error(o(327));kc();var t=ht(e,0);if(0===(1&t))return nc(e,Ye()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=oc(e,n))}if(1===r)throw r=Al,hc(e,0),ic(e,t),nc(e,Ye()),r;if(6===r)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ml,Vl),nc(e,Ye()),null}function cc(e,t){var r=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=r)&&(ql=Ye()+500,Ua&&qa())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Cl)&&kc();var t=Cl;Cl|=1;var r=El.transition,n=yt;try{if(El.transition=null,yt=1,e)return e()}finally{yt=n,El.transition=r,0===(6&(Cl=t))&&qa()}}function dc(){Rl=Il.current,Sa(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Pl)for(r=Pl.return;null!==r;){var n=r;switch(to(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ia();break;case 3:Yo(),Sa(Ta),Sa(Ca),ns();break;case 5:Zo(n);break;case 4:Yo();break;case 13:case 19:Sa(es);break;case 10:Co(n.type._context);break;case 22:case 23:dc()}r=r.return}if(Tl=e,Pl=e=Ic(e.current,null),Ol=Rl=t,Ll=0,Al=null,Dl=Fl=zl=0,Ml=Ul=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(n=(r=Ro[t]).interleaved)){r.interleaved=null;var a=n.next,o=r.pending;if(null!==o){var s=o.next;o.next=a,n.next=s}r.pending=n}Ro=null}return e}function fc(e,t){for(;;){var r=Pl;try{if(Eo(),as.current=Xs,us){for(var n=is.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}us=!1}if(ss=0,cs=ls=is=null,ds=!1,hs=0,Nl.current=null,null===r||null===r.return){Ll=1,Al=t,Pl=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gi(i);if(null!==p){p.flags&=-257,bi(p,i,l,0,t),1&p.mode&&mi(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mi(s,u,t),mc();break e}c=Error(o(426))}else if(ao&&1&l.mode){var b=gi(i);if(null!==b){0===(65536&b.flags)&&(b.flags|=256),bi(b,i,l,0,t),mo(ci(c,l));break e}}s=c=ci(c,l),4!==Ll&&(Ll=2),null===Ul?Ul=[s]:Ul.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,qo(s,fi(0,c,t));break e;case 1:l=c;var v=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Wl||!Wl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,qo(s,pi(s,l,t));break e}}s=s.return}while(null!==s)}xc(r)}catch(x){t=x,Pl===r&&null!==r&&(Pl=r=r.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Xs,null===e?Xs:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Tl||0===(268435455&zl)&&0===(268435455&Fl)||ic(Tl,Ol)}function gc(e,t){var r=Cl;Cl|=2;var n=pc();for(Tl===e&&Ol===t||(Vl=null,hc(e,t));;)try{bc();break}catch(a){fc(e,a)}if(Eo(),Cl=r,Sl.current=n,null!==Pl)throw Error(o(261));return Tl=null,Ol=0,Ll}function bc(){for(;null!==Pl;)yc(Pl)}function vc(){for(;null!==Pl&&!Je();)yc(Pl)}function yc(e){var t=_l(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?xc(e):Pl=t,Nl.current=null}function xc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=$i(r,t,Rl)))return void(Pl=r)}else{if(null!==(r=Ki(r,t)))return r.flags&=32767,void(Pl=r);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,r){var n=yt,a=El.transition;try{El.transition=null,yt=1,function(e,t,r,n){do{kc()}while(null!==Kl);if(0!==(6&Cl))throw Error(o(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-st(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}(e,s),e===Tl&&(Pl=Tl=null,Ol=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||$l||($l=!0,Tc(tt,(function(){return kc(),null}))),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=El.transition,El.transition=null;var i=yt;yt=1;var l=Cl;Cl|=4,Nl.current=null,function(e,t){if(ea=Ht,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(w){r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=i+a),h!==s||0!==n&&3!==h.nodeType||(c=i+n),3===h.nodeType&&(i+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=i),f===s&&++d===n&&(c=i),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Ht=!1,Xi=t;null!==Xi;)if(e=(t=Xi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xi=e;else for(;null!==Xi;){t=Xi;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,b=m.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ri(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){jc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xi=e;break}Xi=t.return}m=tl,tl=!1}(e,r),gl(r,e),pn(ta),Ht=!!ea,ta=ea=null,e.current=r,vl(r,e,a),Ge(),Cl=l,yt=i,El.transition=s}else e.current=r;if($l&&($l=!1,Kl=e,Jl=a),s=e.pendingLanes,0===s&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Ye()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Ql,Ql=null,e;0!==(1&Jl)&&0!==e.tag&&kc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Gl++:(Gl=0,Yl=e):Gl=0,qa()}(e,t,r,n)}finally{El.transition=a,yt=n}return null}function kc(){if(null!==Kl){var e=xt(Jl),t=El.transition,r=yt;try{if(El.transition=null,yt=16>e?16:e,null===Kl)var n=!1;else{if(e=Kl,Kl=null,Jl=0,0!==(6&Cl))throw Error(o(331));var a=Cl;for(Cl|=4,Xi=e.current;null!==Xi;){var s=Xi,i=s.child;if(0!==(16&Xi.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xi=u;null!==Xi;){var d=Xi;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Xi=h;else for(;null!==Xi;){var f=(d=Xi).sibling,p=d.return;if(ol(d),d===u){Xi=null;break}if(null!==f){f.return=p,Xi=f;break}Xi=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(null!==g)}}Xi=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Xi=i;else e:for(;null!==Xi;){if(0!==(2048&(s=Xi).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Xi=v;break e}Xi=s.return}}var y=e.current;for(Xi=y;null!==Xi;){var x=(i=Xi).child;if(0!==(2064&i.subtreeFlags)&&null!==x)x.return=i,Xi=x;else e:for(i=y;null!==Xi;){if(0!==(2048&(l=Xi).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(k){jc(l,l.return,k)}if(l===i){Xi=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xi=w;break e}Xi=l.return}}if(Cl=a,qa(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(k){}n=!0}return n}finally{yt=r,El.transition=t}}return!1}function _c(e,t,r){e=Mo(e,t=fi(0,t=ci(r,t),1),1),t=ec(),null!==e&&(bt(e,1,t),nc(e,t))}function jc(e,t,r){if(3===e.tag)_c(e,e,r);else for(;null!==t;){if(3===t.tag){_c(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Wl||!Wl.has(n))){t=Mo(t,e=pi(t,e=ci(r,e),1),1),e=ec(),null!==t&&(bt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Tl===e&&(Ol&r)===r&&(4===Ll||3===Ll&&(130023424&Ol)===Ol&&500>Ye()-Bl?hc(e,0):Dl|=r),nc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=ec();null!==(e=Ao(e,t))&&(bt(e,t,r),nc(e,r))}function Ec(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Nc(e,r)}function Cc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(t),Nc(e,r)}function Tc(e,t){return $e(e,t)}function Pc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,r,n){return new Pc(e,t,r,n)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var r=e.alternate;return null===r?((r=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lc(e,t,r,n,a,s){var i=2;if(n=e,"function"===typeof e)Rc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case _:return Ac(r.children,a,s,t);case j:i=8,a|=8;break;case S:return(e=Oc(12,r,t,2|a)).elementType=S,e.lanes=s,e;case T:return(e=Oc(13,r,t,a)).elementType=T,e.lanes=s,e;case P:return(e=Oc(19,r,t,a)).elementType=P,e.lanes=s,e;case I:return zc(r,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:i=10;break e;case E:i=9;break e;case C:i=11;break e;case O:i=14;break e;case R:i=16,n=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Oc(i,r,t,a)).elementType=e,t.type=n,t.lanes=s,t}function Ac(e,t,r,n){return(e=Oc(7,e,n,t)).lanes=r,e}function zc(e,t,r,n){return(e=Oc(22,e,n,t)).elementType=I,e.lanes=r,e.stateNode={isHidden:!1},e}function Fc(e,t,r){return(e=Oc(6,e,null,t)).lanes=r,e}function Dc(e,t,r){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mc(e,t,r,n,a,o,s,i,l){return e=new Uc(e,t,r,i,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Oc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function Bc(e){if(!e)return Ea;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var r=e.type;if(Ra(r))return Aa(e,r,t)}return t}function qc(e,t,r,n,a,o,s,i,l){return(e=Mc(r,n,!0,e,0,o,0,i,l)).context=Bc(null),r=e.current,(o=Uo(n=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,Mo(r,o,a),e.current.lanes=a,bt(e,a,n),nc(e,n),e}function Vc(e,t,r,n){var a=t.current,o=ec(),s=tc(a);return r=Bc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Uo(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Mo(a,t,s))&&(rc(e,a,s,o),Bo(e,a,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Wc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}_l=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)yi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yi=!1,function(e,t,r){switch(t.tag){case 3:Ti(t),po();break;case 5:Xo(t);break;case 1:Ra(t.type)&&za(t);break;case 4:Go(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Na(_o,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Na(es,1&es.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Fi(e,t,r):(Na(es,1&es.current),null!==(e=Hi(e,t,r))?e.sibling:null);Na(es,1&es.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return qi(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(es,es.current),n)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,r)}return Hi(e,t,r)}(e,t,r);yi=0!==(131072&e.flags)}else yi=!1,ao&&0!==(1048576&t.flags)&&Za(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vi(e,t),e=t.pendingProps;var a=Oa(t,Ca.current);Po(t,r),a=gs(null,t,n,e,a,r);var s=bs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(n)?(s=!0,za(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Fo(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,li(t,n,e,r),t=Ci(null,t,n,!0,s,r)):(t.tag=0,ao&&s&&eo(t),xi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(n),e=ri(n,e),a){case 0:t=Ni(null,t,n,e,r);break e;case 1:t=Ei(null,t,n,e,r);break e;case 11:t=wi(null,t,n,e,r);break e;case 14:t=ki(null,t,n,ri(n.type,e),r);break e}throw Error(o(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ni(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ei(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 3:e:{if(Ti(t),null===e)throw Error(o(387));n=t.pendingProps,a=(s=t.memoizedState).element,Do(e,t),Vo(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pi(e,t,n,r,a=ci(Error(o(423)),t));break e}if(n!==a){t=Pi(e,t,n,r,a=ci(Error(o(424)),t));break e}for(no=ca(t.stateNode.containerInfo.firstChild),ro=t,ao=!0,oo=null,r=ko(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(po(),n===a){t=Hi(e,t,r);break e}xi(e,t,n,r)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),n=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,ra(n,a)?i=null:null!==s&&ra(n,s)&&(t.flags|=32),Si(e,t),xi(e,t,i,r),t.child;case 6:return null===e&&co(t),null;case 13:return Fi(e,t,r);case 4:return Go(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=wo(t,null,n,r):xi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,wi(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 7:return xi(e,t,t.pendingProps,r),t.child;case 8:case 12:return xi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Na(_o,n._currentValue),n._currentValue=i,null!==s)if(sn(s.value,i)){if(s.children===a.children&&!Ta.current){t=Hi(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===s.tag){(c=Uo(-1,r&-r)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,null!==(c=s.alternate)&&(c.lanes|=r),To(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(o(341));i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),To(i,r,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}xi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Po(t,r),n=n(a=Oo(a)),t.flags|=1,xi(e,t,n,r),t.child;case 14:return a=ri(n=t.type,t.pendingProps),ki(e,t,n,a=ri(n.type,a),r);case 15:return _i(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ri(n,a),Vi(e,t),t.tag=1,Ra(n)?(e=!0,za(t)):e=!1,Po(t,r),si(t,n,a),li(t,n,a,r),Ci(null,t,n,!0,e,r);case 19:return qi(e,t,r);case 22:return ji(e,t,r)}throw Error(o(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,r,n,a){var o=r._reactRootContainer;if(o){var s=o;if("function"===typeof a){var i=a;a=function(){var e=Hc(s);i.call(e)}}Vc(t,s,e,a)}else s=function(e,t,r,n,a){if(a){if("function"===typeof n){var o=n;n=function(){var e=Hc(s);o.call(e)}}var s=qc(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[pa]=s.current,qn(8===e.nodeType?e.parentNode:e),uc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var i=n;n=function(){var e=Hc(l);i.call(e)}}var l=Mc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pa]=l.current,qn(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,r,n)})),l}(r,t,e,a,n);return Hc(s)}Jc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vc(e,t,null,null)},Jc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[pa]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<It.length&&0!==t&&t<It[r].priority;r++);It.splice(r,0,e),0===r&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(vt(t,1|r),nc(t,Ye()),0===(6&Cl)&&(ql=Ye()+500,qa()))}break;case 13:uc((function(){var t=Ao(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),Wc(e,1)}},kt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)rc(t,e,134217728,ec());Wc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),r=Ao(e,t);if(null!==r)rc(r,e,t,ec());Wc(e,t)}},jt=function(){return yt},St=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}},ke=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wa(n);if(!a)throw Error(o(90));$(n),X(n,a)}}}break;case"textarea":oe(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ce=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[ya,xa,wa,Ne,Ee,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{at=nu.inject(ru),ot=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(o(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Gc(e))throw Error(o(299));var r=!1,n="",a=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Mc(e,1,!1,null,0,r,0,n,a),e[pa]=t.current,qn(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,r){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Gc(e))throw Error(o(405));var n=null!=r&&r.hydratedSources||null,a=!1,s="",i=$c;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=qc(t,null,e,1,null!=r?r:null,a,0,s,i),e[pa]=t.current,qn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Jc(t)},t.render=function(e,t,r){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yc(r))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(374));class o extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e))).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const o=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(o,".").concat(t)),this}match(e){return Object.entries(e).forEach((e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))})),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?"".concat(r,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}}t.default=o},745:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const n=r(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(n.version)}},829:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(736));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e){let{head:t=!1,count:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t?"HEAD":"GET";let o=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e))).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer="count=".concat(r)),new a.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=["resolution=".concat(r?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push("count=".concat(n)),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),this.headers.Prefer=r.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,r)=>{e.exports=r(234)},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},980:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=n(r(210));t.PostgrestClient=a.default;const o=n(r(829));t.PostgrestQueryBuilder=o.default;const s=n(r(736));t.PostgrestFilterBuilder=s.default;const i=n(r(374));t.PostgrestTransformBuilder=i.default;const l=n(r(286));t.PostgrestBuilder=l.default;const c=n(r(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var o=Object.create(null);r.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,r.d(o,s),o}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".c416ef88.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="nimbus-login-app:";r.l=(n,a,o,s)=>{if(e[n])e[n].push(a);else{var i,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){i=d;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+o),i.src=n),e[n]=[a];var h=(t,r)=>{i.onerror=i.onload=null,clearTimeout(f);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=o);var s=r.p+r.u(t),i=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,a[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,o,s=n[0],i=n[1],l=n[2],c=0;if(s.some((t=>0!==e[t]))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)l(r)}for(t&&t(n);c<s.length;c++)o=s[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunknimbus_login_app=self.webpackChunknimbus_login_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r(43),a=r(391);class o extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class s extends o{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i extends o{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class l extends o{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var c;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(c||(c={}));var u=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};class d{constructor(e){let{headers:t={},customFetch:n,region:a=c.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return u(this,void 0,void 0,(function*(){try{const{headers:n,method:a,body:o}=t;let c,u={},{region:d}=t;d||(d=this.region),d&&"any"!==d&&(u["x-region"]=d),o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!==typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=o):"string"===typeof o?(u["Content-Type"]="text/plain",c=o):"undefined"!==typeof FormData&&o instanceof FormData?c=o:(u["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch("".concat(this.url,"/").concat(e),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),n),body:c}).catch((e=>{throw new s(e)})),f=h.headers.get("x-relay-error");if(f&&"true"===f)throw new i(h);if(!h.ok)throw new l(h);let p,m=(null!==(r=h.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return p="application/json"===m?yield h.json():"application/octet-stream"===m?yield h.blob():"text/event-stream"===m?h:"multipart/form-data"===m?yield h.formData():yield h.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}}))}}var h=r(980);const{PostgrestClient:f,PostgrestQueryBuilder:m,PostgrestFilterBuilder:g,PostgrestTransformBuilder:b,PostgrestBuilder:v,PostgrestError:y}=h,x={"X-Client-Info":"realtime-js/".concat("2.11.2")};var w,k,_,j,S,N;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(w||(w={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(k||(k={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(_||(_={})),function(e){e.websocket="websocket"}(j||(j={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(S||(S={}));class E{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(e.slice(o,o+n));o+=n;const i=r.decode(e.slice(o,o+a));o+=a;return{ref:null,topic:s,event:i,payload:JSON.parse(r.decode(e.slice(o,e.byteLength)))}}}class C{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(N||(N={}));const T=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce(((r,a)=>(r[a]=P(a,e,t,n),r)),{})},P=(e,t,r,n)=>{const a=t.find((t=>t.name===e)),o=null===a||void 0===a?void 0:a.type,s=r[e];return o&&!n.includes(o)?O(o,s):R(s)},O=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return z(t,r)}switch(e){case N.bool:return I(t);case N.float4:case N.float8:case N.int2:case N.int4:case N.int8:case N.numeric:case N.oid:return L(t);case N.json:case N.jsonb:return A(t);case N.timestamp:return F(t);case N.abstime:case N.date:case N.daterange:case N.int4range:case N.int8range:case N.money:case N.reltime:case N.text:case N.time:case N.timestamptz:case N.timetz:case N.tsrange:case N.tstzrange:default:return R(t)}},R=e=>e,I=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},L=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},A=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},z=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const o=e.slice(1,r);try{n=JSON.parse("["+o+"]")}catch(a){n=o?o.split(","):[]}return n.map((e=>O(t,e)))}return e},F=e=>"string"===typeof e?e.replace(" ","T"):e,D=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class U{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(r)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var M,B,q,V;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(M||(M={}));class H{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=H.syncState(this.state,e,t,r),this.pendingDiffs.forEach((e=>{this.state=H.syncDiff(this.state,e,t,r)})),this.pendingDiffs=[],n()})),this.channel._on(r.diff,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=H.syncDiff(this.state,e,t,r),n())})),this.onJoin(((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})})),this.onLeave(((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,r,n){const a=this.cloneDeep(e),o=this.transformState(t),s={},i={};return this.map(a,((e,t)=>{o[e]||(i[e]=t)})),this.map(o,((e,t)=>{const r=a[e];if(r){const n=t.map((e=>e.presence_ref)),a=r.map((e=>e.presence_ref)),o=t.filter((e=>a.indexOf(e.presence_ref)<0)),l=r.filter((e=>n.indexOf(e.presence_ref)<0));o.length>0&&(s[e]=o),l.length>0&&(i[e]=l)}else s[e]=t})),this.syncDiff(a,{joins:s,leaves:i},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,((t,n)=>{var a;const o=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),o.length>0){const r=e[t].map((e=>e.presence_ref)),n=o.filter((e=>r.indexOf(e.presence_ref)<0));e[t].unshift(...n)}r(t,o,n)})),this.map(o,((t,r)=>{let a=e[t];if(!a)return;const o=r.map((e=>e.presence_ref));a=a.filter((e=>o.indexOf(e.presence_ref)<0)),e[t]=a,n(t,a,r),0===a.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((r=>t(r,e[r])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):n,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(B||(B={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(q||(q={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(V||(V={}));class Q{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=k.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new U(this,_.join,this.params,this.timeout),this.rejoinTimer=new C((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=k.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=k.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=k.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=k.errored,this.rejoinTimer.scheduleTimeout())})),this._on(_.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new H(this),this.broadcastEndpointURL=D(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:s}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e(V.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(V.CLOSED)));const i={},l={broadcast:a,presence:o,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((e=>e.filter)))&&void 0!==n?n:[],private:s};this.socket.accessTokenValue&&(i.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},i)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,o=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:s,schema:i,table:l,filter:c}}=a,u=r&&r[n];if(!u||u.event!==s||u.schema!==i||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null===e||void 0===e||e(V.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=o,void(e&&e(V.SUBSCRIBED))}null===e||void 0===e||e(V.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e(V.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(V.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise((r=>{var n,a,o;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(o=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===o?void 0:o.ack)||r("ok"),s.receive("ok",(()=>r("ok"))),s.receive("error",(()=>r("error"))),s.receive("timeout",(()=>r("timed out")))}));{const{event:o,payload:s}=e,i={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,i,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=k.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(_.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((r=>{const n=new U(this,_.leave,{},e);n.receive("ok",(()=>{t(),r("ok")})).receive("timeout",(()=>{t(),r("timed out")})).receive("error",(()=>{r("error")})),n.send(),this._canPush()||n.trigger("ok",{})}))}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout((()=>n.abort()),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),o}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let n=new U(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const o=e.toLocaleLowerCase(),{close:s,error:i,leave:l,join:c}=_;if(r&&[s,i,l,c].indexOf(o)>=0&&r!==this._joinRef())return;let u=this._onMessage(o,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter((e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===o})).map((e=>e.callback(u,r))):null===(a=this.bindings[o])||void 0===a||a.filter((e=>{var r,n,a,s,i,l;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){const o=e.id,s=null===(r=e.filter)||void 0===r?void 0:r.event;return o&&(null===(n=t.ids)||void 0===n?void 0:n.includes(o))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(i=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===i?void 0:i.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===o})).map((e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:o}=e,s={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:o};u=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(u,r)}))}_isClosed(){return this.state===k.closed}_isJoined(){return this.state===k.joined}_isJoining(){return this.state===k.joining}_isLeaving(){return this.state===k.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&Q.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_.close,{},e)}_onError(e){this._on(_.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=k.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=T(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=T(e.columns,e.old_record)),t}}const W=()=>{},$="undefined"!==typeof WebSocket;class K{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=x,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=W,this.conn=null,this.sendBuffer=[],this.serializer=new E,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint="".concat(e,"/").concat(j.websocket),this.httpEndpoint=D(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new C((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if($)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new J(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),r.e(198).then(r.t.bind(r,198,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case w.connecting:return S.Connecting;case w.open:return S.Open;case w.closing:return S.Closing;default:return S.Closed}}isConnected(){return this.connectionState()===S.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r=new Q("realtime:".concat(e),t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:n,ref:a}=e,o=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push","".concat(t," ").concat(r," (").concat(a,")"),n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(r&&r.exp){if(!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",'InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(r.exp)),Promise.reject('InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(r.exp))}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(_.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:n,ref:a}=e;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(n.status||""," ").concat(t," ").concat(r," ").concat(a&&"("+a+")"||""),n),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(r,n,a))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(_.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class J{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=w.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class G extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Y(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class X extends G{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Z extends G{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ee=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const te=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},re=e=>{if(Array.isArray(e))return e.map((e=>re(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[a]=re(n)})),t};var ne=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const ae=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oe=(e,t,n)=>ne(void 0,void 0,void 0,(function*(){const a=yield ee(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(r.bind(r,630))).Response:Response}));e instanceof a&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then((r=>{t(new X(ae(r),e.status||500))})).catch((e=>{t(new Z(ae(e),e))})):t(new Z(ae(e),e))}));function se(e,t,r,n,a,o){return ne(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{e(r,((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))})(t,n,a,o)).then((e=>{if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()})).then((e=>s(e))).catch((e=>oe(e,i,n)))}))}))}function ie(e,t,r,n){return ne(this,void 0,void 0,(function*(){return se(e,"GET",t,r,n)}))}function le(e,t,r,n,a){return ne(this,void 0,void 0,(function*(){return se(e,"POST",t,n,a,r)}))}function ce(e,t,r,n,a){return ne(this,void 0,void 0,(function*(){return se(e,"DELETE",t,n,a,r)}))}var ue=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const de={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},he={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=r,this.fetch=te(n)}uploadOrUpdate(e,t,r,n){return ue(this,void 0,void 0,(function*(){try{let a;const o=Object.assign(Object.assign({},he),n);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const i=o.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),i&&a.append("metadata",this.encodeMetadata(i)),a.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),i&&a.append("metadata",this.encodeMetadata(i))):(a=r,s["cache-control"]="max-age=".concat(o.cacheControl),s["content-type"]=o.contentType,i&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(i)))),(null===n||void 0===n?void 0:n.headers)&&(s=Object.assign(Object.assign({},s),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch("".concat(this.url,"/object/").concat(c),Object.assign({method:e,body:a,headers:s},(null===o||void 0===o?void 0:o.duplex)?{duplex:o.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(Y(a))return{data:null,error:a};throw a}}))}upload(e,t,r){return ue(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,r)}))}uploadToSignedUrl(e,t,r,n){return ue(this,void 0,void 0,(function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+"/object/upload/sign/".concat(o));s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:he.upsert},n),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,o["cache-control"]="max-age=".concat(t.cacheControl),o["content-type"]=t.contentType);const i=yield this.fetch(s.toString(),{method:"PUT",body:e,headers:o}),l=yield i.json();if(i.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(i){if(Y(i))return{data:null,error:i};throw i}}))}createSignedUploadUrl(e,t){return ue(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const a=yield le(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:n}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new G("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}))}update(e,t,r){return ue(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,r)}))}move(e,t,r){return ue(this,void 0,void 0,(function*(){try{return{data:yield le(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}))}copy(e,t,r){return ue(this,void 0,void 0,(function*(){try{return{data:{path:(yield le(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}))}createSignedUrl(e,t,r){return ue(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e),a=yield le(this.fetch,"".concat(this.url,"/object/sign/").concat(n),Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const o=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(o))},{data:a,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}))}createSignedUrls(e,t,r){return ue(this,void 0,void 0,(function*(){try{const n=yield le(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:n.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null}))),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}))}download(e,t){return ue(this,void 0,void 0,(function*(){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?"?".concat(n):"";try{const t=this._getFinalPath(e),n=yield ie(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}}))}info(e){return ue(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield ie(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:re(e),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}))}exists(e){return ue(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return ne(this,void 0,void 0,(function*(){return se(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)}))}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(Y(r)&&r instanceof Z){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}))}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&n.push(a);const o="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&n.push(s);let i=n.join("&");return""!==i&&(i="?".concat(i)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(o,"/public/").concat(r).concat(i))}}}remove(e){return ue(this,void 0,void 0,(function*(){try{return{data:yield ce(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}}))}list(e,t,r){return ue(this,void 0,void 0,(function*(){try{const n=Object.assign(Object.assign(Object.assign({},de),t),{prefix:e||""});return{data:yield le(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),n,{headers:this.headers},r),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const pe={"X-Client-Info":"storage-js/".concat("2.7.1")};var me=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};class ge{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},pe),t),this.fetch=te(r)}listBuckets(){return me(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}}))}getBucket(e){return me(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return me(this,void 0,void 0,(function*(){try{return{data:yield le(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}))}updateBucket(e,t){return me(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r,n,a){return ne(this,void 0,void 0,(function*(){return se(e,"PUT",t,n,a,r)}))}(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}))}emptyBucket(e){return me(this,void 0,void 0,(function*(){try{return{data:yield le(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return me(this,void 0,void 0,(function*(){try{return{data:yield ce(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}}))}}class be extends ge{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new fe(this.url,this.headers,e,this.fetch)}}let ve="";ve="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ye={headers:{"X-Client-Info":"supabase-js-".concat(ve,"/").concat("2.49.7")}},xe={schema:"public"},we={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ke={};var _e=r(630),je=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const Se=e=>{let t;return t=e||("undefined"===typeof fetch?_e.default:fetch),function(){return t(...arguments)}},Ne=(e,t,r)=>{const n=Se(r),a="undefined"===typeof Headers?_e.Headers:Headers;return(r,o)=>je(void 0,void 0,void 0,(function*(){var s;const i=null!==(s=yield t())&&void 0!==s?s:e;let l=new a(null===o||void 0===o?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(i)),n(r,Object.assign(Object.assign({},o),{headers:l}))}))};var Ee=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const Ce="2.69.1",Te=3e4,Pe=9e4,Oe={"X-Client-Info":"gotrue-js/".concat(Ce)},Re="X-Supabase-Api-Version",Ie={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Le=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Ae extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ze(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Fe extends Ae{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class De extends Ae{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ue extends Ae{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class Me extends Ue{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Be extends Ue{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qe extends Ue{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ve extends Ue{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class He extends Ue{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qe extends Ue{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function We(e){return ze(e)&&"AuthRetryableFetchError"===e.name}class $e extends Ue{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Ke extends Ue{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ge=" \t\n\r=".split(""),Ye=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ge.length;t+=1)e[Ge[t].charCodeAt(0)]=-2;for(let t=0;t<Je.length;t+=1)e[Je[t].charCodeAt(0)]=t;return e})();function Xe(e,t,r){const n=Ye[e];if(!(n>-1)){if(-2===n)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Ze(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let s=0;s<e.length;s+=1)Xe(e.charCodeAt(s),a,o);return t.join("")}function et(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function tt(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}et(n,t)}}function rt(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Xe(e.charCodeAt(a),r,n);return new Uint8Array(t)}const nt=()=>"undefined"!==typeof window&&"undefined"!==typeof document,at={tested:!1,writable:!1},ot=()=>{if(!nt())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(at.tested)return at.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),at.tested=!0,at.writable=!0}catch(t){at.tested=!0,at.writable=!1}return at.writable};const st=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},it=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},lt=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},ct=async(e,t)=>{await e.removeItem(t)};class ut{constructor(){this.promise=new ut.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function dt(e){const t=e.split(".");if(3!==t.length)throw new Ke("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Le.test(t[r]))throw new Ke("JWT not in base64url format");return{header:JSON.parse(Ze(t[0])),payload:JSON.parse(Ze(t[1])),signature:rt(t[2]),raw:{header:t[0],payload:t[1]}}}function ht(e){return("0"+e.toString(16)).substr(-2)}async function ft(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pt(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,ht).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await it(e,"".concat(t,"-code-verifier"),a);const o=await ft(n);return[o,n===o?"plain":"s256"]}ut.promiseConstructor=Promise;const mt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var gt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const bt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vt=[502,503,504];async function yt(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new Qe(bt(e),0);if(vt.includes(e.status))throw new Qe(bt(e),e.status);let n,a;try{n=await e.json()}catch(s){throw new De(bt(s),s)}const o=function(e){const t=e.headers.get(Re);if(!t)return null;if(!t.match(mt))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(s){return null}}(e);if(o&&o.getTime()>=Ie.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new $e(bt(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new Me}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new $e(bt(n),e.status,n.weak_password.reasons);throw new Fe(bt(n),e.status||500,a)}async function xt(e,t,r,n){var a;const o=Object.assign({},null===n||void 0===n?void 0:n.headers);o[Re]||(o[Re]=Ie.name),(null===n||void 0===n?void 0:n.jwt)&&(o.Authorization="Bearer ".concat(n.jwt));const s=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(s.redirect_to=n.redirectTo);const i=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,r,n,a,o){const s=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,o);let i;try{i=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new Qe(bt(l),0)}i.ok||await yt(i);if(null===n||void 0===n?void 0:n.noResolveJson)return i;try{return await i.json()}catch(l){await yt(l)}}(e,t,r+i,{headers:o,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function wt(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function kt(e){const t=wt(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function _t(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function jt(e){return{data:e,error:null}}function St(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=e,s=gt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},user:Object.assign({},s)},error:null}}function Nt(e){return e}var Et=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};class Ct{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=st(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await xt(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await xt(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:_t})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Et(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null===r||void 0===r?void 0:r.newEmail,delete n.newEmail),await xt(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:n,headers:this.headers,xform:St,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(ze(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await xt(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:_t})}catch(t){if(ze(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,o,s,i;try{const l={nextPage:null,lastPage:0,total:0},c=await xt(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:Nt});if(c.error)throw c.error;const u=await c.json(),d=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(i=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(ze(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await xt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:_t})}catch(t){if(ze(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await xt(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:_t})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await xt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:_t})}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await xt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(ze(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await xt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(ze(t))return{data:null,error:t};throw t}}}const Tt={getItem:e=>ot()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ot()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ot()&&globalThis.localStorage.removeItem(e)}};function Pt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ot=!!(globalThis&&ot()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Rt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class It extends Rt{}async function Lt(e,t,r){Ot&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout((()=>{n.abort(),Ot&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},(async n=>{if(!n){if(0===t)throw Ot&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new It('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Ot)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}Ot&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Ot&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const At={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zt(e,t,r){return await r()}class Ft{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ft.nextInstanceID,Ft.nextInstanceID+=1,this.instanceID>0&&nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},At),e);if(this.logDebugMessages=!!n.debug,"function"===typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Ct({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=st(n.fetch),this.lock=n.lock||zt,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:nt()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Lt:this.lock=zt,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ot()?this.storage=Tt:(this.memoryStorage={},this.storage=Pt(this.memoryStorage)):(this.memoryStorage={},this.storage=Pt(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Ce,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((e,r)=>{t[r]=e}))}catch(n){}return r.searchParams.forEach(((e,r)=>{t[r]=e})),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),nt()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return ze(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout((async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ze(t)?{error:t}:{error:new De("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await xt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:wt}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const i=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:o}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await pt(this.storage,this.storageKey)),a=await xt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken},code_challenge:s,code_challenge_method:i},xform:wt})}else{if(!("phone"in e))throw new qe("You must provide either an email or phone number and a password");{const{phone:t,password:o,options:s}=e;a=await xt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:o,data:null!==(r=null===s||void 0===s?void 0:s.data)&&void 0!==r?r:{},channel:null!==(n=null===s||void 0===s?void 0:s.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:wt})}}const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const i=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(a){if(ze(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:kt})}else{if(!("phone"in e))throw new qe("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:kt})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new Be}}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await lt(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:wt});if(await ct(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new Be}}catch(a){if(ze(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:o}=e,s=await xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:wt}),{data:i,error:l}=s;return l?{data:{user:null,session:null},error:l}:i&&i.session&&i.user?(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:l}):{data:{user:null,session:null},error:new Be}}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,a,o;try{if("email"in e){const{email:n,options:a}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await pt(this.storage,this.storageKey));const{error:i}=await xt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:o,code_challenge_method:s},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:t,options:r}=e,{data:s,error:i}=await xt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(o=null===r||void 0===r?void 0:r.channel)&&void 0!==o?o:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i}}throw new qe("You must provide either an email or phone number.")}catch(s){if(ze(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:o,error:s}=await xt(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:wt});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const i=o.session,l=o.user;return(null===i||void 0===i?void 0:i.access_token)&&(await this._saveSession(i),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(n){if(ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let a=null,o=null;return"pkce"===this.flowType&&([a,o]=await pt(this.storage,this.storageKey)),await xt(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:jt})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Me;const{error:n}=await xt(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(ze(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:n,options:a}=e,{error:o}=await xt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:o,error:s}=await xt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:s}}throw new qe("You must provide either an email or phone number and a type")}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await lt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Pe;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await xt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:_t}):await this._useSession((async e=>{var t,r,n;const{data:a,error:o}=e;if(o)throw o;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await xt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:_t}):{data:{user:null},error:new Me}}))}catch(t){if(ze(t))return function(e){return ze(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await ct(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new Me;const o=n.session;let s=null,i=null;"pkce"===this.flowType&&null!=e.email&&([s,i]=await pt(this.storage,this.storageKey));const{data:l,error:c}=await xt(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:i}),jwt:o.access_token,xform:_t});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}))}catch(r){if(ze(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Me;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:o}=dt(e.access_token);if(o.exp&&(r=o.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:o}=await this._getUser(e.access_token);if(o)throw o;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(ze(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Me;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(ze(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!nt())throw new Ve("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ve(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new He("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ve("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new He("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:o,expires_in:s,expires_at:i,token_type:l}=e;if(!a||!s||!o||!l)throw new Ve("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(s);let d=c+u;i&&(d=parseInt(i));const h=d-c;1e3*h<=Te&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:u,expires_at:d,refresh_token:o,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await lt(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var r;const{data:n,error:a}=t;if(a)return{error:a};const o=null===(r=n.session)||void 0===r?void 0:r.access_token;if(o){const{error:t}=await this.admin.signOut(o,e);if(t&&(!function(e){return ze(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await ct(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession((async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await pt(this.storage,this.storageKey,!0));try{return await xt(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(ze(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(ze(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession((async t=>{var r,n,a,o,s;const{data:i,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await xt(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(o=i.session)||void 0===o?void 0:o.access_token)&&void 0!==s?s:void 0})}));if(n)throw n;return nt()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),{data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null}}catch(r){if(ze(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var r,n;const{data:a,error:o}=t;if(o)throw o;return await xt(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})}))}catch(t){if(ze(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await xt(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:wt})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&We(t)&&Date.now()+r-a<Te},new Promise(((e,t)=>{(async()=>{for(let o=0;o<1/0;o++)try{const t=await r(o);if(!n(o,null,t))return void e(t)}catch(a){if(!n(o,a))return void t(a)}})()})))}catch(a){if(this._debug(t,"error",a),ze(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),nt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await lt(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const n=1e3*(null!==(e=r.expires_at)&&void 0!==e?e:1/0)-Date.now()<Pe;if(this._debug(t,"session has".concat(n?"":" not"," expired with margin of ").concat(Pe,"s")),n){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),We(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){return this._debug(t,"error",r),void console.error(r)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Me;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{this.refreshingDeferred=new ut;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Me;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),ze(a)){const e={session:null,error:a};return We(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n="#_notifyAllSubscribers(".concat(e,")");this._debug(n,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(e,t)}catch(a){n.push(a)}}));if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await it(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ct(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nt()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Te);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-t)/Te);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(n," ticks, a tick lasts ").concat(Te,"ms, refresh threshold is ").concat(3," ticks")),n<=3&&await this._callRefreshToken(r.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof Rt))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&n.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await pt(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(n.join("&"))}async _unenroll(e){try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await xt(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(ze(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var r,n;const{data:a,error:o}=t;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:i,error:l}=await xt(this.fetch,"POST","".concat(this.url,"/factors"),{body:s,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null===i||void 0===i?void 0:i.totp)||void 0===n?void 0:n.qr_code)&&(i.totp.qr_code="data:image/svg+xml;utf-8,".concat(i.totp.qr_code)),{data:i,error:null})}))}catch(t){if(ze(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:o,error:s}=await xt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})}))}catch(t){if(ze(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await xt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(ze(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null===e||void 0===e?void 0:e.factors)||[],n=r.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),a=r.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=dt(n.access_token);let s=null;o.aal&&(s=o.aal);let i=s;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==r?r:[]).length>0&&(i="aal2");return{data:{currentLevel:s,nextLevel:i,currentAuthenticationMethods:o.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:r,error:n}=await xt(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(n)throw n;if(!r.keys||0===r.keys.length)throw new Ke("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),t=r.keys.find((t=>t.kid===e)),!t)throw new Ke("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:a,signature:o,raw:{header:s,payload:i}}=dt(r);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!n.kid||"HS256"===n.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:o},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),c=await this.fetchJwk(n.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,o,function(e){const t=[];return tt(e,(e=>t.push(e))),new Uint8Array(t)}("".concat(s,".").concat(i))))throw new Ke("Invalid JWT signature");return{data:{claims:a,header:n,signature:o},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}}}Ft.nextInstanceID=0;const Dt=Ft;class Ut extends Dt{constructor(e){super(e)}}var Mt=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};class Bt{constructor(e,t,r){var n,a,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=e.replace(/\/$/,"");const i=new URL(s);this.realtimeUrl=new URL("/realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("/auth/v1",i),this.storageUrl=new URL("/storage/v1",i),this.functionsUrl=new URL("/functions/v1",i);const l="sb-".concat(i.hostname.split(".")[0],"-auth-token"),c=function(e,t){var r,n;const{db:a,auth:o,realtime:s,global:i}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),global:Object.assign(Object.assign(Object.assign({},d),i),{headers:Object.assign(Object.assign({},null!==(r=null===d||void 0===d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null===i||void 0===i?void 0:i.headers)&&void 0!==n?n:{})}),accessToken:()=>Ee(this,void 0,void 0,(function*(){return""}))};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==r&&void 0!==r?r:{},{db:xe,realtime:ke,auth:Object.assign(Object.assign({},we),{storageKey:l}),global:ye});this.storageKey=null!==(n=c.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=c.global.headers)&&void 0!==a?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(o=c.auth)&&void 0!==o?o:{},this.headers,c.global.fetch),this.fetch=Ne(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new f("".concat(s,"/rest/v1"),{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new d(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new be(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Mt(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:o,storage:s,storageKey:i,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Ut({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:i,autoRefreshToken:n,persistSession:a,detectSessionInUrl:o,storage:s,flowType:l,lock:c,debug:u,fetch:r,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new K(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}const qt=new Bt("https://koaozymugtdawdlvhixt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtvYW96eW11Z3RkYXdkbHZoaXh0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3NjQxMTcsImV4cCI6MjA2MzM0MDExN30.nVbAkorgWUEBuHij2P3nMAEyaHB4l_o_-MhFhF5qLZM",Vt);var Vt,Ht=r(579);function Qt(e){let{onLogin:t}=e;const[r,a]=(0,n.useState)(""),[o,s]=(0,n.useState)(""),[i,l]=(0,n.useState)("");return(0,Ht.jsx)("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/fondo.png')"},children:(0,Ht.jsxs)("div",{className:"bg-white bg-opacity-90 p-8 rounded-xl shadow-xl w-full max-w-md",children:[(0,Ht.jsx)("div",{className:"flex justify-center mb-6",children:(0,Ht.jsx)("img",{src:"/logo.png",alt:"Logo de la empresa",className:"h-60 object-contain"})}),(0,Ht.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"Iniciar sesi\xf3n"}),(0,Ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{data:n,error:a}=await qt.from("usuarios").select("*").eq("usuario",r).eq("contrasena",o).single();a||!n?l("Usuario o contrase\xf1a incorrectos"):(console.log("ROL DEL USUARIO:",n.rol),t(n))},className:"space-y-4",children:[(0,Ht.jsx)("input",{type:"text",placeholder:"Usuario",value:r,onChange:e=>a(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Ht.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:o,onChange:e=>s(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Ht.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition",children:"Entrar"})]}),i&&(0,Ht.jsx)("p",{className:"text-red-600 mt-4 text-center font-semibold",children:i})]})})}function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function $t(e){var t=function(e,t){if("object"!=Wt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wt(t)?t:t+""}function Kt(e,t,r){return(t=$t(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){Kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(){const[e,t]=(0,n.useState)(""),[r,a]=(0,n.useState)({nombre:"",salarioQuincena:"",bonificacion:"",horaExtra:"",viaticos_diarios:"",fechaIngreso:"",dpi:"",telefono:"",fotoPapeleria:null}),o=e=>{const{name:t,value:r}=e.target;a((e=>Gt(Gt({},e),{},{[t]:r})))};return(0,Ht.jsxs)("div",{className:"bg-white/60 p-6 rounded-xl shadow-md max-w-3xl mx-auto mt-6",children:[(0,Ht.jsx)("h2",{className:"text-xl font-bold mb-2 text-center text-gray-800",children:"\ud83d\udcdd Registro de Personal"}),e?(0,Ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,Ht.jsx)("input",{type:"text",placeholder:"Nombre completo",name:"nombre",value:r.nombre,onChange:o,className:"border p-2 rounded"}),(0,Ht.jsx)("input",{type:"number",placeholder:"fijo"===e?"Salario por quincena":"Salario por d\xeda",name:"salarioQuincena",value:r.salarioQuincena,onChange:o,className:"border p-2 rounded"}),"fijo"===e&&(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsx)("input",{type:"number",placeholder:"Bono por d\xeda trabajado",name:"bonificacion",value:r.bonificacion,onChange:o,className:"border p-2 rounded"}),(0,Ht.jsx)("input",{type:"number",placeholder:"Vi\xe1ticos",name:"viaticos_diarios",value:r.viaticos_diarios,onChange:o,className:"border p-2 rounded"})]}),(0,Ht.jsx)("input",{type:"number",placeholder:"Pago por hora extra",name:"horaExtra",value:r.horaExtra,onChange:o,className:"border p-2 rounded"}),(0,Ht.jsx)("input",{type:"date",name:"fechaIngreso",value:r.fechaIngreso,onChange:o,className:"border p-2 rounded"}),(0,Ht.jsx)("input",{type:"text",placeholder:"No. DPI",name:"dpi",value:r.dpi,onChange:o,className:"border p-2 rounded"}),(0,Ht.jsx)("input",{type:"text",placeholder:"Tel\xe9fono",name:"telefono",value:r.telefono,onChange:o,className:"border p-2 rounded"}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Papeler\xeda"}),(0,Ht.jsx)("input",{type:"file",onChange:e=>{a((t=>Gt(Gt({},t),{},{fotoPapeleria:e.target.files[0]})))},className:"border p-2 rounded w-full"})]}),(0,Ht.jsxs)("div",{className:"flex justify-between mt-6 col-span-full",children:[(0,Ht.jsx)("button",{onClick:()=>t(""),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition",children:"Volver"}),(0,Ht.jsx)("button",{onClick:async()=>{if(!r.nombre.trim()||!e)return void alert("Por favor, completa el nombre y selecciona el tipo de personal.");let n=null;if(r.fotoPapeleria){const e=r.fotoPapeleria,t="".concat(Date.now(),"_").concat(e.name),{error:a}=await qt.storage.from("papeleria").upload(t,e);if(a)return console.error(a),void alert("Error al subir la papeler\xeda.");const{data:{publicUrl:o}}=qt.storage.from("papeleria").getPublicUrl(t);n=o}const o={nombrecompleto:r.nombre.trim(),modalidad:e,salariopordia:"temporal"===e?parseFloat(r.salarioQuincena||0):null,salarioporquincena:"fijo"===e?parseFloat(r.salarioQuincena||0):null,bonificacion:"fijo"===e?parseFloat(r.bonificacion||0):null,pagoporhoraextra:parseFloat(r.horaExtra||0),viaticos_diarios:"fijo"===e?parseFloat(r.viaticos_diarios||0):null,fechadeingreso:r.fechaIngreso||(new Date).toISOString().slice(0,10),dpi:r.dpi||"",telefono:r.telefono||"",urlpapeleria:n},{error:s}=await qt.from("registrodepersonal").insert([o]);s?(console.error(s),alert("Ocurri\xf3 un error al guardar el personal.")):(alert("\xa1Personal agregado correctamente!"),a({nombre:"",salarioQuincena:"",bonificacion:"",horaExtra:"",viaticos_diarios:"",fechaIngreso:"",dpi:"",telefono:"",fotoPapeleria:null}),t(""))},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition",children:"Guardar personal"})]})]}):(0,Ht.jsxs)("div",{className:"text-center",children:[(0,Ht.jsx)("p",{className:"text-gray-700 font-medium mb-4",children:"\xbfQu\xe9 tipo de personal deseas registrar?"}),(0,Ht.jsxs)("div",{className:"flex justify-center gap-6",children:[(0,Ht.jsx)("button",{onClick:()=>t("fijo"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"Personal Fijo"}),(0,Ht.jsx)("button",{onClick:()=>t("temporal"),className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition",children:"Personal Temporal"})]})]})]})}function Xt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Zt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,r)=>r?r.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},er=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t)).join(" ").trim()};var tr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rr=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],nr=(0,n.forwardRef)(((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:i="",children:l,iconNode:c}=e,u=Xt(e,rr);return(0,n.createElement)("svg",Gt(Gt(Gt({ref:t},tr),{},{width:a,height:a,stroke:r,strokeWidth:s?24*Number(o)/Number(a):o,className:er("lucide",i)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...c.map((e=>{let[t,r]=e;return(0,n.createElement)(t,r)})),...Array.isArray(l)?l:[l]])})),ar=["className"],or=(e,t)=>{const r=(0,n.forwardRef)(((r,a)=>{let{className:o}=r,s=Xt(r,ar);return(0,n.createElement)(nr,Gt({ref:a,iconNode:t,className:er("lucide-".concat((i=Zt(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),o)},s));var i}));return r.displayName=Zt(e),r},sr=or("circle-minus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),ir=or("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);function lr(e){let{persona:t,onCerrar:r}=e;const[a,o]=(0,n.useState)({salarioBase:"",bonoAsistencia:"",viaticos:"",pagoHoraExtra:"",salarioDia:""});(0,n.useEffect)((()=>{"fijo"===t.modalidad?o({salarioBase:t.salarioporquincena||"",bonoAsistencia:t.bonificacion||"",viaticos:t.viaticos_diarios||"",pagoHoraExtra:t.pagoporhoraextra||""}):"temporal"===t.modalidad&&o({salarioDia:t.salariopordia||"",pagoHoraExtra:t.pagoporhoraextra||""})}),[t]);const s=e=>{const{name:t,value:r}=e.target;o((e=>Gt(Gt({},e),{},{[t]:r})))};return(0,Ht.jsxs)("div",{className:"p-4 rounded-xl shadow bg-white",children:[(0,Ht.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"\u2699\ufe0f Modificar Datos de Trabajo"}),"fijo"===t.modalidad&&(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsxs)("div",{className:"mb-4",children:[(0,Ht.jsx)("label",{className:"block font-medium mb-1",children:"Salario por quincena (Q)"}),(0,Ht.jsx)("input",{type:"number",name:"salarioBase",value:a.salarioBase,onChange:s,className:"border p-2 rounded w-full"})]}),(0,Ht.jsxs)("div",{className:"mb-4",children:[(0,Ht.jsx)("label",{className:"block font-medium mb-1",children:"Bono por d\xeda trabajado (Q)"}),(0,Ht.jsx)("input",{type:"number",name:"bonoAsistencia",value:a.bonoAsistencia,onChange:s,className:"border p-2 rounded w-full"})]}),(0,Ht.jsxs)("div",{className:"mb-4",children:[(0,Ht.jsx)("label",{className:"block font-medium mb-1",children:"Vi\xe1ticos diarios (Q)"}),(0,Ht.jsx)("input",{type:"number",name:"viaticos",value:a.viaticos,onChange:s,className:"border p-2 rounded w-full"})]}),(0,Ht.jsxs)("div",{className:"mb-4",children:[(0,Ht.jsx)("label",{className:"block font-medium mb-1",children:"Pago por hora extra (Q)"}),(0,Ht.jsx)("input",{type:"number",name:"pagoHoraExtra",value:a.pagoHoraExtra,onChange:s,className:"border p-2 rounded w-full"})]})]}),"temporal"===t.modalidad&&(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsxs)("div",{className:"mb-4",children:[(0,Ht.jsx)("label",{className:"block font-medium mb-1",children:"Salario por d\xeda (Q)"}),(0,Ht.jsx)("input",{type:"number",name:"salarioDia",value:a.salarioDia,onChange:s,className:"border p-2 rounded w-full"})]}),(0,Ht.jsxs)("div",{className:"mb-4",children:[(0,Ht.jsx)("label",{className:"block font-medium mb-1",children:"Pago por hora extra (Q)"}),(0,Ht.jsx)("input",{type:"number",name:"pagoHoraExtra",value:a.pagoHoraExtra,onChange:s,className:"border p-2 rounded w-full"})]})]}),(0,Ht.jsxs)("div",{className:"flex gap-4 justify-center mt-4",children:[(0,Ht.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700",onClick:async()=>{let e={};"fijo"===t.modalidad?e={salarioporquincena:a.salarioBase||null,bonificacion:a.bonoAsistencia||null,viaticos:a.viaticos||null,horas_extras:a.pagoHoraExtra||null}:"temporal"===t.modalidad&&(e={salariopordia:a.salarioDia||null,horas_extras:a.pagoHoraExtra||null});const{error:n}=await qt.from("registrodepersonal").update(e).eq("id",t.id);n?(console.error("Error al actualizar:",n),alert("Ocurri\xf3 un error al actualizar los datos.")):(alert("Datos actualizados correctamente."),r())},children:"Guardar"}),(0,Ht.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded shadow hover:bg-red-700",onClick:r,children:"Cerrar"})]})]})}function cr(){const[e,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)([]),[o,s]=(0,n.useState)(null),[i,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)(""),[m,g]=(0,n.useState)([]),[b,v]=(0,n.useState)({pagoPorDia:"",horasExtras:"",unidadesMeta:"",unidadesBonificacion:"",bonificacionExtra:"",pagoExtraordinario:"",grupo:""}),[y,x]=(0,n.useState)(!1),w=e=>{v(Gt(Gt({},b),{},{[e.target.name]:e.target.value}))},k=async e=>{const{data:t,error:r}=await qt.from("reportesdiarios").select("*").eq("nombretrabajador",e);r?console.error("Error cargando reportes diarios:",r):g(t)},_=async()=>{const{data:e,error:t}=await qt.from("registrodepersonal").select("*");if(t)return void console.error("Error cargando personal:",t);const{data:r,error:n}=await qt.from("reportesdiarios").select("nombretrabajador, pagototal").order("nombretrabajador",{ascending:!0});if(n)return void console.error("Error cargando pagos:",n);const o={};r.forEach((e=>{o[e.nombretrabajador]||(o[e.nombretrabajador]=0),o[e.nombretrabajador]+=parseFloat(e.pagototal||0)}));const s=e.map((e=>{const t=o[e.nombrecompleto]||0;let r=0;return r="fijo"===e.modalidad?(e.salarioporquincena||0)+t:t,Gt(Gt({},e),{},{totalAcumulado:r})}));a(s)};return(0,n.useEffect)((()=>{_()}),[]),(0,Ht.jsxs)("div",{className:"overflow-x-auto bg-white/70 backdrop-blur-md p-4 md:p-6 rounded-xl shadow-xl mt-6",children:[(0,Ht.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800 text-center md:text-left",children:"\ud83d\udccb Planilla de Personal"}),(0,Ht.jsxs)("table",{className:"min-w-full border border-gray-300 text-sm text-center",children:[(0,Ht.jsx)("thead",{className:"bg-gray-200 text-gray-700",children:(0,Ht.jsxs)("tr",{children:[(0,Ht.jsx)("th",{className:"px-2 py-2 border"}),(0,Ht.jsx)("th",{className:"px-2 py-2 border",children:"Nombre"}),(0,Ht.jsx)("th",{className:"px-2 py-2 border",children:"Modalidad"}),(0,Ht.jsx)("th",{className:"px-2 py-2 border",children:"Salario"}),(0,Ht.jsx)("th",{className:"px-2 py-2 border",children:"Bono por d\xeda"}),(0,Ht.jsx)("th",{className:"px-2 py-2 border",children:"Hora extra"}),(0,Ht.jsx)("th",{className:"px-2 py-2 border",children:"Vi\xe1ticos"}),(0,Ht.jsx)("th",{className:"px-2 py-2 border font-semibold text-green-800",children:"Total"})]})}),(0,Ht.jsx)("tbody",{children:r.map((r=>{const a="fijo"===r.modalidad?r.salarioporquincena||0:r.salariopordia||0,g=r.bonificacion||0,j=r.pagoporhoraextra||0,S=r.viaticos_diarios||0,N=r.totalAcumulado||0;return(0,Ht.jsxs)(n.Fragment,{children:[(0,Ht.jsxs)("tr",{className:"border-b",children:[(0,Ht.jsx)("td",{className:"px-2 py-2 border",children:(0,Ht.jsx)("button",{onClick:()=>(async e=>{(null===o||void 0===o?void 0:o.id)===e.id&&i?(l(!1),s(null)):(s(e),l(!0),u(!1),h(!1),p(""),v({pagoPorDia:"",horasExtras:"",unidadesMeta:"",unidadesBonificacion:"",bonificacionExtra:"",pagoExtraordinario:"",grupo:""}),await k(e.nombrecompleto))})(r),className:"text-green-600 hover:text-green-800",children:(null===o||void 0===o?void 0:o.id)===r.id&&i?(0,Ht.jsx)(sr,{size:20}):(0,Ht.jsx)(ir,{size:20})})}),(0,Ht.jsx)("td",{className:"px-2 py-2 border text-xs md:text-sm",children:r.nombrecompleto}),(0,Ht.jsx)("td",{className:"px-2 py-2 border capitalize text-xs md:text-sm",children:r.modalidad}),(0,Ht.jsxs)("td",{className:"px-2 py-2 border text-xs md:text-sm",children:["Q",a]}),(0,Ht.jsxs)("td",{className:"px-2 py-2 border text-xs md:text-sm",children:["Q",g]}),(0,Ht.jsxs)("td",{className:"px-2 py-2 border text-xs md:text-sm",children:["Q",j]}),(0,Ht.jsxs)("td",{className:"px-2 py-2 border text-xs md:text-sm",children:["Q",S]}),(0,Ht.jsxs)("td",{className:"px-2 py-2 border font-bold text-green-700 text-xs md:text-sm",children:["Q",N]})]}),i&&(null===o||void 0===o?void 0:o.id)===r.id&&(0,Ht.jsx)("tr",{children:(0,Ht.jsx)("td",{colSpan:"8",className:"px-4 py-2 bg-gray-50",children:(0,Ht.jsxs)("div",{className:"p-4 bg-white rounded-xl shadow",children:[(0,Ht.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 text-center md:text-left",children:["\ud83d\udcc5 Resumen diario de ",r.nombrecompleto]}),(0,Ht.jsxs)("div",{className:"flex flex-col md:flex-row justify-center gap-4 mb-4",children:[(0,Ht.jsx)("div",{onClick:()=>{u(!c),h(!1),t(!e)},className:"bg-blue-600 text-white px-4 py-2 rounded-2xl shadow cursor-pointer hover:bg-blue-700 transition w-full md:w-40 text-center",children:e?"Cerrar modificaci\xf3n":"Modificar trabajos"}),(0,Ht.jsx)("div",{onClick:()=>{h(!d),u(!1)},className:"bg-green-600 text-white px-4 py-2 rounded-2xl shadow cursor-pointer hover:bg-green-700 transition w-full md:w-40 text-center",children:"Reportar d\xeda"})]}),d&&(0,Ht.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow text-center md:text-left",children:[(0,Ht.jsx)("h5",{className:"font-semibold mb-2",children:"\ud83d\udcc6 Reportar asistencia"}),(0,Ht.jsx)("label",{className:"block mb-1 font-medium",children:"\xbfSe present\xf3?"}),(0,Ht.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"border p-2 rounded mb-2 w-full md:w-40",children:[(0,Ht.jsx)("option",{value:"",children:"Seleccione"}),(0,Ht.jsx)("option",{value:"si",children:"S\xed"}),(0,Ht.jsx)("option",{value:"no",children:"No"})]}),"si"===f&&(0,Ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Horas extras"}),(0,Ht.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[(0,Ht.jsx)("input",{type:"number",name:"horasExtras",placeholder:"Cantidad",value:b.horasExtras||"",onChange:w,className:"border p-1 rounded text-xs"}),(0,Ht.jsx)("input",{type:"text",readOnly:!0,value:"Q".concat(r.pagoporhoraextra||0),className:"border p-1 rounded bg-gray-100 text-xs cursor-not-allowed"}),(0,Ht.jsx)("input",{type:"text",readOnly:!0,value:"Q".concat((parseFloat(b.horasExtras||0)*parseFloat(r.pagoporhoraextra||0)).toFixed(2)),className:"border p-1 rounded bg-green-100 text-green-800 font-bold text-xs"})]})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Vi\xe1ticos"}),(0,Ht.jsx)("input",{type:"text",value:"Q".concat(r.viaticos_diarios||0),readOnly:!0,className:"border p-2 rounded bg-gray-100 cursor-not-allowed w-full"})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Unidades para meta"}),(0,Ht.jsx)("input",{type:"number",name:"unidadesMeta",placeholder:"Unidades para meta",value:b.unidadesMeta,onChange:w,className:"border p-2 rounded w-full ".concat(""===b.unidadesMeta&&y?"border-red-500":"")})]}),(0,Ht.jsxs)("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Unidades para bonificaci\xf3n"}),(0,Ht.jsx)("input",{type:"number",name:"unidadesBonificacion",placeholder:"Unidades para bonificaci\xf3n",value:b.unidadesBonificacion,onChange:w,className:"border p-2 rounded w-full ".concat(""===b.unidadesBonificacion&&y?"border-red-500":"")})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Pago Extraordinario (domingo)"}),(0,Ht.jsx)("input",{type:"number",name:"pagoExtraordinario",placeholder:"Q0",value:b.pagoExtraordinario||"",onChange:w,className:"border p-2 rounded w-full"})]})]}),parseInt(b.unidadesBonificacion||0)>parseInt(b.unidadesMeta||0)&&(0,Ht.jsxs)("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Bonificaci\xf3n por unidades extras (Q)"}),(0,Ht.jsx)("input",{type:"number",name:"bonificacionExtra",placeholder:"Bonificaci\xf3n por unidades extras (Q)",value:b.bonificacionExtra||"",onChange:w,className:"border p-2 rounded w-full ".concat(""===b.bonificacionExtra&&y?"border-red-500":"")})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Pago de U/Extra"}),(0,Ht.jsx)("input",{type:"text",readOnly:!0,value:"Q".concat(((parseInt(b.unidadesBonificacion||0)-parseInt(b.unidadesMeta||0))*parseFloat(b.bonificacionExtra||0)).toFixed(2)),className:"border p-2 rounded bg-green-100 text-green-800 font-bold w-full"})]})]}),(0,Ht.jsxs)("div",{className:"col-span-1 md:col-span-2 bg-green-100 p-2 rounded text-green-800 font-bold",children:["Total: Q",(parseFloat(r.bonificacion||0)+parseFloat(r.viaticos_diarios||0)+parseFloat(b.horasExtras||0)*parseFloat(r.pagoporhoraextra||0)+(parseInt(b.unidadesBonificacion||0)-parseInt(b.unidadesMeta||0))*parseFloat(b.bonificacionExtra||0)+parseFloat(b.pagoExtraordinario||0)).toFixed(2)]})]}),"no"===f&&(0,Ht.jsx)("p",{className:"text-red-600 font-semibold mt-2",children:"No se registrar\xe1n datos adicionales."}),(0,Ht.jsx)("div",{className:"flex justify-center mt-4",children:(0,Ht.jsx)("button",{onClick:async()=>{if(["horasExtras","unidadesMeta","unidadesBonificacion"].some((e=>""===b[e]))){if(!confirm("Faltan datos. \xbfDesea guardar solo los datos llenados?"))return void x(!0);console.log("Guardando reporte parcial...")}const e={fechareporte:(new Date).toISOString().slice(0,10),nombretrabajador:o.nombrecompleto,horas_extras:parseFloat(b.horasExtras||0),bono:parseInt(r.bonificacion||0,10)||0,viaticos:parseInt(r.viaticos_diarios||0,10)||0,metaestablecida:parseInt(b.unidadesMeta||0),cantidad:parseInt(b.unidadesBonificacion||0),extra:parseFloat(b.bonificacionExtra||0),pagoextraordinario:parseFloat(b.pagoExtraordinario||0),pagototal:parseFloat(r.bonificacion||0)+parseFloat(r.viaticos_diarios||0)+parseFloat(b.horasExtras||0)*parseFloat(r.pagoporhoraextra||0)+(parseInt(b.unidadesBonificacion||0)-parseInt(b.unidadesMeta||0))*parseFloat(b.bonificacionExtra||0)+parseFloat(b.pagoExtraordinario||0),numerogrupo:b.grupo||"",sepresentoatrabajar:f};try{const{data:t,error:n}=await qt.from("reportesdiarios").insert([e]);if(n)throw n;alert("\xa1Reporte guardado correctamente!"),h(!1),l(!1);const a=parseFloat(r.bonificacion||0)+parseFloat(r.viaticos_diarios||0)+parseFloat(b.horasExtras||0)*parseFloat(r.pagoporhoraextra||0)+(parseInt(b.unidadesBonificacion||0)-parseInt(b.unidadesMeta||0))*parseFloat(b.bonificacionExtra||0)+parseFloat(b.pagoExtraordinario||0),o=parseInt(a,10)||0,{error:s}=await qt.from("registrodepersonal").update({salariopordia:o}).eq("id",r.id);if(s)throw s;_()}catch(t){console.error(t),alert("Error al guardar en la base de datos.")}},className:"bg-green-600 text-white px-4 py-2 rounded-2xl shadow hover:bg-green-700 transition",children:"Subir Reporte"})})]}),m.length>0?(0,Ht.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow mt-4",children:[(0,Ht.jsx)("h5",{className:"font-semibold text-gray-700 mb-2",children:"\ud83d\udcdd Reportes diarios:"}),(0,Ht.jsxs)("table",{className:"min-w-full text-xs text-center border border-gray-300",children:[(0,Ht.jsx)("thead",{className:"bg-gray-200 text-gray-700",children:(0,Ht.jsxs)("tr",{children:[(0,Ht.jsx)("th",{className:"px-2 py-1 border",children:"Fecha"}),(0,Ht.jsx)("th",{className:"px-2 py-1 border",children:"Horas extras (Q)"}),(0,Ht.jsx)("th",{className:"px-2 py-1 border",children:"Unidades establecidas"}),(0,Ht.jsx)("th",{className:"px-2 py-1 border",children:"Unidades hechas"}),(0,Ht.jsx)("th",{className:"px-2 py-1 border",children:"Unidades extras realizadas"}),(0,Ht.jsx)("th",{className:"px-2 py-1 border",children:"Pago Domingo"}),(0,Ht.jsx)("th",{className:"px-2 py-1 border",children:"Vi\xe1ticos"}),(0,Ht.jsx)("th",{className:"px-2 py-1 border font-semibold text-green-800",children:"Pago Total (Q)"})]})}),(0,Ht.jsx)("tbody",{children:m.map(((e,t)=>{const r=(parseFloat(e.horas_extras||0)*parseFloat((null===o||void 0===o?void 0:o.pagoporhoraextra)||0)).toFixed(2),n=parseInt(e.cantidad||0)-parseInt(e.metaestablecida||0);return(0,Ht.jsxs)("tr",{children:[(0,Ht.jsx)("td",{className:"border px-2 py-1",children:e.fechareporte}),(0,Ht.jsxs)("td",{className:"border px-2 py-1",children:["Q",r]}),(0,Ht.jsx)("td",{className:"border px-2 py-1",children:e.metaestablecida}),(0,Ht.jsx)("td",{className:"border px-2 py-1",children:e.cantidad}),(0,Ht.jsx)("td",{className:"border px-2 py-1",children:n}),(0,Ht.jsx)("td",{className:"border px-2 py-1",children:e.pagoextraordinario}),(0,Ht.jsx)("td",{className:"border px-2 py-1",children:e.viaticos}),(0,Ht.jsxs)("td",{className:"border px-2 py-1 font-bold text-green-700",children:["Q",parseFloat(e.pagototal).toFixed(2)]})]},t)}))})]})]}):(0,Ht.jsx)("p",{className:"text-gray-500 text-sm italic mt-2",children:"No hay reportes registrados a\xfan."}),"no"===f&&(0,Ht.jsx)("p",{className:"text-red-600 font-semibold mt-2",children:"No se registrar\xe1n datos adicionales."}),e&&(0,Ht.jsx)(lr,{persona:o,onCerrar:()=>t(!1)})]})})})]},r.id)}))})]})]})}function ur(e){let{personal:t}=e;return(0,Ht.jsxs)("div",{className:"overflow-x-auto bg-white/70 backdrop-blur-md p-6 rounded-xl shadow-xl mt-6",children:[(0,Ht.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"\ud83d\udc64 Todos los Trabajadores"}),(0,Ht.jsxs)("table",{className:"min-w-full border border-gray-300 text-sm text-center",children:[(0,Ht.jsx)("thead",{className:"bg-gray-200 text-gray-700",children:(0,Ht.jsxs)("tr",{children:[(0,Ht.jsx)("th",{className:"px-4 py-2 border",children:"Nombre"}),(0,Ht.jsx)("th",{className:"px-4 py-2 border",children:"Modalidad"}),(0,Ht.jsx)("th",{className:"px-4 py-2 border",children:"Salario"}),(0,Ht.jsx)("th",{className:"px-4 py-2 border",children:"Bono por d\xeda trabajado"}),(0,Ht.jsx)("th",{className:"px-4 py-2 border",children:"Hora extra"}),(0,Ht.jsx)("th",{className:"px-4 py-2 border",children:"Vi\xe1ticos"}),(0,Ht.jsx)("th",{className:"px-4 py-2 border",children:"DPI"}),(0,Ht.jsx)("th",{className:"px-4 py-2 border",children:"Tel\xe9fono"}),(0,Ht.jsx)("th",{className:"px-4 py-2 border",children:"Ingreso"}),(0,Ht.jsx)("th",{className:"px-4 py-2 border",children:"Papeler\xeda"})]})}),(0,Ht.jsx)("tbody",{children:t.map((e=>(0,Ht.jsxs)("tr",{className:"border-b",children:[(0,Ht.jsx)("td",{className:"px-4 py-2 border",children:e.nombrecompleto}),(0,Ht.jsx)("td",{className:"px-4 py-2 border capitalize",children:e.modalidad}),(0,Ht.jsx)("td",{className:"px-4 py-2 border",children:"fijo"===e.modalidad?"Q".concat(e.salarioporquincena||0):"Q".concat(e.salariopordia||0)}),(0,Ht.jsx)("td",{className:"px-4 py-2 border",children:e.bonificacion||"-"}),(0,Ht.jsx)("td",{className:"px-4 py-2 border",children:e.pagoporhoraextra||"-"}),(0,Ht.jsx)("td",{className:"px-4 py-2 border",children:e.viaticos_diarios||"-"}),(0,Ht.jsx)("td",{className:"px-4 py-2 border",children:e.dpi||"-"}),(0,Ht.jsx)("td",{className:"px-4 py-2 border",children:e.telefono||"-"}),(0,Ht.jsx)("td",{className:"px-4 py-2 border",children:e.fechadeingreso?e.fechadeingreso.split("T")[0]:"-"}),(0,Ht.jsx)("td",{className:"px-4 py-2 border",children:e.urlpapeleria?(0,Ht.jsx)("button",{onClick:()=>window.open(e.urlpapeleria,"_blank"),className:"bg-blue-100 hover:bg-blue-200 text-blue-800 font-medium px-2 py-1 rounded-full text-xs transition",children:"Ver Papeles"}):"-"})]},e.id)))})]})]})}function dr(e){let{usuario:t,onCerrar:r}=e;const[a,o]=(0,n.useState)(null),[s,i]=(0,n.useState)(!0),[l,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)(null),[h,f]=(0,n.useState)(0),[p,m]=(0,n.useState)(""),[g,b]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(async()=>{const{data:e,error:r}=await qt.from("registrodepersonal").select("nombrecompleto, bonificacion, viaticos_diarios").eq("id_usuario",t.id);if(e&&e.length>0){o(e[0]);const r=(new Date).toISOString().slice(0,10),{data:n}=await qt.from("reportesdiarios").select("id, hora_salida").eq("id_usuario",t.id).eq("fechareporte",r);if(n&&n.length>0){const e=n[0];e.hora_salida?b(!0):(d(e.id),i(!1))}}else console.error(r||"No se encontr\xf3 el supervisor en registrodepersonal")})()}),[t]);const v=()=>new Promise((e=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{const{latitude:r,longitude:n}=t.coords;e("Lat: ".concat(r,", Lng: ").concat(n))}),(()=>{e("No disponible")})):e("No disponible")})),y=()=>{r&&r()};return g?(0,Ht.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-md w-full max-w-md mx-auto",children:[(0,Ht.jsx)("h3",{className:"text-xl font-bold text-purple-800 mb-4",children:"\ud83d\udcdd Reportar Asistencia"}),(0,Ht.jsx)("p",{className:"text-gray-500 mb-4",children:"\u2705 Asistencia completada hoy. Vuelve ma\xf1ana."}),(0,Ht.jsx)("button",{onClick:y,className:"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500 transition",children:"Cerrar"})]}):(0,Ht.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-md w-full max-w-md mx-auto",children:[(0,Ht.jsx)("h3",{className:"text-xl font-bold text-purple-800 mb-4",children:"\ud83d\udcdd Reportar Asistencia"}),a?(0,Ht.jsxs)("div",{className:"grid gap-4",children:[(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),(0,Ht.jsx)("input",{type:"text",value:a.nombrecompleto,disabled:!0,className:"border p-2 rounded w-full bg-gray-100"})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bono diario"}),(0,Ht.jsx)("input",{type:"number",value:a.bonificacion,disabled:!0,className:"border p-2 rounded w-full bg-gray-100"})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Vi\xe1ticos diarios"}),(0,Ht.jsx)("input",{type:"number",value:a.viaticos_diarios,disabled:!0,className:"border p-2 rounded w-full bg-gray-100"})]}),!s&&(0,Ht.jsxs)("div",{className:"grid gap-2",children:[(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Horas extras"}),(0,Ht.jsx)("input",{type:"number",value:h,onChange:e=>f(Number(e.target.value)),disabled:"supervisor"!==t.rol,className:"border p-2 rounded w-full"})]}),h>0&&(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Raz\xf3n de horas extras"}),(0,Ht.jsx)("input",{type:"text",value:p,onChange:e=>m(e.target.value),disabled:"supervisor"!==t.rol,className:"border p-2 rounded w-full"})]})]}),(0,Ht.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,Ht.jsx)("button",{onClick:s?async()=>{c(!0);const e=await v(),r={nombretrabajador:a.nombrecompleto,bono:a.bonificacion,viaticos_diarios:a.viaticos_diarios,horas_extras:0,fechareporte:(new Date).toISOString().slice(0,10),hora_entrada:(new Date).toLocaleTimeString(),ubicacion_entrada:e,reportadopor:t.usuario,id_usuario:t.id},{data:n,error:o}=await qt.from("reportesdiarios").insert([r]).select();!o&&n&&n.length>0?(alert("Entrada registrada \u2705"),d(n[0].id),i(!1)):(console.error(o),alert("Hubo un error al guardar la entrada")),c(!1)}:async()=>{if(!u)return void alert("No se encontr\xf3 el reporte para registrar la salida");if(h>0&&""===p.trim())return void alert("Por favor, ingresa la raz\xf3n de las horas extras");c(!0);const e=await v(),{error:t}=await qt.from("reportesdiarios").update({hora_salida:(new Date).toLocaleTimeString(),ubicacion_salida:e,horas_extras:h,razon_horas_extras:h>0?p:null}).eq("id",u);t?(console.error(t),alert("Hubo un error al registrar la salida")):(alert("Salida registrada \u2705"),i(!0),d(null),f(0),m(""),b(!0)),c(!1)},disabled:l,className:"flex-1 ".concat(s?"bg-green-600":"bg-red-600"," text-white py-2 rounded hover:opacity-90"),children:l?"Guardando...":s?"Entrada":"Salida"}),(0,Ht.jsx)("button",{onClick:y,className:"flex-1 bg-gray-400 text-white py-2 rounded hover:bg-gray-500 transition",children:"Cerrar"})]})]}):(0,Ht.jsx)("p",{className:"text-gray-500",children:"Cargando datos..."})]})}function hr(e){let{onCerrar:t}=e;const[r,a]=(0,n.useState)(""),[o,s]=(0,n.useState)(""),[i,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)("no"),[f,p]=(0,n.useState)(""),[m,g]=(0,n.useState)(null),[b,v]=(0,n.useState)(1e3);return(0,Ht.jsxs)("div",{className:"bg-white/90 p-6 rounded-2xl shadow-xl max-w-md mx-auto mt-4 relative",children:[(0,Ht.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83d\udcb0 Registro de Caja Chica"}),(0,Ht.jsxs)("div",{className:"absolute top-2 right-4 text-xs bg-green-100 text-green-800 font-semibold rounded px-2 py-1",children:["Q",b," restante"]}),(0,Ht.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,Ht.jsxs)("select",{value:r,onChange:e=>a(e.target.value),className:"border p-2 rounded",children:[(0,Ht.jsx)("option",{value:"",children:"Selecciona un proyecto"}),(0,Ht.jsx)("option",{value:"Proyecto A",children:"Proyecto A"}),(0,Ht.jsx)("option",{value:"Proyecto B",children:"Proyecto B"})]}),(0,Ht.jsx)("input",{type:"text",placeholder:"Descripci\xf3n",value:o,onChange:e=>s(e.target.value),className:"border p-2 rounded"}),(0,Ht.jsx)("input",{type:"date",value:i,onChange:e=>l(e.target.value),className:"border p-2 rounded"}),(0,Ht.jsx)("input",{type:"number",placeholder:"Monto",value:c,onChange:e=>u(e.target.value),className:"border p-2 rounded"}),(0,Ht.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ht.jsx)("span",{className:"font-semibold",children:"Factura contable:"}),(0,Ht.jsxs)("label",{className:"flex items-center gap-1",children:[(0,Ht.jsx)("input",{type:"radio",name:"factura",value:"si",checked:"si"===d,onChange:()=>h("si")}),"S\xed"]}),(0,Ht.jsxs)("label",{className:"flex items-center gap-1",children:[(0,Ht.jsx)("input",{type:"radio",name:"factura",value:"no",checked:"no"===d,onChange:()=>h("no")}),"No"]})]}),"si"===d&&(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsx)("input",{type:"text",placeholder:"No. Factura",value:f,onChange:e=>p(e.target.value),className:"border p-2 rounded"}),(0,Ht.jsx)("input",{type:"file",onChange:e=>g(e.target.files[0]),className:"border p-2 rounded"})]}),(0,Ht.jsx)("button",{onClick:()=>{console.log({proyectoSeleccionado:r,descripcion:o,fecha:i,monto:c,factura:d,noFactura:"si"===d?f:null,fotoFactura:"si"===d?m:null}),a(""),s(""),l(""),u(""),h("no"),p(""),g(null),alert("\xa1Caja Chica registrada exitosamente!")},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition",children:"Guardar"}),(0,Ht.jsx)("button",{onClick:t,className:"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500 transition",children:"Cerrar"})]})]})}function fr(){const[e,t]=(0,n.useState)("formulario"),[r,a]=(0,n.useState)(!1),[o,s]=(0,n.useState)([]),i={id:4,usuario:"super1",rol:"supervisor"};return(0,n.useEffect)((()=>{"planilla"!==e&&"ver_personal"!==e||(async()=>{let e=qt.from("registrodepersonal").select("*");"temporal"===i.rol&&(e=e.eq("modalidad","temporal"));const{data:t,error:r}=await e;r?console.error(r):s(t)})()}),[e]),(0,Ht.jsxs)("div",{className:"mt-6 max-w-7xl mx-auto bg-white/10 backdrop-blur-xl p-6 rounded-2xl",children:[(0,Ht.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 justify-start",children:[(0,Ht.jsxs)("div",{className:"bg-white/70 hover:bg-white/90 transition-all duration-200 rounded-2xl shadow-md p-6 flex-1 text-center flex flex-col gap-4",children:[(0,Ht.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"\u26a1 Acciones r\xe1pidas"}),(0,Ht.jsx)("button",{onClick:()=>t("asistencia"),className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition",children:"\u270f\ufe0f Reportar Asistencia"}),(0,Ht.jsx)("button",{onClick:()=>a(!r),className:"flex items-center justify-center gap-2 bg-blue-600 text-white font-semibold px-4 py-2 rounded shadow hover:bg-blue-700 transition",children:"\ud83d\udcb0 Caja Chica"})]}),(0,Ht.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 flex-1 justify-center items-center",children:[(0,Ht.jsxs)("div",{onClick:()=>t("formulario"),className:"bg-white/70 hover:bg-white/90 transition-all duration-200 rounded-2xl shadow-md p-6 w-full sm:w-72 cursor-pointer flex flex-col items-center justify-center text-center",children:[(0,Ht.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"\u2795 Agregar Personal"}),(0,Ht.jsx)("p",{className:"text-gray-600 text-sm",children:"Formulario para ingresar trabajadores"})]}),(0,Ht.jsxs)("div",{onClick:()=>t("planilla"),className:"bg-white/70 hover:bg-white/90 transition-all duration-200 rounded-2xl shadow-md p-6 w-full sm:w-72 cursor-pointer flex flex-col items-center justify-center text-center",children:[(0,Ht.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"\ud83d\udccb Ver Planilla"}),(0,Ht.jsx)("p",{className:"text-gray-600 text-sm",children:"Visualizar la planilla del personal"})]}),(0,Ht.jsxs)("div",{onClick:()=>t("ver_personal"),className:"bg-white/70 hover:bg-white/90 transition-all duration-200 rounded-2xl shadow-md p-6 w-full sm:w-72 cursor-pointer flex flex-col items-center justify-center text-center",children:[(0,Ht.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"\ud83d\udc64 Ver Personal"}),(0,Ht.jsx)("p",{className:"text-gray-600 text-sm",children:"Listado completo de trabajadores"})]})]})]}),r&&(0,Ht.jsx)(hr,{onCerrar:()=>{a(!1),t("formulario")}}),(0,Ht.jsxs)("div",{className:"mt-4",children:["formulario"===e&&(0,Ht.jsx)(Yt,{}),"planilla"===e&&(0,Ht.jsx)(cr,{personal:o}),"ver_personal"===e&&(0,Ht.jsx)(ur,{personal:o}),"asistencia"===e&&(0,Ht.jsx)(dr,{usuario:i,onCerrar:()=>t("formulario")})]})]})}const pr={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let mr;const gr=new Uint8Array(16);const br=[];for(let p=0;p<256;++p)br.push((p+256).toString(16).slice(1));function vr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(br[e[t+0]]+br[e[t+1]]+br[e[t+2]]+br[e[t+3]]+"-"+br[e[t+4]]+br[e[t+5]]+"-"+br[e[t+6]]+br[e[t+7]]+"-"+br[e[t+8]]+br[e[t+9]]+"-"+br[e[t+10]]+br[e[t+11]]+br[e[t+12]]+br[e[t+13]]+br[e[t+14]]+br[e[t+15]]).toLowerCase()}const yr=function(e,t,r){var n,a,o,s;if(pr.randomUUID&&!t&&!e)return pr.randomUUID();const i=null!==(n=null!==(a=(e=e||{}).random)&&void 0!==a?a:null===(o=(s=e).rng)||void 0===o?void 0:o.call(s))&&void 0!==n?n:function(){if(!mr){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mr=crypto.getRandomValues.bind(crypto)}return mr(gr)}();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError("UUID byte range ".concat(r,":").concat(r+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[r+e]=i[e];return t}return vr(i)};function xr(){const[e,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)([]),[o,s]=(0,n.useState)([]),[i,l]=(0,n.useState)({nombre:"",precio_unidad:"",bonificacion:"",meta:"",id:null});(0,n.useEffect)((()=>{(async()=>{const{data:e,error:t}=await qt.from("trabajos").select("*").order("created_at",{ascending:!1});if(!t){a(e);const t=[...new Set(e.map((e=>e.nombre)))];s(t)}})()}),[]);return(0,Ht.jsxs)("div",{className:"p-6",children:[(0,Ht.jsx)("div",{className:"flex justify-center mb-6",children:(0,Ht.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-md w-72 text-center cursor-pointer hover:shadow-lg",onClick:()=>t(!e),children:[(0,Ht.jsx)("p",{className:"text-2xl text-purple-700 font-bold",children:"\u2795 Agregar Trabajo"}),(0,Ht.jsx)("p",{className:"text-sm text-gray-600",children:"Formulario para ingresar nuevos trabajos"})]})}),e&&(0,Ht.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-6 mb-6 max-w-4xl mx-auto",children:[(0,Ht.jsx)("h2",{className:"text-xl font-bold mb-4 text-purple-800",children:"\ud83d\udee0\ufe0f Nuevo Trabajo"}),(0,Ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,Ht.jsx)("input",{type:"text",list:"lista-trabajos",placeholder:"Trabajo",className:"p-2 border rounded-xl",value:i.nombre,onChange:e=>l(Gt(Gt({},i),{},{nombre:e.target.value}))}),(0,Ht.jsx)("datalist",{id:"lista-trabajos",children:o.map(((e,t)=>(0,Ht.jsx)("option",{value:e},t)))}),(0,Ht.jsx)("input",{type:"number",placeholder:"Precio por Unidad",className:"p-2 border rounded-xl",value:i.precio_unidad,onChange:e=>l(Gt(Gt({},i),{},{precio_unidad:e.target.value}))}),(0,Ht.jsx)("input",{type:"number",placeholder:"Bonificaci\xf3n",className:"p-2 border rounded-xl",value:i.bonificacion,onChange:e=>l(Gt(Gt({},i),{},{bonificacion:e.target.value}))}),(0,Ht.jsx)("input",{type:"number",placeholder:"Meta asignada",className:"p-2 border rounded-xl",value:i.meta,onChange:e=>l(Gt(Gt({},i),{},{meta:e.target.value}))})]}),(0,Ht.jsx)("button",{onClick:async()=>{if(!i.nombre||!i.precio_unidad)return;let e=Gt(Gt({},i),{},{id:i.id||yr(),precio_unidad:parseFloat(i.precio_unidad),bonificacion:parseFloat(i.bonificacion),meta:parseFloat(i.meta)});if(i.id){const{error:t}=await qt.from("trabajos").update(e).eq("id",e.id);if(t)return alert("\u274c Error al actualizar trabajo"),void console.error(t);a(r.map((t=>t.id===e.id?e:t)))}else{const{error:t}=await qt.from("trabajos").insert([e]);if(t)return alert("\u274c Error al guardar trabajo"),void console.error(t);a([...r,e])}l({nombre:"",precio_unidad:"",bonificacion:"",meta:"",id:null}),t(!1)},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Guardar Trabajo"})]}),(0,Ht.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-6 max-w-6xl mx-auto",children:[(0,Ht.jsx)("h3",{className:"text-lg font-bold mb-4 text-gray-800",children:"\ud83d\udcd1 Lista de Trabajos"}),(0,Ht.jsxs)("table",{className:"min-w-full border text-sm text-center",children:[(0,Ht.jsx)("thead",{className:"bg-purple-100",children:(0,Ht.jsxs)("tr",{children:[(0,Ht.jsx)("th",{className:"p-2 border",children:"Trabajo"}),(0,Ht.jsx)("th",{className:"p-2 border",children:"Precio/U"}),(0,Ht.jsx)("th",{className:"p-2 border",children:"Bonificaci\xf3n"}),(0,Ht.jsx)("th",{className:"p-2 border",children:"Meta"}),(0,Ht.jsx)("th",{className:"p-2 border",children:"\u2699\ufe0f"})]})}),(0,Ht.jsx)("tbody",{children:r.map((e=>(0,Ht.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,Ht.jsx)("td",{className:"p-2 border",children:e.nombre}),(0,Ht.jsxs)("td",{className:"p-2 border",children:["Q",e.precio_unidad]}),(0,Ht.jsxs)("td",{className:"p-2 border",children:["Q",e.bonificacion]}),(0,Ht.jsx)("td",{className:"p-2 border",children:e.meta}),(0,Ht.jsxs)("td",{className:"p-2 border flex justify-center gap-2",children:[(0,Ht.jsx)("button",{onClick:()=>(l(e),void t(!0)),className:"text-blue-600 hover:text-blue-800 text-lg",title:"Editar",children:"\u270f\ufe0f"}),(0,Ht.jsx)("button",{onClick:()=>(async e=>{const{error:t}=await qt.from("trabajos").delete().eq("id",e);if(t)return alert("\u274c Error al eliminar trabajo"),void console.error(t);a(r.filter((t=>t.id!==e)))})(e.id),className:"text-red-600 hover:text-red-800 text-lg",title:"Eliminar",children:"\ud83d\uddd1\ufe0f"})]})]},e.id)))})]})]})]})}const wr=or("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),kr=or("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),_r=or("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function jr(){var e,t,r,a;const[o,s]=(0,n.useState)([]),[i,l]=(0,n.useState)([]),[c,u]=(0,n.useState)({}),[d,h]=(0,n.useState)(!1),[f,m]=(0,n.useState)(!0),[g,b]=(0,n.useState)({nombre:"",descripcion:""}),[v,y]=(0,n.useState)([]),[x,w]=(0,n.useState)([]),[k,_]=(0,n.useState)([{nombre:"",unidades:""}]),[j,S]=(0,n.useState)(null),[N,E]=(0,n.useState)(!1),[C,T]=(0,n.useState)(!1),[P,O]=(0,n.useState)([]),[R,I]=(0,n.useState)([]),[L,A]=(0,n.useState)([]),z=async e=>{S(e),T(!1);const{data:t,error:r}=await qt.from("proyectos_trabajos").select("nombre_trabajo, unidades_totales, costo_unitario").eq("proyecto_id",e.id);r&&console.error("Error al cargar trabajos:",r);const n=(t||[]).map((e=>({nombre:e.nombre_trabajo,unidades:e.unidades_totales,costo_unitario:e.costo_unitario||0,instaladas:0})));O(n);const{data:a}=await qt.from("proyectos_personal").select("trabajador_id").eq("proyecto_id",e.id).eq("rol","supervisor");y((null===a||void 0===a?void 0:a.map((e=>e.trabajador_id)))||[]);const{data:o}=await qt.from("proyectos_personal").select("trabajador_id").eq("proyecto_id",e.id).eq("rol","trabajador");w((null===o||void 0===o?void 0:o.map((e=>e.trabajador_id)))||[]);const{data:s}=await qt.from("registrodepersonal").select("id, salariopordia").in("id",[...(null===a||void 0===a?void 0:a.map((e=>e.trabajador_id)))||[],...(null===o||void 0===o?void 0:o.map((e=>e.trabajador_id)))||[]]);I(s||[]);const{data:i}=await qt.from("contabilidad").select("monto").eq("proyecto",e.nombre);A(i||[]),await D(e)};(0,n.useEffect)((()=>{F(),D()}),[]);const F=async()=>{const{data:e,error:t}=await qt.from("proyectos").select("*").order("id");t||(s(e),U(e))},D=async e=>{const{data:t}=await qt.from("proyectos_personal").select("trabajador_id, proyecto_id"),r=(null===t||void 0===t?void 0:t.map((e=>e.trabajador_id)))||[];let n=[];if(e){const{data:t}=await qt.from("proyectos_personal").select("trabajador_id").eq("proyecto_id",e.id);n=(null===t||void 0===t?void 0:t.map((e=>e.trabajador_id)))||[]}const{data:a,error:o}=await qt.from("registrodepersonal").select("id, nombrecompleto");if(o)return void console.error("Error al obtener personal:",o);const s=a.filter((e=>!r.includes(e.id)||n.includes(e.id)));l(s)},U=async()=>{const{data:e,error:t}=await qt.from("proyectos_personal").select("proyecto_id, rol, trabajador_id, trabajador:registrodepersonal (nombrecompleto)").eq("rol","supervisor");if(t)console.error("Error obteniendo supervisores:",t);else{const t={};e.forEach((e=>{var r;t[e.proyecto_id]=(null===(r=e.trabajador)||void 0===r?void 0:r.nombrecompleto)||"Sin supervisor"})),u(t)}};return(0,Ht.jsxs)("div",{className:"p-6 bg-white/10 backdrop-blur-xl min-h-screen rounded-2xl",children:[(0,Ht.jsx)("div",{className:"flex justify-center mb-6",children:(0,Ht.jsxs)("div",{onClick:()=>{h(!d),D()},className:"bg-white/30 backdrop-blur-md p-6 rounded-xl shadow-lg border border-white/20 hover:shadow-xl transition cursor-pointer w-full max-w-md text-center",children:[(0,Ht.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"\u2795 Nuevo proyecto"}),(0,Ht.jsx)("p",{className:"text-sm text-gray-600",children:"Crea un nuevo proyecto y as\xedgnale un supervisor."})]})}),d&&(0,Ht.jsxs)("div",{className:"bg-white/30 backdrop-blur-lg p-6 rounded-2xl shadow-xl border border-white/20 max-w-3xl mx-auto mb-10 space-y-4",children:[(0,Ht.jsx)("h2",{className:"text-xl font-bold text-purple-900",children:"\ud83d\udee0 Crear nuevo proyecto"}),(0,Ht.jsx)("input",{type:"text",placeholder:"Ej: Proyecto Las Pilas",value:null!==(e=g.nombre)&&void 0!==e?e:"",onChange:e=>b(Gt(Gt({},g),{},{nombre:e.target.value})),className:"w-full p-3 border rounded-xl"}),(0,Ht.jsx)("textarea",{placeholder:"Ej: Instalaci\xf3n de sistema solar...",value:null!==(t=g.descripcion)&&void 0!==t?t:"",onChange:e=>b(Gt(Gt({},g),{},{descripcion:e.target.value})),className:"w-full p-3 border rounded-xl"}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supervisores"}),(0,Ht.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map((e=>{const t=x.includes(e.id),r=v.includes(e.id);return(0,Ht.jsxs)("button",{type:"button",disabled:t,onClick:()=>{r?y(v.filter((t=>t!==e.id))):(y([...v,e.id]),w(x.filter((t=>t!==e.id))))},className:"px-3 py-1 rounded-full border text-sm flex items-center gap-1 transition-all duration-150 ".concat(r?"bg-purple-600 text-white border-purple-700":t?"bg-gray-300 text-gray-500 border-gray-400 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-purple-100"),children:[e.nombrecompleto,r&&(0,Ht.jsx)("span",{className:"ml-1",children:"\u2705"})]},e.id)}))}),(0,Ht.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes seleccionar uno o varios supervisores."})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trabajadores asignados"}),(0,Ht.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map((e=>{const t=v.includes(e.id),r=x.includes(e.id);return(0,Ht.jsxs)("button",{type:"button",disabled:t,onClick:()=>{r?w(x.filter((t=>t!==e.id))):(w([...x,e.id]),y(v.filter((t=>t!==e.id))))},className:"px-3 py-1 rounded-full border text-sm flex items-center gap-1 transition-all duration-150 ".concat(r?"bg-green-600 text-white border-green-700":t?"bg-gray-300 text-gray-500 border-gray-400 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-green-100"),children:[e.nombrecompleto,r&&(0,Ht.jsx)("span",{className:"ml-1",children:"\u2705"})]},e.id)}))}),(0,Ht.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes asignar varios trabajadores."})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_80px_80px_auto] gap-4 font-semibold text-sm text-gray-600 mb-1 px-1",children:[(0,Ht.jsx)("div",{children:"Nombre"}),(0,Ht.jsx)("div",{children:"Unidades"}),(0,Ht.jsx)("div",{children:"Instalado"}),(0,Ht.jsx)("div",{children:"Faltan"}),(0,Ht.jsx)("div",{})]}),(C||d?k:P).map(((e,t)=>{var r,n,a,o,s;const i=null!==(r=null!==(n=e.nombre)&&void 0!==n?n:e.nombre_trabajo)&&void 0!==r?r:"",l=parseInt(null!==(a=null!==(o=e.unidades)&&void 0!==o?o:e.unidades_totales)&&void 0!==a?a:0,10),c=parseInt(null!==(s=e.instaladas)&&void 0!==s?s:0,10),u=Number.isFinite(l-c)?l-c:0;return(0,Ht.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_80px_80px_auto] gap-4 mb-2 items-center",children:[C||d?(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsx)("input",{type:"text",value:null!==i&&void 0!==i?i:"",onChange:e=>{const r=[...k];r[t].nombre=e.target.value,_(r)},className:"p-2 border rounded-xl"}),(0,Ht.jsx)("input",{type:"number",value:Number.isNaN(l)?"":l,onChange:e=>{const r=[...k],n=parseInt(e.target.value,10);r[t].unidades=Number.isNaN(n)?0:n,_(r)},className:"p-2 border rounded-xl"})]}):(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsx)("div",{className:"p-2 bg-gray-100 rounded-xl text-center",children:i}),(0,Ht.jsx)("div",{className:"p-2 bg-gray-100 rounded-xl text-center",children:l})]}),(0,Ht.jsx)("div",{className:"p-2 bg-gray-100 rounded-xl text-center",children:c}),(0,Ht.jsx)("div",{className:"p-2 bg-gray-100 rounded-xl text-center",children:u}),C||d?(0,Ht.jsx)("div",{className:"flex justify-center",children:(0,Ht.jsx)("button",{onClick:()=>{const e=k.filter(((e,r)=>r!==t));_(e)},className:"text-red-500 hover:text-red-700",title:"Eliminar trabajo",children:(0,Ht.jsx)(wr,{size:20})})}):(0,Ht.jsx)("div",{})]},t)}))]}),(0,Ht.jsxs)("div",{className:"flex justify-end gap-4 mt-4",children:[(0,Ht.jsx)("button",{onClick:()=>{h(!1),b({nombre:"",descripcion:""}),y([]),w([]),_([{nombre:"",unidades:""}])},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-xl shadow-md",children:"Cancelar"}),(0,Ht.jsx)("button",{onClick:async()=>{if(!g.nombre.trim())return alert("El nombre es obligatorio.");console.log("Enviando a Supabase:",g);const{data:e,error:t}=await qt.from("proyectos").insert([{nombre:g.nombre,descripcion:g.descripcion||null}]).select();if(console.log("Respuesta de Supabase:",{data:e,error:t}),t||null===e||void 0===e||!e.length)return console.error("Error al guardar el proyecto:",t),alert("Error al guardar el proyecto");const r=e[0].id;await qt.from("proyectos_personal").insert(v.map((e=>({proyecto_id:r,trabajador_id:e,rol:"supervisor"})))),await qt.from("proyectos_personal").insert(x.map((e=>({proyecto_id:r,trabajador_id:e,rol:"trabajador"})))),console.log("Trabajos a insertar:",k),await qt.from("proyectos_trabajos").insert(k.filter((e=>""!==e.nombre.trim()&&parseInt(e.unidades))).map((e=>({proyecto_id:r,nombre_trabajo:e.nombre.trim(),unidades_totales:parseInt(e.unidades,10)})))),b({nombre:"",descripcion:""}),y([]),w([]),_([{nombre:"",unidades:""}]),h(!1),F()},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-xl shadow-md",children:"Guardar proyecto"})]})]}),(0,Ht.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:o.map((e=>(0,Ht.jsxs)("div",{className:"bg-white/30 backdrop-blur-md p-4 rounded-xl shadow-lg border border-white/20 hover:shadow-xl transition relative",children:[(0,Ht.jsxs)("div",{onClick:async()=>{await z(e),await D(e)},className:"cursor-pointer",children:[(0,Ht.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:e.nombre}),(0,Ht.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:e.descripcion||"Sin descripci\xf3n"}),(0,Ht.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:[(0,Ht.jsx)("strong",{className:"text-gray-700",children:"Supervisor:"})," ",c[e.id]||"Sin asignar"]})]}),(0,Ht.jsxs)("div",{className:"flex gap-2 absolute top-2 right-2",children:[(0,Ht.jsx)("button",{onClick:async()=>{T(!0),await z(e),await D(e)},className:"text-blue-600 hover:text-blue-800",children:(0,Ht.jsx)(kr,{size:18})}),(0,Ht.jsx)("button",{onClick:()=>(async e=>{if(!confirm("\xbfEliminar este proyecto?"))return;const{error:t}=await qt.from("proyectos").delete().eq("id",e);t||F()})(e.id),className:"text-red-600 hover:text-red-800",children:(0,Ht.jsx)(_r,{size:18})})]})]},e.id)))}),j&&(0,Ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-start z-50 pt-20 px-4",children:(0,Ht.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg max-w-3xl w-full relative",children:[(0,Ht.jsx)("button",{className:"absolute top-2 right-3 text-red-600 font-bold text-xl",onClick:()=>{S(null),T(!1)},children:"\xd7"}),(0,Ht.jsx)("h2",{className:"text-xl font-bold text-purple-900 mb-4",children:C?"\u270f\ufe0f Editar proyecto":j.nombre}),(0,Ht.jsxs)("div",{className:"mb-3",children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),(0,Ht.jsx)("input",{value:null!==(r=C?g.nombre:j.nombre)&&void 0!==r?r:"",disabled:!C,onChange:e=>b(Gt(Gt({},g),{},{nombre:e.target.value})),className:"w-full p-2 border rounded-xl ".concat(C?"":"bg-gray-100 cursor-not-allowed")})]}),(0,Ht.jsx)("textarea",{value:null!==(a=C?g.descripcion:j.descripcion)&&void 0!==a?a:"",disabled:!C,onChange:e=>b(Gt(Gt({},g),{},{descripcion:e.target.value})),className:"w-full p-2 border rounded-xl ".concat(C?"":"bg-gray-100 cursor-not-allowed")}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supervisores"}),(0,Ht.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map((e=>{const t=x.includes(e.id),r=v.includes(e.id);return(0,Ht.jsxs)("button",{type:"button",disabled:!C||t,onClick:()=>{r?y(v.filter((t=>t!==e.id))):(y([...v,e.id]),w(x.filter((t=>t!==e.id))))},className:"px-3 py-1 rounded-full border text-sm flex items-center gap-1 transition-all duration-150 ".concat(r?"bg-purple-600 text-white border-purple-700":t||!C?"bg-gray-300 text-gray-500 border-gray-400 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-purple-100"),children:[e.nombrecompleto,r&&(0,Ht.jsx)("span",{className:"ml-1",children:"\u2705"})]},e.id)}))}),(0,Ht.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes seleccionar uno o varios supervisores."})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trabajadores asignados"}),(0,Ht.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map((e=>{const t=v.includes(e.id),r=x.includes(e.id);return(0,Ht.jsxs)("button",{type:"button",disabled:!C||t,onClick:()=>{r?w(x.filter((t=>t!==e.id))):(w([...x,e.id]),y(v.filter((t=>t!==e.id))))},className:"px-3 py-1 rounded-full border text-sm flex items-center gap-1 transition-all duration-150 ".concat(r?"bg-green-600 text-white border-green-700":t||!C?"bg-gray-300 text-gray-500 border-gray-400 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-green-100"),children:[e.nombrecompleto,r&&(0,Ht.jsx)("span",{className:"ml-1",children:"\u2705"})]},e.id)}))}),(0,Ht.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes asignar varios trabajadores."})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trabajos por realizar"}),(0,Ht.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_80px_80px_auto] gap-4 font-semibold text-sm text-gray-600 mb-1 px-1",children:[(0,Ht.jsx)("div",{children:"Nombre"}),(0,Ht.jsx)("div",{children:"Unidades"}),(0,Ht.jsx)("div",{children:"Instalado"}),(0,Ht.jsx)("div",{children:"Faltan"}),(0,Ht.jsx)("div",{})]}),(()=>{const e=C||d?k:P;return console.log("modoEdicion:",C,"mostrarFormulario:",d,"listaTrabajos:",e),e.map(((e,t)=>{var r,n,a,o,s;const i=null!==(r=null!==(n=e.nombre)&&void 0!==n?n:e.nombre_trabajo)&&void 0!==r?r:"",l=parseInt(null!==(a=null!==(o=e.unidades)&&void 0!==o?o:e.unidades_totales)&&void 0!==a?a:0,10),c=parseInt(null!==(s=e.instaladas)&&void 0!==s?s:0,10),u=Number.isFinite(l-c)?l-c:0;return(0,Ht.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_80px_80px_auto] gap-4 mb-2 items-center",children:[C||d?(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsx)("input",{type:"text",value:null!==i&&void 0!==i?i:"",onChange:e=>{const r=[...k];r[t].nombre=e.target.value,_(r)},className:"p-2 border rounded-xl"}),(0,Ht.jsx)("input",{type:"number",value:Number.isNaN(l)?"":l,onChange:e=>{const r=[...k],n=parseInt(e.target.value,10);r[t].unidades=Number.isNaN(n)?0:n,_(r)},className:"p-2 border rounded-xl"})]}):(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsx)("div",{className:"p-2 bg-gray-100 rounded-xl text-center",children:i}),(0,Ht.jsx)("div",{className:"p-2 bg-gray-100 rounded-xl text-center",children:l})]}),(0,Ht.jsx)("div",{className:"p-2 bg-gray-100 rounded-xl text-center",children:c}),(0,Ht.jsx)("div",{className:"p-2 bg-gray-100 rounded-xl text-center",children:u}),C||d?(0,Ht.jsx)("div",{className:"text-center",children:(0,Ht.jsx)("button",{onClick:()=>{const e=k.filter(((e,r)=>r!==t));_(e)},className:"text-red-600 hover:text-red-800 font-bold text-lg",children:"\u274c"})}):(0,Ht.jsx)("div",{})]},t)}))})(),(C||d)&&(0,Ht.jsx)("button",{onClick:()=>_([...k,{nombre:"",unidades:"",instaladas:0}]),className:"text-blue-700 text-sm hover:underline mt-1",children:"\u2795 A\xf1adir otro trabajo"})]}),(0,Ht.jsxs)("div",{className:"mt-6",children:[(0,Ht.jsx)("h3",{className:"text-lg font-bold text-purple-800 mb-3",children:"\ud83e\uddfe Resumen financiero del proyecto"}),(0,Ht.jsxs)("div",{className:"bg-white shadow rounded-xl p-4 space-y-2 text-sm text-gray-800",children:[(0,Ht.jsxs)("div",{className:"flex justify-between border-b pb-1",children:[(0,Ht.jsx)("span",{children:"Costo por trabajos asignados"}),(0,Ht.jsxs)("span",{className:"font-semibold",children:["Q",P.reduce(((e,t)=>e+(t.unidades||0)*(t.costo_unitario||0)),0).toFixed(2)]})]}),(0,Ht.jsxs)("div",{className:"flex justify-between border-b pb-1",children:[(0,Ht.jsx)("span",{children:"Costo de planilla (personal)"}),(0,Ht.jsxs)("span",{className:"font-semibold",children:["Q",R.reduce(((e,t)=>e+(t.salariopordia||0)),0).toFixed(2)]})]}),(0,Ht.jsxs)("div",{className:"flex justify-between border-b pb-1",children:[(0,Ht.jsx)("span",{children:"Costo de liquidaciones / caja chica"}),(0,Ht.jsxs)("span",{className:"font-semibold",children:["Q",L.reduce(((e,t)=>e+(t.monto||0)),0).toFixed(2)]})]}),(0,Ht.jsx)("div",{className:"flex justify-between pt-2 border-t text-lg text-purple-900 font-bold",children:(0,Ht.jsxs)("span",{children:["Q",isNaN(P.reduce(((e,t)=>e+(t.unidades||0)*(t.costo_unitario||0)),0)+R.reduce(((e,t)=>e+(t.salariopordia||0)),0)+L.reduce(((e,t)=>e+(t.monto||0)),0))?"0.00":(P.reduce(((e,t)=>e+(t.unidades||0)*(t.costo_unitario||0)),0)+R.reduce(((e,t)=>e+(t.salariopordia||0)),0)+L.reduce(((e,t)=>e+(t.monto||0)),0)).toFixed(2)]})})]})]}),(0,Ht.jsx)("div",{className:"flex justify-end mt-4 gap-2",children:C?(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsx)("button",{onClick:()=>{T(!1)},className:"bg-gray-300 px-4 py-2 rounded-xl",children:"Cancelar"}),(0,Ht.jsx)("button",{onClick:async()=>{const{error:e}=await qt.from("proyectos").update({nombre:g.nombre,descripcion:g.descripcion}).eq("id",j.id);if(e)return console.error("Error al actualizar proyecto:",e),void alert("Error al guardar cambios");await qt.from("proyectos_personal").delete().eq("proyecto_id",j.id),await qt.from("proyectos_personal").insert(v.map((e=>({proyecto_id:j.id,trabajador_id:e,rol:"supervisor"})))),await qt.from("proyectos_personal").insert(x.map((e=>({proyecto_id:j.id,trabajador_id:e,rol:"trabajador"})))),await qt.from("proyectos_trabajos").delete().eq("proyecto_id",j.id),await qt.from("proyectos_trabajos").insert(k.filter((e=>""!==e.nombre.trim()&&parseInt(e.unidades))).map((e=>({proyecto_id:j.id,nombre_trabajo:e.nombre.trim(),unidades_totales:parseInt(e.unidades,10)})))),alert("Cambios guardados correctamente"),T(!1),F()},className:"bg-blue-600 text-white px-4 py-2 rounded-xl",children:"Guardar cambios"})]}):(0,Ht.jsx)("button",{onClick:async()=>{b({nombre:j.nombre,descripcion:j.descripcion}),T(!0);const{data:e}=await qt.from("proyectos_personal").select("trabajador_id").eq("proyecto_id",j.id).eq("rol","supervisor");y((null===e||void 0===e?void 0:e.map((e=>e.trabajador_id)))||[]);const{data:t}=await qt.from("proyectos_personal").select("trabajador_id").eq("proyecto_id",j.id).eq("rol","trabajador");w((null===t||void 0===t?void 0:t.map((e=>e.trabajador_id)))||[]);const{data:r,error:n}=await qt.from("proyectos_trabajos").select("nombre_trabajo, unidades_totales").eq("proyecto_id",j.id);n?console.error("Error cargando trabajos del proyecto:",n):(_(r.map((e=>({nombre:e.nombre_trabajo,unidades:e.unidades_totales})))),await D(p))},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl shadow-md",children:"\u270f\ufe0f Editar"})})]})})]})}const Sr=or("file-plus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]),Nr=or("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function Er(e){let{ampliaciones:t,gastos:r}=e;const[a,o]=(0,n.useState)([]);return(0,n.useEffect)((()=>{const e=[...t.map((e=>({fecha:e.fecha,nombre:e.cliente||"Cliente desconocido",documento:e.documento||"Sin documento",medio:e.medio||"N/A",monto:Number(e.monto),tipo:"ingreso"}))),...r.map((e=>({fecha:e.fecha,nombre:e.proveedor||"Proveedor desconocido",documento:e.factura||"Sin factura",medio:"",monto:Number(e.monto),tipo:"egreso"})))].sort(((e,t)=>new Date(e.fecha)-new Date(t.fecha)));let n=0;const a=e.map((e=>(n+="ingreso"===e.tipo?e.monto:-e.monto,Gt(Gt({},e),{},{saldo:n}))));o(a)}),[t,r]),(0,Ht.jsxs)("div",{className:"bg-white mt-6 p-4 rounded-2xl shadow",children:[(0,Ht.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\ud83d\udcca Balance General"}),(0,Ht.jsxs)("table",{className:"min-w-full text-sm border border-gray-200 rounded-xl",children:[(0,Ht.jsx)("thead",{className:"bg-gray-100 text-gray-700",children:(0,Ht.jsxs)("tr",{children:[(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Fecha"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Proveedor / Cliente"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"No. Factura / Documento"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Medio de Pago"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Ingreso (Q)"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Egreso (Q)"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Saldo Acumulado (Q)"})]})}),(0,Ht.jsx)("tbody",{children:a.map(((e,t)=>(0,Ht.jsxs)("tr",{className:"border-t",children:[(0,Ht.jsx)("td",{className:"py-2 px-4",children:e.fecha}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:e.nombre}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:e.documento}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:e.medio}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:"ingreso"===e.tipo?"Q".concat(e.monto.toFixed(2)):""}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:"egreso"===e.tipo?"Q".concat(e.monto.toFixed(2)):""}),(0,Ht.jsxs)("td",{className:"py-2 px-4",children:["Q",e.saldo.toFixed(2)]})]},t)))})]})]})}function Cr(){const[e,t]=(0,n.useState)("general"),[r,a]=(0,n.useState)(null),[o,s]=(0,n.useState)(""),[i,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(["Combustible","Transporte","Personal"]),[d,h]=(0,n.useState)(null),[f,p]=(0,n.useState)(""),[m,g]=(0,n.useState)(""),[b,v]=(0,n.useState)(""),[y,x]=(0,n.useState)(""),[w,k]=(0,n.useState)(""),[_,j]=(0,n.useState)(""),[S,N]=(0,n.useState)([]),[E,C]=(0,n.useState)([]),[T,P]=(0,n.useState)([]),[O,R]=(0,n.useState)(null),[I,L]=(0,n.useState)(""),[A,z]=(0,n.useState)(""),[F,D]=(0,n.useState)(!1),[U,M]=(0,n.useState)({ingresos:0,egresos:0,cajaChica:0,balance:0}),B=e=>{if(!I&&!A)return e;const t=I?new Date(I):null,r=A?new Date(A):null;return e.filter((e=>{const n=new Date(e.fecha);return!(t&&n<t)&&!(r&&n>r)}))},q=async()=>{const{data:e,error:t}=await qt.from("proyectos").select("*");if(t)console.error("Error al cargar proyectos",t);else{const t=e.map((e=>Gt(Gt({},e),{},{detalleVisible:!1})));P(t)}};(0,n.useEffect)((()=>{q(),(async()=>{const{data:e}=await qt.from("gastos_proyectos").select("*"),{data:t}=await qt.from("ampliaciones_proyectos").select("*");N(e||[]),C(t||[])})()}),[]),(0,n.useEffect)((()=>{const e=T.filter((e=>"finalizado"!==e.estado)).map((e=>e.id)),t=E.filter((t=>e.includes(t.proyecto_id))),r=S.filter((t=>e.includes(t.proyecto_id))),n=t.reduce(((e,t)=>e+(t.monto||0)),0),a=r.reduce(((e,t)=>e+(t.monto||0)),0);M({ingresos:n,egresos:a,cajaChica:0,balance:n-a})}),[S,E,T]);return(0,Ht.jsxs)("div",{className:"p-6 space-y-6",children:["general"===e&&(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 justify-center items-center text-center",children:[(0,Ht.jsxs)("div",{className:"bg-green-100 p-4 rounded-2xl shadow cursor-pointer",onClick:()=>R("ingresos"),children:[(0,Ht.jsx)("p",{className:"text-sm text-gray-600",children:"Total ingresos"}),(0,Ht.jsxs)("h2",{className:"text-xl font-bold text-green-700",children:["Q",U.ingresos.toFixed(2)]})]}),(0,Ht.jsxs)("div",{className:"bg-red-100 p-4 rounded-2xl shadow cursor-pointer",onClick:()=>R("egresos"),children:[(0,Ht.jsx)("p",{className:"text-sm text-gray-600",children:"Total egresos"}),(0,Ht.jsxs)("h2",{className:"text-xl font-bold text-red-700",children:["Q",U.egresos.toFixed(2)]})]}),(0,Ht.jsxs)("div",{className:"bg-blue-100 p-4 rounded-2xl shadow cursor-pointer",onClick:()=>D(!0),children:[(0,Ht.jsx)("p",{className:"text-sm text-gray-600",children:"Balance general"}),(0,Ht.jsxs)("h2",{className:"text-xl font-bold text-blue-700",children:["Q",U.balance.toFixed(2)]})]})]}),F&&(0,Ht.jsxs)("div",{className:"mt-6",children:[(0,Ht.jsx)(Er,{ampliaciones:E,gastos:S}),(0,Ht.jsx)("button",{onClick:()=>D(!1),className:"mt-4 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 rounded-xl shadow",children:"Cerrar Balance"})]}),"ingresos"===O&&(0,Ht.jsxs)("div",{className:"bg-white mt-6 p-4 rounded-2xl shadow",children:[(0,Ht.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\ud83d\udcc8 Detalle de Ingresos"}),(0,Ht.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm text-gray-600",children:"Fecha inicio:"}),(0,Ht.jsx)("input",{type:"date",value:I,onChange:e=>L(e.target.value),className:"p-2 border rounded"})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm text-gray-600",children:"Fecha fin:"}),(0,Ht.jsx)("input",{type:"date",value:A,onChange:e=>z(e.target.value),className:"p-2 border rounded"})]})]}),(0,Ht.jsxs)("table",{className:"min-w-full text-sm border border-gray-200 rounded-xl",children:[(0,Ht.jsx)("thead",{className:"bg-gray-100 text-gray-700",children:(0,Ht.jsxs)("tr",{children:[(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Proyecto"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Medio"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Documento"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Fecha"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Monto"})]})}),(0,Ht.jsx)("tbody",{children:B(E).map((e=>{const t=T.find((t=>t.id===e.proyecto_id));return(0,Ht.jsxs)("tr",{className:"border-t",children:[(0,Ht.jsx)("td",{className:"py-2 px-4",children:t?t.nombre:"Sin nombre"}),(0,Ht.jsx)("td",{className:"py-2 px-4 capitalize",children:e.medio}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:e.documento}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:e.fecha}),(0,Ht.jsxs)("td",{className:"py-2 px-4",children:["Q",Number(e.monto).toFixed(2)]})]},e.id)}))})]}),(0,Ht.jsx)("button",{onClick:()=>R(null),className:"mt-4 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 rounded-xl shadow",children:"Cerrar"})]}),"egresos"===O&&(0,Ht.jsxs)("div",{className:"bg-white mt-6 p-4 rounded-2xl shadow",children:[(0,Ht.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\ud83d\udcc9 Detalle de Egresos"}),(0,Ht.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm text-gray-600",children:"Fecha inicio:"}),(0,Ht.jsx)("input",{type:"date",value:I,onChange:e=>L(e.target.value),className:"p-2 border rounded"})]}),(0,Ht.jsxs)("div",{children:[(0,Ht.jsx)("label",{className:"block text-sm text-gray-600",children:"Fecha fin:"}),(0,Ht.jsx)("input",{type:"date",value:A,onChange:e=>z(e.target.value),className:"p-2 border rounded"})]})]}),(0,Ht.jsxs)("table",{className:"min-w-full text-sm border border-gray-200 rounded-xl",children:[(0,Ht.jsx)("thead",{className:"bg-gray-100 text-gray-700",children:(0,Ht.jsxs)("tr",{children:[(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Proyecto"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Categor\xeda"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Descripci\xf3n"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Fecha"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Monto"})]})}),(0,Ht.jsx)("tbody",{children:B(S).map((e=>{const t=T.find((t=>t.id===e.proyecto_id));return(0,Ht.jsxs)("tr",{className:"border-t",children:[(0,Ht.jsx)("td",{className:"py-2 px-4",children:t?t.nombre:"Sin nombre"}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:e.categoria}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:e.descripcion}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:e.fecha}),(0,Ht.jsxs)("td",{className:"py-2 px-4",children:["Q",Number(e.monto).toFixed(2)]})]},e.id)}))})]}),(0,Ht.jsx)("button",{onClick:()=>R(null),className:"mt-4 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 rounded-xl shadow",children:"Cerrar"})]})]}),"general"===e&&(0,Ht.jsx)("div",{className:"flex justify-center mt-8",children:(0,Ht.jsxs)("div",{onClick:()=>t("proyectos"),className:"cursor-pointer bg-white shadow-lg rounded-2xl p-6 text-center max-w-xs hover:shadow-xl",children:[(0,Ht.jsx)("p",{className:"text-xl font-bold text-purple-700",children:"\ud83d\udce6 Proyectos en curso"}),(0,Ht.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Haz clic para ver el resumen por proyecto"})]})}),"proyectos"===e&&(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 my-6",children:[(0,Ht.jsxs)("div",{onClick:()=>a("gasto"),className:"cursor-pointer bg-blue-100 hover:bg-blue-200 text-blue-800 font-semibold px-6 py-4 rounded-2xl shadow flex items-center justify-center gap-2",children:[(0,Ht.jsx)(Sr,{className:"w-5 h-5"})," Ingresar Gasto"]}),(0,Ht.jsxs)("div",{onClick:()=>a("ampliacion"),className:"cursor-pointer bg-green-100 hover:bg-green-200 text-green-800 font-semibold px-6 py-4 rounded-2xl shadow flex items-center justify-center gap-2",children:[(0,Ht.jsx)(ir,{className:"w-5 h-5"})," Ampliar Presupuesto"]}),(0,Ht.jsxs)("div",{onClick:()=>t("general"),className:"cursor-pointer bg-purple-100 hover:bg-purple-200 text-purple-800 font-semibold px-6 py-4 rounded-2xl shadow flex items-center justify-center gap-2",children:[(0,Ht.jsx)(Nr,{className:"w-4 h-4"})," Volver al balance general"]})]}),"gasto"===r&&(0,Ht.jsxs)("div",{className:"mt-4 bg-white rounded-xl shadow-lg p-6 max-w-3xl mx-auto",children:[(0,Ht.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83e\uddfe Ingresar Gasto"}),(0,Ht.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Ht.jsxs)("select",{className:"p-2 border rounded",value:d||"",onChange:e=>h(e.target.value),children:[(0,Ht.jsx)("option",{value:"",children:"Selecciona un proyecto"}),T.map((e=>(0,Ht.jsx)("option",{value:e.id,children:e.nombre},e.id)))]}),(0,Ht.jsx)("input",{list:"categorias",placeholder:"Tipo de gasto (ej: Combustible)",className:"p-2 border rounded",value:o,onChange:e=>s(e.target.value)}),(0,Ht.jsx)("datalist",{id:"categorias",children:c.map(((e,t)=>(0,Ht.jsx)("option",{value:e},t)))}),(0,Ht.jsx)("input",{type:"text",placeholder:"Descripci\xf3n",className:"p-2 border rounded",value:f,onChange:e=>p(e.target.value)}),(0,Ht.jsx)("input",{type:"date",className:"p-2 border rounded",value:m,onChange:e=>g(e.target.value)}),(0,Ht.jsx)("input",{type:"number",placeholder:"Monto",className:"p-2 border rounded",value:b,onChange:e=>v(e.target.value)}),(0,Ht.jsx)("input",{type:"file",className:"p-2 border rounded col-span-2"}),(0,Ht.jsx)("button",{onClick:async()=>{if(!d||!o||!f||!m||!b)return;const{error:e}=await qt.from("gastos_proyectos").insert([{proyecto_id:d,categoria:o,descripcion:f,fecha:m,monto:parseFloat(b)}]);e?(alert("Error al guardar gasto"),console.error(e)):(q(),c.includes(o)||u([...c,o]),a(null),h(null),s(""),p(""),g(""),v(""))},className:"col-span-2 mt-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-xl shadow",children:"Guardar Gasto"}),(0,Ht.jsx)("button",{onClick:()=>a(null),className:"col-span-2 mt-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 rounded-xl shadow",children:"Cancelar"})]})]}),(0,Ht.jsxs)("div",{className:"bg-white mt-10 p-6 rounded-xl shadow",children:[(0,Ht.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83d\udcb9 Resumen de Ampliaciones"}),(0,Ht.jsx)("div",{className:"overflow-x-auto",children:(0,Ht.jsxs)("table",{className:"min-w-full text-sm border border-gray-200 rounded-xl",children:[(0,Ht.jsx)("thead",{className:"bg-gray-100 text-gray-700",children:(0,Ht.jsxs)("tr",{children:[(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Proyecto"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Documento"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Medio"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Fecha"}),(0,Ht.jsx)("th",{className:"py-2 px-4 text-left",children:"Monto"})]})}),(0,Ht.jsx)("tbody",{children:E.map((e=>{const t=T.find((t=>t.id===e.proyecto_id));return(0,Ht.jsxs)("tr",{className:"border-t",children:[(0,Ht.jsx)("td",{className:"py-2 px-4",children:t?t.nombre:"Sin nombre"}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:e.documento}),(0,Ht.jsx)("td",{className:"py-2 px-4 capitalize",children:e.medio}),(0,Ht.jsx)("td",{className:"py-2 px-4",children:e.fecha}),(0,Ht.jsxs)("td",{className:"py-2 px-4",children:["Q",Number(e.monto).toFixed(2)]})]},e.id)}))})]})})]}),"ampliacion"===r&&(0,Ht.jsxs)("div",{className:"mt-4 bg-white rounded-xl shadow-lg p-6 max-w-3xl mx-auto",children:[(0,Ht.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"\ud83d\udcb0 Ingreso de Capital"}),(0,Ht.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Ht.jsxs)("select",{className:"p-2 border rounded",value:d||"",onChange:e=>h(e.target.value),children:[(0,Ht.jsx)("option",{value:"",children:"Selecciona un proyecto"}),T.map((e=>(0,Ht.jsx)("option",{value:e.id,children:e.nombre},e.id)))]}),(0,Ht.jsxs)("select",{className:"p-2 border rounded",value:i,onChange:e=>l(e.target.value),children:[(0,Ht.jsx)("option",{value:"",children:"Medio de ampliaci\xf3n"}),(0,Ht.jsx)("option",{value:"transferencia",children:"Transferencia"}),(0,Ht.jsx)("option",{value:"deposito",children:"Dep\xf3sito"}),(0,Ht.jsx)("option",{value:"efectivo",children:"Efectivo"})]}),(0,Ht.jsx)("input",{type:"text",placeholder:"No. de documento",className:"p-2 border rounded",value:_,onChange:e=>j(e.target.value)}),(0,Ht.jsx)("input",{type:"date",className:"p-2 border rounded",value:m,onChange:e=>g(e.target.value)}),(0,Ht.jsx)("input",{type:"number",placeholder:"Monto",className:"p-2 border rounded",value:b,onChange:e=>v(e.target.value)}),(0,Ht.jsx)("input",{type:"file",className:"p-2 border rounded col-span-2"}),(0,Ht.jsx)("button",{onClick:async()=>{if(!d||!i||!_||!m||!b)return;const{error:e}=await qt.from("ampliaciones_proyectos").insert([{proyecto_id:d,medio:i,documento:_,fecha:m,monto:parseFloat(b)}]);e?(alert("Error al guardar la ampliaci\xf3n"),console.error(e)):(q(),a(null),h(null),l(""),j(""),g(""),v(""))},className:"col-span-2 mt-4 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 rounded-xl shadow",children:"Guardar Ampliaci\xf3n"}),(0,Ht.jsx)("button",{onClick:()=>a(null),className:"col-span-2 mt-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 rounded-xl shadow",children:"Cancelar"})]})]}),(0,Ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6 items-start",children:T.sort(((e,t)=>"finalizado"===e.estado?1:-1)).map((e=>(0,Ht.jsxs)("div",{className:"rounded-2xl shadow p-4 text-center transition-all duration-300 ".concat("finalizado"===e.estado?"bg-gray-100 text-gray-500":"bg-white text-black"),children:[(()=>{const t=S.filter((t=>t.proyecto_id===e.id)),r=E.filter((t=>t.proyecto_id===e.id)),n=t.reduce(((e,t)=>e+(t.monto||0)),0),a=r.reduce(((e,t)=>e+(t.monto||0)),0),o=(e.destinado?Number(e.destinado):0)+a,s=o-n;return(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsxs)("p",{children:["\ud83d\udcb5 Producci\xf2n: Q",o.toFixed(2)]}),(0,Ht.jsxs)("p",{children:["\ud83d\udce4 Gastado: Q",n.toFixed(2)]}),(0,Ht.jsxs)("p",{children:["\ud83d\udc9a utilidad: Q",s.toFixed(2)]}),(0,Ht.jsxs)("p",{children:["\ud83d\udc9a Liquides: Q",s.toFixed(2)]})]})})(),(0,Ht.jsx)("div",{className:"flex justify-center gap-2 mt-4",children:"finalizado"!==e.estado&&(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsx)("button",{onClick:()=>{return t=e.id,void P((e=>e.map((e=>e.id===t?Gt(Gt({},e),{},{detalleVisible:!e.detalleVisible}):e))));var t},className:"bg-blue-100 hover:bg-blue-200 px-3 py-1 rounded text-blue-800",children:e.detalleVisible?"Ocultar Detalle":"Ver Detalle"}),(0,Ht.jsx)("button",{onClick:()=>(async e=>{const{error:t}=await qt.from("proyectos").update({estado:"finalizado"}).eq("id",e);t?(console.error("Error al finalizar proyecto",t),alert("Error al finalizar proyecto")):q()})(e.id),className:"bg-red-100 hover:bg-red-200 px-3 py-1 rounded text-red-700",children:"Finalizar"})]})}),e.detalleVisible&&"finalizado"!==e.estado&&(0,Ht.jsxs)(Ht.Fragment,{children:[(0,Ht.jsxs)("div",{className:"mt-4 text-left text-sm",children:[(0,Ht.jsx)("h4",{className:"font-semibold text-blue-600 mb-2",children:"\ud83e\uddfe Gastos por categor\xeda:"}),[...new Set(S.filter((t=>t.proyecto_id===e.id)).map((e=>e.categoria)))].map((t=>(0,Ht.jsxs)("div",{className:"mb-2",children:[(0,Ht.jsx)("strong",{children:t}),(0,Ht.jsx)("ul",{className:"ml-4 list-disc",children:S.filter((r=>r.proyecto_id===e.id&&r.categoria===t)).map(((e,t)=>(0,Ht.jsxs)("li",{children:[e.fecha," - ",e.descripcion,": Q",e.monto.toFixed(2)]},t)))})]},t)))]}),(0,Ht.jsxs)("div",{className:"mt-6 text-left text-sm",children:[(0,Ht.jsx)("h4",{className:"font-semibold text-green-600 mb-2",children:"\ud83d\udcb9 Ampliaciones de presupuesto:"}),(0,Ht.jsx)("ul",{className:"ml-4 list-disc",children:E.filter((t=>t.proyecto_id===e.id)).map(((e,t)=>(0,Ht.jsxs)("li",{children:[e.fecha," - ",e.medio," - Doc: ",e.documento," \u2014 Q",e.monto.toFixed(2)]},t)))})]})]})]},e.id)))})]})]})}function Tr(){const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(null);(0,n.useEffect)((()=>{o()}),[]);const o=async()=>{const{data:e,error:r}=await qt.from("registrodepersonal").select("*");r||t(e)};return(0,Ht.jsxs)("div",{className:"p-6 max-w-6xl mx-auto bg-white/90 rounded-xl shadow",children:[(0,Ht.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"\ud83d\udc77 Encargado de Campo"}),(0,Ht.jsxs)("table",{className:"w-full border text-sm",children:[(0,Ht.jsx)("thead",{className:"bg-gray-100",children:(0,Ht.jsxs)("tr",{children:[(0,Ht.jsx)("th",{className:"border p-2",children:"Nombre"}),(0,Ht.jsx)("th",{className:"border p-2",children:"Puesto"}),(0,Ht.jsx)("th",{className:"border p-2",children:"Proyecto"}),(0,Ht.jsx)("th",{className:"border p-2",children:"Salario"}),(0,Ht.jsx)("th",{className:"border p-2",children:"Meta"}),(0,Ht.jsx)("th",{className:"border p-2",children:"Bonificaci\xf3n"}),(0,Ht.jsx)("th",{className:"border p-2",children:"Grupo"}),(0,Ht.jsx)("th",{className:"border p-2",children:"Acciones"})]})}),(0,Ht.jsx)("tbody",{children:e.map((e=>{var t,n;const s="fijo"===e.modalidad,i=r===e.id;return(0,Ht.jsxs)("tr",{className:"bg-white",children:[(0,Ht.jsx)("td",{className:"border p-2",children:e.nombrecompleto}),(0,Ht.jsx)("td",{className:"border p-2",children:e.puesto}),(0,Ht.jsx)("td",{className:"border p-2",children:e.proyecto}),(0,Ht.jsx)("td",{className:"border p-2",children:s?"Q".concat(null===(t=e.salariopordia)||void 0===t?void 0:t.toFixed(2)):i?(0,Ht.jsx)("input",{type:"number",defaultValue:e.salariopordia,onChange:t=>e.salariopordia=parseFloat(t.target.value),className:"border p-1 w-full"}):"Q".concat(null===(n=e.salariopordia)||void 0===n?void 0:n.toFixed(2))}),(0,Ht.jsx)("td",{className:"border p-2",children:s?"-":i?(0,Ht.jsx)("input",{type:"number",defaultValue:e.metaestablecida,onChange:t=>e.metaestablecida=parseInt(t.target.value),className:"border p-1 w-full"}):e.metaestablecida}),(0,Ht.jsx)("td",{className:"border p-2",children:s?"-":i?(0,Ht.jsx)("input",{type:"number",defaultValue:e.bonificacion,onChange:t=>e.bonificacion=parseFloat(t.target.value),className:"border p-1 w-full"}):"Q".concat(e.bonificacion)}),(0,Ht.jsx)("td",{className:"border p-2",children:s?"-":i?(0,Ht.jsx)("input",{type:"text",defaultValue:e.numerogrupo,onChange:t=>e.numerogrupo=t.target.value,className:"border p-1 w-full"}):e.numerogrupo||"-"}),(0,Ht.jsx)("td",{className:"border p-2",children:!s&&(i?(0,Ht.jsx)("button",{onClick:()=>(async(e,t)=>{const{error:r}=await qt.from("registrodepersonal").update(t).eq("id",e);r||(a(null),o())})(e.id,{salariopordia:e.salariopordia,metaestablecida:e.metaestablecida,bonificacion:e.bonificacion,numerogrupo:e.numerogrupo}),className:"text-green-600 font-semibold",children:"Guardar"}):(0,Ht.jsx)("button",{onClick:()=>a(e.id),className:"text-blue-600 font-semibold",children:"Edita"}))})]},e.id)}))})]})]})}const Pr=function(){const[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)("personal");if(!e)return(0,Ht.jsx)(Qt,{onLogin:t});const o="admin"===e.rol;return(0,Ht.jsxs)("div",{className:"min-h-screen bg-cover bg-center p-4",style:{backgroundImage:"url('/fondo.png')",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[(0,Ht.jsxs)("h1",{className:"text-2xl font-bold text-center mt-4 text-white drop-shadow-md",children:["Bienvenido ",o?"Administrador":"contabilidad"===e.rol?"Usuario de Contabilidad":"reportador"===e.rol?"Reportador":"Usuario"]}),o&&(0,Ht.jsxs)("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-2xl shadow-lg mt-6",children:[(0,Ht.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"Panel de Control"}),(0,Ht.jsxs)("nav",{className:"flex flex-wrap justify-center gap-6 text-lg font-medium text-gray-700",children:[(0,Ht.jsx)("button",{onClick:()=>a("personal"),className:"pb-1 border-b-4 transition-all ".concat("personal"===r?"border-blue-600 text-blue-700 font-bold":"border-transparent hover:text-blue-600"),children:"Personal"}),(0,Ht.jsx)("button",{onClick:()=>a("proyectos"),className:"pb-1 border-b-4 transition-all ".concat("proyectos"===r?"border-blue-600 text-blue-700 font-bold":"border-transparent hover:text-blue-600"),children:"Proyectos"}),(0,Ht.jsx)("button",{onClick:()=>a("contabilidad"),className:"pb-1 border-b-4 transition-all ".concat("contabilidad"===r?"border-blue-600 text-blue-700 font-bold":"border-transparent hover:text-blue-600"),children:"Contabilidad"})]})]}),o&&"personal"===r&&(0,Ht.jsx)(fr,{usuario:e}),o&&"precios"===r&&(0,Ht.jsx)(xr,{}),o&&"proyectos"===r&&(0,Ht.jsx)(jr,{}),o&&"contabilidad"===r&&(0,Ht.jsx)(Cr,{}),"contabilidad"===e.rol&&(0,Ht.jsx)("div",{className:"mt-6 text-center text-white",children:"Aqu\xed ir\xe1n las funciones de contabilidad."}),"reportador"===e.rol&&(0,Ht.jsx)("div",{className:"mt-6 text-center text-white",children:"Aqu\xed ir\xe1n las funciones del reportador."}),"supervisor"===e.rol&&(0,Ht.jsx)(Tr,{})]})};a.createRoot(document.getElementById("root")).render((0,Ht.jsx)(Pr,{}))})();
//# sourceMappingURL=main.00d30ec1.js.map