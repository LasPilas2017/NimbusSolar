"use strict";(self.webpackChunknimbus_login_app=self.webpackChunknimbus_login_app||[]).push([[849],{4849:(a,e,o)=>{o.r(e),o.d(e,{default:()=>d});var r=o(9379),s=o(5043),i=o(3960),l=o(3829),n=o(579);function d(a){let{usuario:e,persona:o,onCerrar:d,onRecargar:t}=a;const[c,m]=(0,s.useState)({salarioBase:"",bonoAsistencia:"",viaticos:"",pagoHoraExtra:"",salarioDia:""});(0,s.useEffect)(()=>{"fijo"===o.modalidad?m({salarioBase:o.salarioporquincena||"",bonoAsistencia:o.bonificacion||"",viaticos:o.viaticos_diarios||"",pagoHoraExtra:o.pagoporhoraextra||""}):"temporal"===o.modalidad&&m({salarioDia:o.salariopordia||"",pagoHoraExtra:o.pagoporhoraextra||""})},[o]);const u=a=>{const{name:e,value:o}=a.target;m(a=>(0,r.A)((0,r.A)({},a),{},{[e]:o}))};return(0,n.jsxs)("div",{className:"p-4 rounded-xl shadow bg-white",children:[(0,n.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"\u2699\ufe0f Modificar Datos de Trabajo"}),"fijo"===o.modalidad&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block font-medium mb-1",children:"Salario por quincena (Q)"}),(0,n.jsx)("input",{type:"number",name:"salarioBase",value:c.salarioBase,onChange:u,className:"border p-2 rounded w-full"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block font-medium mb-1",children:"Bono por d\xeda trabajado (Q)"}),(0,n.jsx)("input",{type:"number",name:"bonoAsistencia",value:c.bonoAsistencia,onChange:u,className:"border p-2 rounded w-full"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block font-medium mb-1",children:"Vi\xe1ticos diarios (Q)"}),(0,n.jsx)("input",{type:"number",name:"viaticos",value:c.viaticos,onChange:u,className:"border p-2 rounded w-full"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block font-medium mb-1",children:"Pago por hora extra (Q)"}),(0,n.jsx)("input",{type:"number",name:"pagoHoraExtra",value:c.pagoHoraExtra,onChange:u,className:"border p-2 rounded w-full"})]})]}),"temporal"===o.modalidad&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block font-medium mb-1",children:"Salario por d\xeda (Q)"}),(0,n.jsx)("input",{type:"number",name:"salarioDia",value:c.salarioDia,onChange:u,className:"border p-2 rounded w-full"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block font-medium mb-1",children:"Pago por hora extra (Q)"}),(0,n.jsx)("input",{type:"number",name:"pagoHoraExtra",value:c.pagoHoraExtra,onChange:u,className:"border p-2 rounded w-full"})]})]}),(0,n.jsxs)("div",{className:"flex gap-4 justify-center mt-4",children:[(0,n.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700",onClick:async()=>{let a={};"fijo"===o.modalidad?a={salarioporquincena:c.salarioBase||null,bonificacion:c.bonoAsistencia||null,viaticos_diarios:c.viaticos||null,horas_extras:c.pagoHoraExtra||null}:"temporal"===o.modalidad&&(a={salariopordia:c.salarioDia||null,horas_extras:c.pagoHoraExtra||null});const{error:r}=await i.default.from("registrodepersonal").update(a).eq("id",o.id);r?(console.error("Error al actualizar:",r),alert("Ocurri\xf3 un error al actualizar los datos.")):(alert("Datos actualizados correctamente."),await(0,l.F)(e,"Modificaci\xf3n de datos de trabajo","El usuario modific\xf3 datos de: ".concat(o.nombrecompleto)),t&&t(),d())},children:"Guardar"}),(0,n.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded shadow hover:bg-red-700",onClick:d,children:"Cerrar"})]})]})}}}]);
//# sourceMappingURL=849.8e637fea.chunk.js.map