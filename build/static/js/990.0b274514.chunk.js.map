{"version":3,"file":"static/js/990.0b274514.chunk.js","mappings":"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","sources":["modules/Personal/AgregarPersonal.jsx"],"sourcesContent":["// AgregarPersonal.jsx\r\nimport { useEffect, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport supabase from \"../../supabase\";\nimport { guardarLog } from \"../../utils\";\nexport default function AgregarPersonal({ usuario }) {\n  const [tipoPersonal, setTipoPersonal] = useState(\"\");\n  const [dpiStatus, setDpiStatus] = useState(\"idle\");\n  const [modalState, setModalState] = useState({\n    open: false,\n    title: \"\",\n    message: \"\",\n    tone: \"neutral\",\n  });\n  const [datos, setDatos] = useState({\n    nombre: \"\",\n    salarioQuincena: \"\",\n    bonificacion: \"\",\r\n    horaExtra: \"\",\r\n    viaticos_diarios: \"\",\r\n    fechaIngreso: \"\",\r\n    dpi: \"\",\r\n    telefono: \"\",\r\n    fotoPapeleria: null,\n  });\n  const modalRoot = typeof document !== \"undefined\" ? document.body : null;\n\n  const normalizeDpi = (value) => String(value || \"\").replace(/\\D/g, \"\");\n  const normalizePhone = (value) => String(value || \"\").replace(/\\D/g, \"\");\n\n  const formatDpi = (value) => {\n    const digits = normalizeDpi(value).slice(0, 13);\n    const part1 = digits.slice(0, 4);\n    const part2 = digits.slice(4, 9);\n    const part3 = digits.slice(9, 13);\n    return [part1, part2, part3].filter(Boolean).join(\"-\");\n  };\n\n  const formatPhone = (value) => {\n    const digits = normalizePhone(value).slice(0, 8);\n    return digits.replace(/(\\d{4})(\\d+)/, \"$1-$2\");\n  };\n\n  const openModal = (title, message, tone = \"neutral\") => {\n    setModalState({ open: true, title, message, tone });\n  };\n\n  const closeModal = () => {\n    setModalState((prev) => ({ ...prev, open: false }));\n  };\n\n  useEffect(() => {\n    const dpiValue = normalizeDpi(datos.dpi);\n    if (!dpiValue) {\n      setDpiStatus(\"idle\");\n      return undefined;\n    }\n\n    setDpiStatus(\"checking\");\n    const timer = setTimeout(async () => {\n      const { data, error } = await supabase\n        .from(\"registrodepersonal\")\n        .select(\"id\")\n        .eq(\"dpi\", dpiValue)\n        .limit(1);\n\n      if (error) {\n        setDpiStatus(\"idle\");\n        return;\n      }\n\n      const exists = Array.isArray(data) && data.length > 0;\n      setDpiStatus(exists ? \"exists\" : \"available\");\n    }, 500);\n\n    return () => clearTimeout(timer);\n  }, [datos.dpi]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    if (name === \"dpi\") {\n      setDatos((prev) => ({ ...prev, [name]: formatDpi(value) }));\n      return;\n    }\n    if (name === \"telefono\") {\n      setDatos((prev) => ({ ...prev, [name]: formatPhone(value) }));\n      return;\n    }\n    setDatos((prev) => ({ ...prev, [name]: value }));\n  };\n\r\n  const handleFoto = (e) => {\r\n    setDatos((prev) => ({ ...prev, fotoPapeleria: e.target.files[0] }));\r\n  };\r\n\r\n  const handleGuardar = async () => {\n    if (!datos.nombre.trim() || !tipoPersonal) {\n      openModal(\n        \"Faltan datos\",\n        \"Completa el nombre y selecciona el tipo de personal.\",\n        \"error\"\n      );\n      return;\n    }\n    if (!normalizeDpi(datos.dpi)) {\n      openModal(\n        \"Faltan datos\",\n        \"Por favor, ingresa el DPI del trabajador.\",\n        \"error\"\n      );\n      return;\n    }\n\r\n    let urlPapeleria = null;\r\n\r\n    if (datos.fotoPapeleria) {\r\n      const archivo = datos.fotoPapeleria;\r\n      const nombreArchivo = `${Date.now()}_${archivo.name}`;\r\n      const { error: errorUpload } = await supabase.storage\r\n        .from(\"papeleria\")\r\n        .upload(nombreArchivo, archivo);\r\n\r\n      if (errorUpload) {\n        console.error(errorUpload);\n        openModal(\n          \"Error al subir archivo\",\n          errorUpload.message || \"No se pudo subir la papeleria.\",\n          \"error\"\n        );\n        return;\n      }\n\r\n      const { data: { publicUrl } } = supabase.storage\r\n        .from(\"papeleria\")\r\n        .getPublicUrl(nombreArchivo);\r\n\r\n      urlPapeleria = publicUrl;\r\n    }\r\n\r\n    const payload = {\n      nombrecompleto: datos.nombre.trim(),\n      modalidad: tipoPersonal,\n      salariopordia:\n        tipoPersonal === \"temporal\"\n          ? parseFloat(datos.salarioQuincena || 0)\n          : null,\n      salarioporquincena:\n        tipoPersonal === \"fijo\" ? parseFloat(datos.salarioQuincena || 0) : null,\n      bonificacion:\n        tipoPersonal === \"fijo\" ? parseFloat(datos.bonificacion || 0) : null,\n      pagoporhoraextra: parseFloat(datos.horaExtra || 0),\n      viaticos_diarios:\n        tipoPersonal === \"fijo\" ? parseFloat(datos.viaticos_diarios || 0) : null,\n      fechadeingreso: datos.fechaIngreso || new Date().toISOString().slice(0, 10),\n      dpi: normalizeDpi(datos.dpi),\n      telefono: normalizePhone(datos.telefono),\n      ...(urlPapeleria ? { urlpapeleria: urlPapeleria } : {}),\n    };\n\n    const { data: existing, error: lookupError } = await supabase\n      .from(\"registrodepersonal\")\n      .select(\"id\")\n      .eq(\"dpi\", payload.dpi)\n      .limit(1);\n\n    if (lookupError) {\n      console.error(lookupError);\n      openModal(\n        \"Error al validar DPI\",\n        lookupError.message || \"Ocurrio un error al validar el DPI.\",\n        \"error\"\n      );\n      return;\n    }\n\n    const hasExisting = Array.isArray(existing) && existing.length > 0;\n\n    if (hasExisting) {\n      openModal(\n        \"DPI ya registrado\",\n        \"Ese DPI ya existe. No se puede registrar otra persona con el mismo DPI.\",\n        \"error\"\n      );\n      return;\n    }\n\n    const { error } = await supabase\n      .from(\"registrodepersonal\")\n      .insert([payload]);\n\r\n    if (!error) {\n      openModal(\n        \"Personal agregado\",\n        \"El personal fue agregado correctamente.\",\n        \"success\"\n      );\n      await guardarLog(\n        usuario,\n        \"Registro de nuevo personal\",\n        `Se agreg√≥ al trabajador: ${datos.nombre}`\n      );\n\r\n      setDatos({\r\n        nombre: \"\",\r\n        salarioQuincena: \"\",\r\n        bonificacion: \"\",\r\n        horaExtra: \"\",\r\n        viaticos_diarios: \"\",\r\n        fechaIngreso: \"\",\r\n        dpi: \"\",\r\n        telefono: \"\",\r\n        fotoPapeleria: null,\r\n      });\r\n      setTipoPersonal(\"\");\r\n    } else {\n      console.error(error);\n      openModal(\n        \"Error al guardar\",\n        error.message || \"Ocurrio un error al guardar el personal.\",\n        \"error\"\n      );\n    }\n  };\n\r\n  return (\r\n    <div className=\"bg-white/60 p-6 rounded-xl shadow-md max-w-3xl mx-auto mt-6\">\r\n      <h2 className=\"text-xl font-bold mb-2 text-center text-gray-800\">üìù Registro de Personal</h2>\r\n\r\n      {!tipoPersonal ? (\r\n        <div className=\"text-center\">\r\n          <p className=\"text-gray-700 font-medium mb-4\">¬øQu√© tipo de personal deseas registrar?</p>\r\n          <div className=\"flex justify-center gap-6\">\r\n            <button\r\n              onClick={() => setTipoPersonal(\"fijo\")}\r\n              className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\r\n            >\r\n              Personal Fijo\r\n            </button>\r\n            <button\r\n              onClick={() => setTipoPersonal(\"temporal\")}\r\n              className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition\"\r\n            >\r\n              Personal Temporal\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Nombre completo\"\r\n            name=\"nombre\"\n            value={datos.nombre}\n            onChange={handleChange}\n            autoComplete=\"off\"\n            className=\"border p-2 rounded\"\n          />\r\n\r\n          <div className=\"relative\">\n            <input\n              type=\"text\"\n              placeholder=\"No. DPI\"\n              name=\"dpi\"\n              value={datos.dpi}\n              onChange={handleChange}\n              autoComplete=\"off\"\n              className={`border p-2 pr-10 rounded w-full ${\n                dpiStatus === \"available\"\n                  ? \"border-green-500\"\n                  : dpiStatus === \"exists\"\n                  ? \"border-red-500\"\n                  : \"\"\n              }`}\n            />\n            <div className=\"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2 text-xs\">\n              {dpiStatus === \"checking\" && (\n                <span className=\"inline-block h-4 w-4 animate-spin rounded-full border-2 border-slate-300 border-t-slate-600\" />\n              )}\n              {dpiStatus === \"available\" && (\n                <>\n                  <span className=\"text-green-600\">DPI disponible</span>\n                  <span className=\"text-green-600\">‚úì</span>\n                </>\n              )}\n              {dpiStatus === \"exists\" && (\n                <>\n                  <span className=\"text-red-600\">DPI ya registrado</span>\n                  <span className=\"text-red-600\">‚úï</span>\n                </>\n              )}\n            </div>\n          </div>\n\n          <input\n            type=\"number\"\n            placeholder={tipoPersonal === \"fijo\" ? \"Salario por quincena\" : \"Salario por d√≠a\"}\r\n            name=\"salarioQuincena\"\n            value={datos.salarioQuincena}\n            onChange={handleChange}\n            autoComplete=\"off\"\n            className=\"border p-2 rounded\"\n          />\r\n\r\n          {tipoPersonal === \"fijo\" && (\r\n            <>\r\n              <input\r\n                type=\"number\"\r\n                placeholder=\"Bono por d√≠a trabajado\"\r\n                name=\"bonificacion\"\n                value={datos.bonificacion}\n                onChange={handleChange}\n                autoComplete=\"off\"\n                className=\"border p-2 rounded\"\n              />\r\n              <input\r\n                type=\"number\"\r\n                placeholder=\"Vi√°ticos\"\r\n                name=\"viaticos_diarios\"\n                value={datos.viaticos_diarios}\n                onChange={handleChange}\n                autoComplete=\"off\"\n                className=\"border p-2 rounded\"\n              />\r\n            </>\r\n          )}\r\n\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"Pago por hora extra\"\r\n            name=\"horaExtra\"\n            value={datos.horaExtra}\n            onChange={handleChange}\n            autoComplete=\"off\"\n            className=\"border p-2 rounded\"\n          />\r\n          <input\r\n            type=\"date\"\r\n            name=\"fechaIngreso\"\n            value={datos.fechaIngreso}\n            onChange={handleChange}\n            autoComplete=\"off\"\n            className=\"border p-2 rounded\"\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Tel√©fono\"\r\n            name=\"telefono\"\n            value={datos.telefono}\n            onChange={handleChange}\n            autoComplete=\"off\"\n            className=\"border p-2 rounded\"\n          />\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Papeler√≠a</label>\r\n            <input\r\n              type=\"file\"\n              onChange={handleFoto}\n              autoComplete=\"off\"\n              className=\"border p-2 rounded w-full\"\n            />\r\n          </div>\r\n\r\n          <div className=\"flex justify-between mt-6 col-span-full\">\r\n            <button\r\n              onClick={() => setTipoPersonal(\"\")}\r\n              className=\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition\"\r\n            >\r\n              Volver\r\n            </button>\r\n            <button\r\n              onClick={handleGuardar}\r\n              className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition\"\r\n            >\r\n              Guardar personal\r\n            </button>\r\n          </div>\r\n        </div>\n      )}\n\n      {modalState.open &&\n        modalRoot &&\n        createPortal(\n          <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4 py-6\">\n            <div className=\"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-lg\">\n              <div className=\"flex items-start justify-between gap-4\">\n                <div>\n                  <h3 className=\"text-lg font-semibold text-slate-900\">\n                    {modalState.title}\n                  </h3>\n                  <p\n                    className={`mt-2 text-sm ${\n                      modalState.tone === \"success\"\n                        ? \"text-emerald-600\"\n                        : modalState.tone === \"error\"\n                        ? \"text-red-600\"\n                        : \"text-slate-600\"\n                    }`}\n                  >\n                    {modalState.message}\n                  </p>\n                </div>\n                <button\n                  type=\"button\"\n                  className=\"text-sm font-medium text-slate-500 hover:text-slate-700\"\n                  onClick={closeModal}\n                >\n                  Cerrar\n                </button>\n              </div>\n              <div className=\"mt-6 flex justify-end\">\n                <button\n                  type=\"button\"\n                  className=\"rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-slate-800\"\n                  onClick={closeModal}\n                >\n                  Aceptar\n                </button>\n              </div>\n            </div>\n          </div>,\n          modalRoot\n        )}\n    </div>\n  );\n}\n\r\n"],"names":["AgregarPersonal","_ref","usuario","tipoPersonal","setTipoPersonal","useState","dpiStatus","setDpiStatus","modalState","setModalState","open","title","message","tone","datos","setDatos","nombre","salarioQuincena","bonificacion","horaExtra","viaticos_diarios","fechaIngreso","dpi","telefono","fotoPapeleria","modalRoot","document","body","normalizeDpi","value","String","replace","normalizePhone","formatDpi","digits","slice","filter","Boolean","join","formatPhone","openModal","arguments","length","undefined","closeModal","prev","_objectSpread","useEffect","dpiValue","timer","setTimeout","async","data","error","supabase","from","select","eq","limit","exists","Array","isArray","clearTimeout","handleChange","e","name","target","_jsxs","className","children","_jsx","type","placeholder","onChange","autoComplete","concat","_Fragment","files","onClick","trim","urlPapeleria","archivo","nombreArchivo","Date","now","errorUpload","storage","upload","console","publicUrl","getPublicUrl","payload","nombrecompleto","modalidad","salariopordia","parseFloat","salarioporquincena","pagoporhoraextra","fechadeingreso","toISOString","urlpapeleria","existing","lookupError","insert","guardarLog","createPortal"],"sourceRoot":""}